"use strict";(self.webpackChunkCapella=self.webpackChunkCapella||[]).push([[792],{118:()=>{function zs(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(i,o)}function Us(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var r=e.apply(t,n);function s(c){zs(r,i,o,s,a,"next",c)}function a(c){zs(r,i,o,s,a,"throw",c)}s(void 0)})}}let Ze=null,jc=1;const wo=Symbol("SIGNAL");function ne(e){const t=Ze;return Ze=e,t}function Fv(e){if((!Hs(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==jc)){if(!e.producerMustRecompute(e)&&!Xd(e))return e.dirty=!1,void(e.lastCleanEpoch=jc);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=jc}}function Xd(e){lr(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(Fv(n),i!==n.version))return!0}return!1}function Hc(e,t){if(function $v(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),lr(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)Hc(e.producerNode[i],e.producerIndexOfThis[i]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];lr(o),o.producerIndexOfThis[i]=t}}function Hs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function lr(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Gv=null;function Be(e){return"function"==typeof e}function Jd(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const eh=Jd(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,o)=>`${o+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function th(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Xt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const r of n)r.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(Be(i))try{i()}catch(r){t=r instanceof eh?r.errors:[r]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const r of o)try{Qv(r)}catch(s){t=t??[],s instanceof eh?t=[...t,...s.errors]:t.push(s)}}if(t)throw new eh(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Qv(t);else{if(t instanceof Xt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&th(n,t)}remove(t){const{_finalizers:n}=this;n&&th(n,t),t instanceof Xt&&t._removeParent(this)}}Xt.EMPTY=(()=>{const e=new Xt;return e.closed=!0,e})();const Yv=Xt.EMPTY;function Zv(e){return e instanceof Xt||e&&"closed"in e&&Be(e.remove)&&Be(e.add)&&Be(e.unsubscribe)}function Qv(e){Be(e)?e():e.unsubscribe()}const Mo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$c={setTimeout(e,t,...n){const{delegate:i}=$c;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=$c;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Xv(e){$c.setTimeout(()=>{const{onUnhandledError:t}=Mo;if(!t)throw e;t(e)})}function nh(){}const j1=ih("C",void 0,void 0);function ih(e,t,n){return{kind:e,value:t,error:n}}let Do=null;function Gc(e){if(Mo.useDeprecatedSynchronousErrorHandling){const t=!Do;if(t&&(Do={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=Do;if(Do=null,n)throw i}}else e()}class oh extends Xt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Zv(t)&&t.add(this)):this.destination=Z1}static create(t,n,i){return new sh(t,n,i)}next(t){this.isStopped?ah(function $1(e){return ih("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ah(function H1(e){return ih("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ah(j1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W1=Function.prototype.bind;function rh(e,t){return W1.call(e,t)}class q1{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Wc(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Wc(i)}else Wc(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Wc(n)}}}class sh extends oh{constructor(t,n,i){let o;if(super(),Be(t)||!t)o={next:t??void 0,error:n??void 0,complete:i??void 0};else{let r;this&&Mo.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&rh(t.next,r),error:t.error&&rh(t.error,r),complete:t.complete&&rh(t.complete,r)}):o=t}this.destination=new q1(o)}}function Wc(e){Mo.useDeprecatedSynchronousErrorHandling?function G1(e){Mo.useDeprecatedSynchronousErrorHandling&&Do&&(Do.errorThrown=!0,Do.error=e)}(e):Xv(e)}function ah(e,t){const{onStoppedNotification:n}=Mo;n&&$c.setTimeout(()=>n(e,t))}const Z1={closed:!0,next:nh,error:function Y1(e){throw e},complete:nh},ch="function"==typeof Symbol&&Symbol.observable||"@@observable";function Eo(e){return e}function Kv(e){return 0===e.length?Eo:1===e.length?e[0]:function(n){return e.reduce((i,o)=>o(i),n)}}let gt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,o){const r=function K1(e){return e&&e instanceof oh||function X1(e){return e&&Be(e.next)&&Be(e.error)&&Be(e.complete)}(e)&&Zv(e)}(n)?n:new sh(n,i,o);return Gc(()=>{const{operator:s,source:a}=this;r.add(s?s.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=Jv(i))((o,r)=>{const s=new sh({next:a=>{try{n(a)}catch(c){r(c),s.unsubscribe()}},error:r,complete:o});this.subscribe(s)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[ch](){return this}pipe(...n){return Kv(n)(this)}toPromise(n){return new(n=Jv(n))((i,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>i(r))})}}return e.create=t=>new e(t),e})();function Jv(e){var t;return null!==(t=e??Mo.Promise)&&void 0!==t?t:Promise}const J1=Jd(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let bn=(()=>{class e extends gt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new e_(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new J1}next(n){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:o,observers:r}=this;return i||o?Yv:(this.currentObservers=null,r.push(n),new Xt(()=>{this.currentObservers=null,th(r,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:o,isStopped:r}=this;i?n.error(o):r&&n.complete()}asObservable(){const n=new gt;return n.source=this,n}}return e.create=(t,n)=>new e_(t,n),e})();class e_ extends bn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:Yv}}class wn extends bn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function t_(e){return Be(e?.lift)}function Dt(e){return t=>{if(t_(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(e,t,n,i,o){return new eO(e,t,n,i,o)}class eO extends oh{constructor(t,n,i,o,r,s){super(t),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ye(e,t){return Dt((n,i)=>{let o=0;n.subscribe(st(i,r=>{i.next(e.call(t,r,o++))}))})}const n_="https://g.co/ng/security#xss";class E extends Error{constructor(t,n){super(function ur(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Mi(e){return{toString:e}.toString()}const hr="__parameters__";function pr(e,t,n){return Mi(()=>{const i=function lh(e){return function(...n){if(e){const i=e(...n);for(const o in i)this[o]=i[o]}}}(t);function o(...r){if(this instanceof o)return i.apply(this,r),this;const s=new o(...r);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(hr)?c[hr]:Object.defineProperty(c,hr,{value:[]})[hr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const Ce=globalThis;function be(e){for(let t in e)if(e[t]===be)return t;throw Error("Could not find renamed property on target object.")}function tO(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function at(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(at).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function uh(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const nO=be({__forward_ref__:be});function Ie(e){return e.__forward_ref__=Ie,e.toString=function(){return at(this())},e}function $(e){return Yc(e)?e():e}function Yc(e){return"function"==typeof e&&e.hasOwnProperty(nO)&&e.__forward_ref__===Ie}function F(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Yn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Zc(e){return s_(e,Xc)||s_(e,a_)}function s_(e,t){return e.hasOwnProperty(t)?e[t]:null}function Qc(e){return e&&(e.hasOwnProperty(dh)||e.hasOwnProperty(cO))?e[dh]:null}const Xc=be({\u0275prov:be}),dh=be({\u0275inj:be}),a_=be({ngInjectableDef:be}),cO=be({ngInjectorDef:be});class R{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mh(e){return e&&!!e.\u0275providers}const $s=be({\u0275cmp:be}),vh=be({\u0275dir:be}),_h=be({\u0275pipe:be}),l_=be({\u0275mod:be}),Di=be({\u0275fac:be}),Gs=be({__NG_ELEMENT_ID__:be}),u_=be({__NG_ENV_ID__:be});function Q(e){return"string"==typeof e?e:null==e?"":String(e)}function Ch(e,t){throw new E(-201,!1)}var re=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(re||{});let yh;function d_(){return yh}function Kt(e){const t=yh;return yh=e,t}function h_(e,t,n){const i=Zc(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&re.Optional?null:void 0!==t?t:void Ch()}const Ws={},bh="__NG_DI_FLAG__",Kc="ngTempTokenPath",pO=/\n/gm,f_="__source";let gr;function Zi(e){const t=gr;return gr=e,t}function vO(e,t=re.Default){if(void 0===gr)throw new E(-203,!1);return null===gr?h_(e,void 0,t):gr.get(e,t&re.Optional?null:void 0,t)}function j(e,t=re.Default){return(d_()||vO)($(e),t)}function S(e,t=re.Default){return j(e,Jc(t))}function Jc(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function wh(e){const t=[];for(let n=0;n<e.length;n++){const i=$(e[n]);if(Array.isArray(i)){if(0===i.length)throw new E(900,!1);let o,r=re.Default;for(let s=0;s<i.length;s++){const a=i[s],c=_O(a);"number"==typeof c?-1===c?o=a.token:r|=c:o=a}t.push(j(o,r))}else t.push(j(i))}return t}function qs(e,t){return e[bh]=t,e.prototype[bh]=t,e}function _O(e){return e[bh]}const el=qs(pr("Optional"),8),tl=qs(pr("SkipSelf"),4);function So(e,t){return e.hasOwnProperty(Di)?e[Di]:null}function mr(e,t){e.forEach(n=>Array.isArray(n)?mr(n,t):t(n))}function g_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function nl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ln(e,t,n){let i=vr(e,t);return i>=0?e[1|i]=n:(i=~i,function m_(e,t,n,i){let o=e.length;if(o==t)e.push(n,i);else if(1===o)e.push(i,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function Dh(e,t){const n=vr(e,t);if(n>=0)return e[1|n]}function vr(e,t){return function v_(e,t,n){let i=0,o=e.length>>n;for(;o!==i;){const r=i+(o-i>>1),s=e[r<<n];if(t===s)return r<<n;s>t?o=r:i=r+1}return~(o<<n)}(e,t,1)}const Zn={},de=[],Po=new R(""),__=new R("",-1),Eh=new R("");class ol{get(t,n=Ws){if(n===Ws){const i=new Error(`NullInjectorError: No provider for ${at(t)}!`);throw i.name="NullInjectorError",i}return n}}var rl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(rl||{}),In=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(In||{}),ze=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ze||{});function EO(e,t,n){let i=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const r=t.length;if(o+r===i||e.charCodeAt(o+r)<=32)return o}n=o+1}}function Sh(e,t,n){let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const r=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,r)}else{const r=o,s=n[++i];y_(r)?e.setProperty(t,r,s):e.setAttribute(t,r,s),i++}}return i}function C_(e){return 3===e||4===e||6===e}function y_(e){return 64===e.charCodeAt(0)}function Ys(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const o=t[i];"number"==typeof o?n=o:0===n||b_(e,n,o,null,-1===n||2===n?t[++i]:null)}}return e}function b_(e,t,n,i,o){let r=0,s=e.length;if(-1===t)s=-1;else for(;r<e.length;){const a=e[r++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=r-1;break}}}for(;r<e.length;){const a=e[r];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==o&&(e[r+1]=o));if(i===e[r+1])return void(e[r+2]=o)}r++,null!==i&&r++,null!==o&&r++}-1!==s&&(e.splice(s,0,t),r=s+1),e.splice(r++,0,n),null!==i&&e.splice(r++,0,i),null!==o&&e.splice(r++,0,o)}const w_="ng-template";function SO(e,t,n,i){let o=0;if(i){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==EO(t[o+1].toLowerCase(),n,0))return!0}else if(Ph(e))return!1;if(o=t.indexOf(1,o),o>-1){let r;for(;++o<t.length&&"string"==typeof(r=t[o]);)if(r.toLowerCase()===n)return!0}return!1}function Ph(e){return 4===e.type&&e.value!==w_}function PO(e,t,n){return t===(4!==e.type||n?e.value:w_)}function xO(e,t,n){let i=4;const o=e.attrs,r=null!==o?function IO(e){for(let t=0;t<e.length;t++)if(C_(e[t]))return t;return e.length}(o):0;let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!PO(e,c,n)||""===c&&1===t.length){if(kn(i))return!1;s=!0}}else if(8&i){if(null===o||!SO(e,o,c,n)){if(kn(i))return!1;s=!0}}else{const l=t[++a],u=OO(c,o,Ph(e),n);if(-1===u){if(kn(i))return!1;s=!0;continue}if(""!==l){let d;if(d=u>r?"":o[u+1].toLowerCase(),2&i&&l!==d){if(kn(i))return!1;s=!0}}}}else{if(!s&&!kn(i)&&!kn(c))return!1;if(s&&kn(c))continue;s=!1,i=c|1&i}}return kn(i)||s}function kn(e){return!(1&e)}function OO(e,t,n,i){if(null===t)return-1;let o=0;if(i||!n){let r=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)r=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=r?1:2}return-1}return function kO(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function M_(e,t,n=!1){for(let i=0;i<t.length;i++)if(xO(e,t[i],n))return!0;return!1}function D_(e,t){return e?":not("+t.trim()+")":t}function NO(e){let t=e[0],n=1,i=2,o="",r=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?o+="."+s:4&i&&(o+=" "+s);else""!==o&&!kn(s)&&(t+=D_(r,o),o=""),i=s,r=r||!kn(i);n++}return""!==o&&(t+=D_(r,o)),t}function L(e){return Mi(()=>{const t=S_(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||In.Emulated,styles:e.styles||de,_:null,schemas:e.schemas||null,tView:null,id:""};P_(n);const i=e.dependencies;return n.directiveDefs=sl(i,!1),n.pipeDefs=sl(i,!0),n.id=function zO(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function LO(e){return oe(e)||ct(e)}function VO(e){return null!==e}function Ei(e){return Mi(()=>({type:e.type,bootstrap:e.bootstrap||de,declarations:e.declarations||de,imports:e.imports||de,exports:e.exports||de,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function E_(e,t){if(null==e)return Zn;const n={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];let r,s,a=ze.None;Array.isArray(o)?(a=o[0],r=o[1],s=o[2]??r):(r=o,s=o),t?(n[r]=a!==ze.None?[i,a]:i,t[r]=s):n[r]=i}return n}function G(e){return Mi(()=>{const t=S_(e);return P_(t),t})}function oe(e){return e[$s]||null}function ct(e){return e[vh]||null}function Et(e){return e[_h]||null}function xt(e,t){const n=e[l_]||null;if(!n&&!0===t)throw new Error(`Type ${at(e)} does not have '\u0275mod' property.`);return n}function S_(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Zn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||de,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:E_(e.inputs,t),outputs:E_(e.outputs),debugInfo:null}}function P_(e){e.features?.forEach(t=>t(e))}function sl(e,t){if(!e)return null;const n=t?Et:LO;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(VO)}function UO(...e){return{\u0275providers:xh(0,e),\u0275fromNgModule:!0}}function xh(e,...t){const n=[],i=new Set;let o;const r=s=>{n.push(s)};return mr(t,s=>{const a=s;cl(a,r,[],i)&&(o||=[],o.push(a))}),void 0!==o&&x_(o,r),n}function x_(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:o}=e[n];Oh(o,r=>{t(r,i)})}}function cl(e,t,n,i){if(!(e=$(e)))return!1;let o=null,r=Qc(e);const s=!r&&oe(e);if(r||s){if(s&&!s.standalone)return!1;o=e}else{const c=e.ngModule;if(r=Qc(c),!r)return!1;o=c}const a=i.has(o);if(s){if(a)return!1;if(i.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)cl(l,t,n,i)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let l;i.add(o);try{mr(r.imports,u=>{cl(u,t,n,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&x_(l,t)}if(!a){const l=So(o)||(()=>new o);t({provide:o,useFactory:l,deps:de},o),t({provide:Eh,useValue:o,multi:!0},o),t({provide:Po,useValue:()=>j(o),multi:!0},o)}const c=r.providers;if(null!=c&&!a){const l=e;Oh(c,u=>{t(u,l)})}}}return o!==e&&void 0!==e.providers}function Oh(e,t){for(let n of e)mh(n)&&(n=n.\u0275providers),Array.isArray(n)?Oh(n,t):t(n)}const jO=be({provide:String,useValue:be});function Th(e){return null!==e&&"object"==typeof e&&jO in e}function xo(e){return"function"==typeof e}const Ih=new R(""),ll={},$O={};let kh;function ul(){return void 0===kh&&(kh=new ol),kh}class tn{}class _r extends tn{get destroyed(){return this._destroyed}constructor(t,n,i,o){super(),this.parent=n,this.source=i,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nh(t,s=>this.processProvider(s)),this.records.set(__,Cr(void 0,this)),o.has("environment")&&this.records.set(tn,Cr(void 0,this));const r=this.records.get(Ih);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Eh,de,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ne(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Zi(this),i=Kt(void 0);try{return t()}finally{Zi(n),Kt(i)}}get(t,n=Ws,i=re.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(u_))return t[u_](this);i=Jc(i);const r=Zi(this),s=Kt(void 0);try{if(!(i&re.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function ZO(e){return"function"==typeof e||"object"==typeof e&&e instanceof R}(t)&&Zc(t);c=l&&this.injectableDefInScope(l)?Cr(Ah(t),ll):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(i&re.Self?ul():this.parent).get(t,n=i&re.Optional&&n===Ws?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Kc]=a[Kc]||[]).unshift(at(t)),r)throw a;return function CO(e,t,n,i){const o=e[Kc];throw t[f_]&&o.unshift(t[f_]),e.message=function yO(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=at(t);if(Array.isArray(t))o=t.map(at).join(" -> ");else if("object"==typeof t){let r=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];r.push(s+":"+("string"==typeof a?JSON.stringify(a):at(a)))}o=`{${r.join(", ")}}`}return`${n}${i?"("+i+")":""}[${o}]: ${e.replace(pO,"\n  ")}`}("\n"+e.message,o,n,i),e.ngTokenPath=o,e[Kc]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Kt(s),Zi(r)}}resolveInjectorInitializers(){const t=ne(null),n=Zi(this),i=Kt(void 0);try{const r=this.get(Po,de,re.Self);for(const s of r)s()}finally{Zi(n),Kt(i),ne(t)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(at(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(t){let n=xo(t=$(t))?t:$(t&&t.provide);const i=function WO(e){return Th(e)?Cr(void 0,e.useValue):Cr(I_(e),ll)}(t);if(!xo(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Cr(void 0,ll,!0),o.factory=()=>wh(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,i)}hydrate(t,n){const i=ne(null);try{return n.value===ll&&(n.value=$O,n.value=n.factory()),"object"==typeof n.value&&n.value&&function YO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=$(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ah(e){const t=Zc(e),n=null!==t?t.factory:So(e);if(null!==n)return n;if(e instanceof R)throw new E(204,!1);if(e instanceof Function)return function GO(e){if(e.length>0)throw new E(204,!1);const n=function aO(e){return e&&(e[Xc]||e[a_])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new E(204,!1)}function I_(e,t,n){let i;if(xo(e)){const o=$(e);return So(o)||Ah(o)}if(Th(e))i=()=>$(e.useValue);else if(function T_(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...wh(e.deps||[]));else if(function O_(e){return!(!e||!e.useExisting)}(e))i=()=>j($(e.useExisting));else{const o=$(e&&(e.useClass||e.provide));if(!function qO(e){return!!e.deps}(e))return So(o)||Ah(o);i=()=>new o(...wh(e.deps))}return i}function Cr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Nh(e,t){for(const n of e)Array.isArray(n)?Nh(n,t):n&&mh(n)?Nh(n.\u0275providers,t):t(n)}function Si(e,t){e instanceof _r&&e.assertNotDestroyed();const i=Zi(e),o=Kt(void 0);try{return t()}finally{Zi(i),Kt(o)}}function k_(){return void 0!==d_()||null!=function mO(){return gr}()}const He=0,P=1,B=2,Qe=3,An=4,Ot=5,un=6,br=7,ke=8,tt=9,Nn=10,q=11,Qs=12,N_=13,wr=14,Ge=15,Xs=16,Mr=17,Pi=18,Ks=19,R_=20,Xi=21,fl=22,Oo=23,X=25,Fh=1,Qn=7,Dr=9,Xe=10;var Lh=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Lh||{});function Tt(e){return Array.isArray(e)&&"object"==typeof e[Fh]}function It(e){return Array.isArray(e)&&!0===e[Fh]}function Vh(e){return!!(4&e.flags)}function To(e){return e.componentOffset>-1}function gl(e){return!(1&~e.flags)}function Rn(e){return!!e.template}function Bh(e){return!!(512&e[B])}class cT{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function B_(e,t,n,i){null!==t?t.applyValueToInputSignal(t,i):e[n]=i}function Mn(){return z_}function z_(e){return e.type.prototype.ngOnChanges&&(e.setInput=uT),lT}function lT(){const e=j_(this),t=e?.current;if(t){const n=e.previous;if(n===Zn)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function uT(e,t,n,i,o){const r=this.declaredInputs[i],s=j_(e)||function dT(e,t){return e[U_]=t}(e,{previous:Zn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[r];a[r]=new cT(l&&l.currentValue,n,c===Zn),B_(e,t,o,n)}Mn.ngInherit=!0;const U_="__ngSimpleChanges__";function j_(e){return e[U_]||null}const Xn=function(e,t,n){};let G_=!1;function Se(e){for(;Array.isArray(e);)e=e[He];return e}function ea(e,t){return Se(t[e])}function zt(e,t){return Se(t[e.index])}function ta(e,t){return e.data[t]}function dn(e,t){const n=t[e];return Tt(n)?n:n[He]}function $h(e){return!(128&~e[B])}function Kn(e,t){return null==t?null:e[t]}function W_(e){e[Mr]=0}function vT(e){1024&e[B]||(e[B]|=1024,$h(e)&&na(e))}function Gh(e){return!!(9216&e[B]||e[Oo]?.dirty)}function Wh(e){e[Nn].changeDetectionScheduler?.notify(1),Gh(e)?na(e):64&e[B]&&(function fT(){return G_}()?(e[B]|=1024,na(e)):e[Nn].changeDetectionScheduler?.notify())}function na(e){e[Nn].changeDetectionScheduler?.notify();let t=Io(e);for(;null!==t&&!(8192&t[B])&&(t[B]|=8192,$h(t));)t=Io(t)}function ml(e,t){if(!(256&~e[B]))throw new E(911,!1);null===e[Xi]&&(e[Xi]=[]),e[Xi].push(t)}function Io(e){const t=e[Qe];return It(t)?t[Qe]:t}const Y={lFrame:nC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Z_(){return Y.bindingsEnabled}function M(){return Y.lFrame.lView}function se(){return Y.lFrame.tView}function ae(e){return Y.lFrame.contextLView=e,e[ke]}function ce(e){return Y.lFrame.contextLView=null,e}function we(){let e=Q_();for(;null!==e&&64===e.type;)e=e.parent;return e}function Q_(){return Y.lFrame.currentTNode}function Jn(e,t){const n=Y.lFrame;n.currentTNode=e,n.isParent=t}function Yh(){return Y.lFrame.isParent}function Ut(){const e=Y.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Fn(){return Y.lFrame.bindingIndex++}function Oi(e){const t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function xT(e,t){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,Qh(t)}function Qh(e){Y.lFrame.currentDirectiveIndex=e}function Kh(){return Y.lFrame.currentQueryIndex}function vl(e){Y.lFrame.currentQueryIndex=e}function TT(e){const t=e[P];return 2===t.type?t.declTNode:1===t.type?e[Ot]:null}function eC(e,t,n){if(n&re.SkipSelf){let o=t,r=e;for(;!(o=o.parent,null!==o||n&re.Host||(o=TT(r),null===o||(r=r[wr],10&o.type))););if(null===o)return!1;t=o,e=r}const i=Y.lFrame=tC();return i.currentTNode=t,i.lView=e,!0}function Jh(e){const t=tC(),n=e[P];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function tC(){const e=Y.lFrame,t=null===e?null:e.child;return null===t?nC(e):t}function nC(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function iC(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const oC=iC;function ef(){const e=iC();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function kt(){return Y.lFrame.selectedIndex}function ko(e){Y.lFrame.selectedIndex=e}function Ae(){const e=Y.lFrame;return ta(e.tView,e.selectedIndex)}let sC=!0;function oa(){return sC}function ei(e){sC=e}function _l(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const r=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=r;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Cl(e,t,n){aC(e,t,3,n)}function yl(e,t,n,i){(3&e[B])===n&&aC(e,t,n,i)}function tf(e,t){let n=e[B];(3&n)===t&&(n&=16383,n+=1,e[B]=n)}function aC(e,t,n,i){const r=i??-1,s=t.length-1;let a=0;for(let c=void 0!==i?65535&e[Mr]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(e[Mr]+=65536),(a<r||-1==r)&&(LT(e,n,t,c),e[Mr]=(4294901760&e[Mr])+c+2),c++}function cC(e,t){Xn(4,e,t);const n=ne(null);try{t.call(e)}finally{ne(n),Xn(5,e,t)}}function LT(e,t,n,i){const o=n[i]<0,r=n[i+1],a=e[o?-n[i]:n[i]];o?e[B]>>14<e[Mr]>>16&&(3&e[B])===t&&(e[B]+=16384,cC(a,r)):cC(a,r)}const Pr=-1;class ra{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function rf(e){return e!==Pr}function sa(e){return 32767&e}function aa(e,t){let n=function jT(e){return e>>16}(e),i=t;for(;n>0;)i=i[wr],n--;return i}let sf=!0;function bl(e){const t=sf;return sf=e,t}const lC=255,uC=5;let HT=0;const ti={};function wl(e,t){const n=dC(e,t);if(-1!==n)return n;const i=t[P];i.firstCreatePass&&(e.injectorIndex=t.length,af(i.data,e),af(t,null),af(i.blueprint,null));const o=Ml(e,t),r=e.injectorIndex;if(rf(o)){const s=sa(o),a=aa(o,t),c=a[P].data;for(let l=0;l<8;l++)t[r+l]=a[s+l]|c[s+l]}return t[r+8]=o,r}function af(e,t){e.push(0,0,0,0,0,0,0,0,t)}function dC(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ml(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,o=t;for(;null!==o;){if(i=_C(o),null===i)return Pr;if(n++,o=o[wr],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Pr}function cf(e,t,n){!function $T(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Gs)&&(i=n[Gs]),null==i&&(i=n[Gs]=HT++);const o=i&lC;t.data[e+(o>>uC)]|=1<<o}(e,t,n)}function hC(e,t,n){if(n&re.Optional||void 0!==e)return e;Ch()}function fC(e,t,n,i){if(n&re.Optional&&void 0===i&&(i=null),!(n&(re.Self|re.Host))){const o=e[tt],r=Kt(void 0);try{return o?o.get(t,i,n&re.Optional):h_(t,i,n&re.Optional)}finally{Kt(r)}}return hC(i,0,n)}function pC(e,t,n,i=re.Default,o){if(null!==e){if(2048&t[B]&&!(i&re.Self)){const s=function ZT(e,t,n,i,o){let r=e,s=t;for(;null!==r&&null!==s&&2048&s[B]&&!(512&s[B]);){const a=gC(r,s,n,i|re.Self,ti);if(a!==ti)return a;let c=r.parent;if(!c){const l=s[R_];if(l){const u=l.get(n,ti,i);if(u!==ti)return u}c=_C(s),s=s[wr]}r=c}return o}(e,t,n,i,ti);if(s!==ti)return s}const r=gC(e,t,n,i,ti);if(r!==ti)return r}return fC(t,n,i,o)}function gC(e,t,n,i,o){const r=function qT(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Gs)?e[Gs]:void 0;return"number"==typeof t?t>=0?t&lC:YT:t}(n);if("function"==typeof r){if(!eC(t,e,i))return i&re.Host?hC(o,0,i):fC(t,n,i,o);try{let s;if(s=r(i),null!=s||i&re.Optional)return s;Ch()}finally{oC()}}else if("number"==typeof r){let s=null,a=dC(e,t),c=Pr,l=i&re.Host?t[Ge][Ot]:null;for((-1===a||i&re.SkipSelf)&&(c=-1===a?Ml(e,t):t[a+8],c!==Pr&&vC(i,!1)?(s=t[P],a=sa(c),t=aa(c,t)):a=-1);-1!==a;){const u=t[P];if(mC(r,a,u.data)){const d=WT(a,t,n,s,i,l);if(d!==ti)return d}c=t[a+8],c!==Pr&&vC(i,t[P].data[a+8]===l)&&mC(r,a,t)?(s=u,a=sa(c),t=aa(c,t)):a=-1}}return o}function WT(e,t,n,i,o,r){const s=t[P],a=s.data[e+8],u=Dl(a,s,n,null==i?To(a)&&sf:i!=s&&!!(3&a.type),o&re.Host&&r===a);return null!==u?Ao(t,s,u,a):ti}function Dl(e,t,n,i,o){const r=e.providerIndexes,s=t.data,a=1048575&r,c=e.directiveStart,u=r>>20,h=o?a+u:e.directiveEnd;for(let f=i?a:a+u;f<h;f++){const g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(o){const f=s[c];if(f&&Rn(f)&&f.type===n)return c}return null}function Ao(e,t,n,i){let o=e[n];const r=t.data;if(function VT(e){return e instanceof ra}(o)){const s=o;s.resolving&&function dO(e,t){throw t&&t.join(" > "),new E(-200,e)}(function ge(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Q(e)}(r[n]));const a=bl(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Kt(s.injectImpl):null;eC(e,i,re.Default);try{o=e[n]=s.factory(void 0,r,e,i),t.firstCreatePass&&n>=i.directiveStart&&function FT(e,t,n){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=t.type.prototype;if(i){const s=z_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),r&&((n.preOrderHooks??=[]).push(e,r),(n.preOrderCheckHooks??=[]).push(e,r))}(n,r[n],t)}finally{null!==l&&Kt(l),bl(a),s.resolving=!1,oC()}}return o}function mC(e,t,n){return!!(n[t+(e>>uC)]&1<<e)}function vC(e,t){return!(e&re.Self||e&re.Host&&t)}class ut{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return pC(this._tNode,this._lView,t,Jc(i),n)}}function YT(){return new ut(we(),M())}function Ue(e){return Mi(()=>{const t=e.prototype.constructor,n=t[Di]||lf(t),i=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==i;){const r=o[Di]||lf(o);if(r&&r!==n)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function lf(e){return Yc(e)?()=>{const t=lf($(e));return t&&t()}:So(e)}function _C(e){const t=e[P],n=t.type;return 2===n?t.declTNode:1===n?e[Ot]:null}function MC(e,t=null,n=null,i){const o=DC(e,t,n,i);return o.resolveInjectorInitializers(),o}function DC(e,t=null,n=null,i,o=new Set){const r=[n||de,UO(e)];return i=i||("object"==typeof e?void 0:at(e)),new _r(r,t||ul(),i||null,o)}let jt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Ws;static#t=this.NULL=new ol;static create(n,i){if(Array.isArray(n))return MC({name:""},i,n,"");{const o=n.name??"";return MC({name:o},n.parent,n.providers,o)}}static#n=this.\u0275prov=F({token:e,providedIn:"any",factory:()=>j(__)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function df(e){return e.ngOriginalError}class ni{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&df(t);for(;n&&df(n);)n=df(n);return n||null}}const SC=new R("",{providedIn:"root",factory:()=>S(ni).handleError.bind(void 0)});let Tr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=oI;static#t=this.__NG_ENV_ID__=n=>n}return e})();class iI extends Tr{constructor(t){super(),this._lView=t}onDestroy(t){return ml(this._lView,t),()=>function qh(e,t){if(null===e[Xi])return;const n=e[Xi].indexOf(t);-1!==n&&e[Xi].splice(n,1)}(this._lView,t)}}function oI(){return new iI(M())}function rI(){return Ir(we(),M())}function Ir(e,t){return new hn(zt(e,t))}let hn=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=rI}return e})();function xC(e){return e instanceof hn?e.nativeElement:e}function hf(e){return t=>{setTimeout(e,void 0,t)}}const Ne=class sI extends bn{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,k_()&&(this.destroyRef=S(Tr,{optional:!0})??void 0)}emit(t){const n=ne(null);try{super.next(t)}finally{ne(n)}}subscribe(t,n,i){let o=t,r=n||(()=>null),s=i;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),r=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(r=hf(r),o&&(o=hf(o)),s&&(s=hf(s)));const a=super.subscribe({next:o,error:r,complete:s});return t instanceof Xt&&t.add(a),a}};function aI(){return this._results[Symbol.iterator]()}class ff{static#e=Symbol.iterator;get changes(){return this._changes??=new Ne}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=ff.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=aI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const i=function Jt(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function DO(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let o=e[i],r=t[i];if(n&&(o=n(o),r=n(r)),r!==o)return!1}return!0}(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Sl(e){return!(128&~e.flags)}const pf=new Map;let lI=0;const mf="__ngContext__";function At(e,t){Tt(t)?(e[mf]=t[Ks],function dI(e){pf.set(e[Ks],e)}(t)):e[mf]=t}function VC(e){return zC(e[Qs])}function BC(e){return zC(e[An])}function zC(e){for(;null!==e&&!It(e);)e=e[An];return e}let vf;const Ol=new R("",{providedIn:"root",factory:()=>OI}),OI="ng",YC=new R(""),No=new R("",{providedIn:"platform",factory:()=>"unknown"}),ZC=new R("",{providedIn:"root",factory:()=>function Ki(){if(void 0!==vf)return vf;if(typeof document<"u")return document;throw new E(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let QC=()=>null;function Ef(e,t,n=!1){return QC(e,t,n)}const ty=new R("",{providedIn:"root",factory:()=>!1});class sy{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${n_})`}}function Ji(e){return e instanceof sy?e.changingThisBreaksApplicationSecurity:e}const KI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Rr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Rr||{});function ii(e){const t=function va(){const e=M();return e&&e[Nn].sanitizer}();return t?t.sanitize(Rr.URL,e)||"":function ga(e,t){const n=function YI(e){return e instanceof sy&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${n_})`)}return n===t}(e,"URL")?Ji(e):function If(e){return(e=String(e)).match(KI)?e:"unsafe:"+e}(Q(e))}function fn(e){return e instanceof Function?e():e}var eo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(eo||{});let Vf;function Bf(e,t){return Vf(e,t)}function Lr(e,t,n,i,o){if(null!=i){let r,s=!1;It(i)?r=i:Tt(i)&&(s=!0,i=i[He]);const a=Se(i);0===e&&null!==n?null==o?xy(t,n,a):Ro(t,n,a,o||null,!0):1===e&&null!==n?Ro(t,n,a,o||null,!0):2===e?function ya(e,t,n){const i=Hl(e,t);i&&function Rk(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=r&&function Vk(e,t,n,i,o){const r=n[Qn];r!==Se(n)&&Lr(t,e,i,r,o);for(let a=Xe;a<n.length;a++){const c=n[a];Gl(c[P],c,e,t,i,r)}}(t,e,r,n,o)}}function Ul(e,t,n){return e.createElement(t,n)}function Ey(e,t){t[Nn].changeDetectionScheduler?.notify(1),Gl(e,t,t[q],2,null,null)}function Sy(e,t){const n=e[Dr],i=n.indexOf(t);n.splice(i,1)}function _a(e,t){if(e.length<=Xe)return;const n=Xe+t,i=e[n];if(i){const o=i[Xs];null!==o&&o!==e&&Sy(o,i),t>0&&(e[n-1][An]=i[An]);const r=nl(e,Xe+t);!function xk(e,t){Ey(e,t),t[He]=null,t[Ot]=null}(i[P],i);const s=r[Pi];null!==s&&s.detachView(r[P]),i[Qe]=null,i[An]=null,i[B]&=-129}return i}function jl(e,t){if(!(256&t[B])){const n=t[q];n.destroyNode&&Gl(e,t,n,3,null,null),function Tk(e){let t=e[Qs];if(!t)return jf(e[P],e);for(;t;){let n=null;if(Tt(t))n=t[Qs];else{const i=t[Xe];i&&(n=i)}if(!n){for(;t&&!t[An]&&t!==e;)Tt(t)&&jf(t[P],t),t=t[Qe];null===t&&(t=e),Tt(t)&&jf(t[P],t),n=t&&t[An]}t=n}}(t)}}function jf(e,t){if(256&t[B])return;const n=ne(null);try{t[B]&=-129,t[B]|=256,t[Oo]&&function jv(e){if(lr(e),Hs(e))for(let t=0;t<e.producerNode.length;t++)Hc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Oo]),function Nk(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const o=t[n[i]];if(!(o instanceof ra)){const r=n[i+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){const a=o[r[s]],c=r[s+1];Xn(4,a,c);try{c.call(a)}finally{Xn(5,a,c)}}else{Xn(4,o,r);try{r.call(o)}finally{Xn(5,o,r)}}}}}(e,t),function Ak(e,t){const n=e.cleanup,i=t[br];if(null!==n)for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const s=n[r+3];s>=0?i[s]():i[-s].unsubscribe(),r+=2}else n[r].call(i[n[r+1]]);null!==i&&(t[br]=null);const o=t[Xi];if(null!==o){t[Xi]=null;for(let r=0;r<o.length;r++)(0,o[r])()}}(e,t),1===t[P].type&&t[q].destroy();const i=t[Xs];if(null!==i&&It(t[Qe])){i!==t[Qe]&&Sy(i,t);const o=t[Pi];null!==o&&o.detachView(e)}!function hI(e){pf.delete(e[Ks])}(t)}finally{ne(n)}}function Hf(e,t,n){return function Py(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[He];{const{componentOffset:o}=i;if(o>-1){const{encapsulation:r}=e.data[i.directiveStart+o];if(r===In.None||r===In.Emulated)return null}return zt(i,n)}}(e,t.parent,n)}function Ro(e,t,n,i,o){e.insertBefore(t,n,i,o)}function xy(e,t,n){e.appendChild(t,n)}function Oy(e,t,n,i,o){null!==i?Ro(e,t,n,i,o):xy(e,t,n)}function Hl(e,t){return e.parentNode(t)}let $f,ky=function Iy(e,t,n){return 40&e.type?zt(e,n):null};function $l(e,t,n,i){const o=Hf(e,i,t),r=t[q],a=function Ty(e,t,n){return ky(e,t,n)}(i.parent||t[Ot],i,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)Oy(r,o,n[c],a,!1);else Oy(r,o,n,a,!1);void 0!==$f&&$f(r,i,t,n,o)}function Ca(e,t){if(null!==t){const n=t.type;if(3&n)return zt(t,e);if(4&n)return Gf(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Ca(e,i);{const o=e[t.index];return It(o)?Gf(-1,o):Se(o)}}if(32&n)return Bf(t,e)()||Se(e[t.index]);{const i=Ny(e,t);return null!==i?Array.isArray(i)?i[0]:Ca(Io(e[Ge]),i):Ca(e,t.next)}}return null}function Ny(e,t){return null!==t?e[Ge][Ot].projection[t.projection]:null}function Gf(e,t){const n=Xe+e+1;if(n<t.length){const i=t[n],o=i[P].firstChild;if(null!==o)return Ca(i,o)}return t[Qn]}function Wf(e,t,n,i,o,r,s){for(;null!=n;){const a=i[n.index],c=n.type;if(s&&0===t&&(a&&At(Se(a),i),n.flags|=2),32&~n.flags)if(8&c)Wf(e,t,n.child,i,o,r,!1),Lr(t,e,o,a,r);else if(32&c){const l=Bf(n,i);let u;for(;u=l();)Lr(t,e,o,u,r);Lr(t,e,o,a,r)}else 16&c?Fy(e,t,i,n,o,r):Lr(t,e,o,a,r);n=s?n.projectionNext:n.next}}function Gl(e,t,n,i,o,r){Wf(n,i,e.firstChild,t,o,r,!1)}function Fy(e,t,n,i,o,r){const s=n[Ge],c=s[Ot].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Lr(t,e,o,c[l],r);else{let l=c;const u=s[Qe];Sl(i)&&(l.flags|=128),Wf(e,t,l,u,o,r,!0)}}function Ly(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Vy(e,t,n){const{mergedAttrs:i,classes:o,styles:r}=n;null!==i&&Sh(e,t,i),null!==o&&Ly(e,t,o),null!==r&&function zk(e,t,n){e.setAttribute(t,"style",n)}(e,t,r)}const J={};function y(e=1){By(se(),M(),kt()+e,!1)}function By(e,t,n,i){if(!i)if(3&~t[B]){const r=e.preOrderHooks;null!==r&&yl(t,r,0,n)}else{const r=e.preOrderCheckHooks;null!==r&&Cl(t,r,n)}ko(n)}function D(e,t=re.Default){const n=M();return null===n?j(e,t):pC(we(),n,$(e),t)}function Uy(e,t,n,i,o,r){const s=ne(null);try{let a=null;o&ze.SignalBased&&(a=t[i][wo]),null!==a&&void 0!==a.transformFn&&(r=a.transformFn(r)),o&ze.HasDecoratorInputTransform&&(r=e.inputTransforms[i].call(t,r)),null!==e.setInput?e.setInput(t,a,r,n,i):B_(t,a,i,r)}finally{ne(s)}}function Wl(e,t,n,i,o,r,s,a,c,l,u){const d=t.blueprint.slice();return d[He]=o,d[B]=204|i,(null!==l||e&&2048&e[B])&&(d[B]|=2048),W_(d),d[Qe]=d[wr]=e,d[ke]=n,d[Nn]=s||e&&e[Nn],d[q]=a||e&&e[q],d[tt]=c||e&&e[tt]||null,d[Ot]=r,d[Ks]=function uI(){return lI++}(),d[un]=u,d[R_]=l,d[Ge]=2==t.type?e[Ge]:d,d}function Vr(e,t,n,i,o){let r=e.data[t];if(null===r)r=function qf(e,t,n,i,o){const r=Q_(),s=Yh(),c=e.data[t]=function Yk(e,t,n,i,o,r){let s=t?t.injectorIndex:-1,a=0;return function Sr(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?r:r&&r.parent,n,t,i,o);return null===e.firstChild&&(e.firstChild=c),null!==r&&(s?null==r.child&&null!==c.parent&&(r.child=c):null===r.next&&(r.next=c,c.prev=r)),c}(e,t,n,i,o),function PT(){return Y.lFrame.inI18n}()&&(r.flags|=32);else if(64&r.type){r.type=n,r.value=i,r.attrs=o;const s=function ia(){const e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();r.injectorIndex=null===s?-1:s.injectorIndex}return Jn(r,!0),r}function ba(e,t,n,i){if(0===n)return-1;const o=t.length;for(let r=0;r<n;r++)t.push(i),e.blueprint.push(i),e.data.push(null);return o}function jy(e,t,n,i,o){const r=kt(),s=2&i;try{ko(-1),s&&t.length>X&&By(e,t,X,!1),Xn(s?2:0,o),n(i,o)}finally{ko(r),Xn(s?3:1,o)}}function Yf(e,t,n){if(Vh(t)){const i=ne(null);try{const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ne(i)}}}function Zf(e,t,n){Z_()&&(function tA(e,t,n,i){const o=n.directiveStart,r=n.directiveEnd;To(n)&&function cA(e,t,n){const i=zt(t,e),o=Hy(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=ql(e,Wl(e,o,null,s,i,t,null,e[Nn].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||wl(n,t),At(i,t);const s=n.initialInputs;for(let a=o;a<r;a++){const c=e.data[a],l=Ao(t,e,a,n);At(l,t),null!==s&&lA(0,a-o,l,c,0,s),Rn(c)&&(dn(n.index,t)[ke]=Ao(t,e,a,n))}}(e,t,n,zt(n,t)),!(64&~n.flags)&&Yy(e,t,n))}function Qf(e,t,n=zt){const i=t.localNames;if(null!==i){let o=t.index+1;for(let r=0;r<i.length;r+=2){const s=i[r+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}function Hy(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Xf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Xf(e,t,n,i,o,r,s,a,c,l,u){const d=X+i,h=d+o,f=function jk(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:J);return n}(d,h),g="function"==typeof l?l():l;return f[P]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let $y=()=>null;function Gy(e,t,n,i,o){for(let r in t){if(!t.hasOwnProperty(r))continue;const s=t[r];if(void 0===s)continue;i??={};let a,c=ze.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=r;if(null!==o){if(!o.hasOwnProperty(r))continue;l=o[r]}0===e?Wy(i,n,l,a,c):Wy(i,n,l,a)}return i}function Wy(e,t,n,i,o){let r;e.hasOwnProperty(n)?(r=e[n]).push(t,i):r=e[n]=[t,i],void 0!==o&&r.push(o)}function on(e,t,n,i,o,r,s,a){const c=zt(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[i])?(np(e,n,u,i,o),To(t)&&function Xk(e,t){const n=dn(t,e);16&n[B]||(n[B]|=64)}(n,t.index)):3&t.type&&(i=function Qk(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),o=null!=s?s(o,t.value||"",i):o,r.setProperty(c,i,o))}function Kf(e,t,n,i){if(Z_()){const o=null===i?null:{"":-1},r=function iA(e,t){const n=e.directiveRegistry;let i=null,o=null;if(n)for(let r=0;r<n.length;r++){const s=n[r];if(M_(t,s.selectors,!1))if(i||(i=[]),Rn(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),i.unshift(...a,s),Jf(e,t,a.length)}else i.unshift(s),Jf(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,i,o),i.push(s)}return null===i?null:[i,o]}(e,n);let s,a;null===r?s=a=null:[s,a]=r,null!==s&&qy(e,t,n,s,o,a),o&&function oA(e,t,n){if(t){const i=e.localNames=[];for(let o=0;o<t.length;o+=2){const r=n[t[o+1]];if(null==r)throw new E(-301,!1);i.push(t[o],r)}}}(n,i,o)}n.mergedAttrs=Ys(n.mergedAttrs,n.attrs)}function qy(e,t,n,i,o,r){for(let l=0;l<i.length;l++)cf(wl(n,t),e,i[l].type);!function sA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=ba(e,t,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];n.mergedAttrs=Ys(n.mergedAttrs,u.hostAttrs),aA(e,n,t,c,u),rA(c,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Zk(e,t,n){const o=t.directiveEnd,r=e.data,s=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<o;u++){const d=r[u],h=n?n.get(d):null,g=h?h.outputs:null;c=Gy(0,d.inputs,u,c,h?h.inputs:null),l=Gy(1,d.outputs,u,l,g);const v=null===c||null===s||Ph(t)?null:uA(c,u,s);a.push(v)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,r)}function Yy(e,t,n){const i=n.directiveStart,o=n.directiveEnd,r=n.index,s=function OT(){return Y.lFrame.currentDirectiveIndex}();try{ko(r);for(let a=i;a<o;a++){const c=e.data[a],l=t[a];Qh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&nA(c,l)}}finally{ko(-1),Qh(s)}}function nA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Jf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function rA(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Rn(t)&&(n[""]=e)}}function aA(e,t,n,i,o){e.data[i]=o;const r=o.factory||(o.factory=So(o.type)),s=new ra(r,Rn(o),D);e.blueprint[i]=s,n[i]=s,function Jk(e,t,n,i,o){const r=o.hostBindings;if(r){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function eA(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,i,r)}}(e,t,i,ba(e,n,o.hostVars,J),o)}function oi(e,t,n,i,o,r){const s=zt(e,t);!function ep(e,t,n,i,o,r,s){if(null==r)e.removeAttribute(t,o,n);else{const a=null==s?Q(r):s(r,i||"",o);e.setAttribute(t,o,a,n)}}(t[q],s,r,e.value,n,i,o)}function lA(e,t,n,i,o,r){const s=r[t];if(null!==s)for(let a=0;a<s.length;)Uy(i,n,s[a++],s[a++],s[a++],s[a++])}function uA(e,t,n){let i=null,o=0;for(;o<n.length;){const r=n[o];if(0!==r)if(5!==r){if("number"==typeof r)break;if(e.hasOwnProperty(r)){null===i&&(i=[]);const s=e[r];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(r,s[a+1],s[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return i}function Zy(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function Qy(e,t){const n=e.contentQueries;if(null!==n){const i=ne(null);try{for(let o=0;o<n.length;o+=2){const s=n[o+1];if(-1!==s){const a=e.data[s];vl(n[o]),a.contentQueries(2,t[s],s)}}}finally{ne(i)}}}function ql(e,t){return e[Qs]?e[N_][An]=t:e[Qs]=t,e[N_]=t,t}function tp(e,t,n){vl(0);const i=ne(null);try{t(e,n)}finally{ne(i)}}function Xy(e){return e[br]||(e[br]=[])}function Ky(e){return e.cleanup||(e.cleanup=[])}function Yl(e,t){const n=e[tt],i=n?n.get(ni,null):null;i&&i.handleError(t)}function np(e,t,n,i,o){for(let r=0;r<n.length;){const s=n[r++],a=n[r++],c=n[r++];Uy(e.data[s],t[s],i,a,c,o)}}function Ii(e,t,n){const i=ea(t,e);!function Dy(e,t,n){e.setValue(t,n)}(e[q],i,n)}function dA(e,t){const n=dn(t,e),i=n[P];!function hA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const o=n[He];null!==o&&null===n[un]&&(n[un]=Ef(o,n[tt])),ip(i,n,n[ke])}function ip(e,t,n){Jh(t);try{const i=e.viewQuery;null!==i&&tp(1,i,n);const o=e.template;null!==o&&jy(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Pi]?.finishViewCreation(e),e.staticContentQueries&&Qy(e,t),e.staticViewQueries&&tp(2,e.viewQuery,n);const r=e.components;null!==r&&function fA(e,t){for(let n=0;n<t.length;n++)dA(e,t[n])}(t,r)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[B]&=-5,ef()}}function wa(e,t,n,i){const o=ne(null);try{const r=t.tView,c=Wl(e,r,n,4096&e[B]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);c[Xs]=e[t.index];const u=e[Pi];return null!==u&&(c[Pi]=u.createEmbeddedView(r)),ip(r,c,n),c}finally{ne(o)}}function eb(e,t){const n=Xe+t;if(n<e.length)return e[n]}function Br(e,t){return!t||null===t.firstChild||Sl(e)}function Ma(e,t,n,i=!0){const o=t[P];if(function Ik(e,t,n,i){const o=Xe+i,r=n.length;i>0&&(n[o-1][An]=t),i<r-Xe?(t[An]=n[o],g_(n,Xe+i,t)):(n.push(t),t[An]=null),t[Qe]=n;const s=t[Xs];null!==s&&n!==s&&function kk(e,t){const n=e[Dr];t[Ge]!==t[Qe][Qe][Ge]&&(e[B]|=Lh.HasTransplantedViews),null===n?e[Dr]=[t]:n.push(t)}(s,t);const a=t[Pi];null!==a&&a.insertView(e),Wh(t),t[B]|=128}(o,t,e,n),i){const s=Gf(n,e),a=t[q],c=Hl(a,e[Qn]);null!==c&&function Ok(e,t,n,i,o,r){i[He]=o,i[Ot]=t,Gl(e,i,n,1,o,r)}(o,e[Ot],a,t,c,s)}const r=t[un];null!==r&&null!==r.firstChild&&(r.firstChild=null)}function op(e,t){const n=_a(e,t);return void 0!==n&&jl(n[P],n),n}function Da(e,t,n,i,o=!1){for(;null!==n;){const r=t[n.index];null!==r&&i.push(Se(r)),It(r)&&tb(r,i);const s=n.type;if(8&s)Da(e,t,n.child,i);else if(32&s){const a=Bf(n,t);let c;for(;c=a();)i.push(c)}else if(16&s){const a=Ny(t,n);if(Array.isArray(a))i.push(...a);else{const c=Io(t[Ge]);Da(c[P],c,a,i,!0)}}n=o?n.projectionNext:n.next}return i}function tb(e,t){for(let n=Xe;n<e.length;n++){const i=e[n],o=i[P].firstChild;null!==o&&Da(i[P],i,o,t)}e[Qn]!==e[He]&&t.push(e[Qn])}let nb=[];const vA={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{na(e.lView)},consumerOnSignalRead(){this.lView[Oo]=this}},ib=100;function Zl(e,t=!0,n=0){const i=e[Nn],o=i.rendererFactory;o.begin?.();try{!function _A(e,t){rp(e,t);let n=0;for(;Gh(e);){if(n===ib)throw new E(103,!1);n++,rp(e,1)}}(e,n)}catch(s){throw t&&Yl(e,s),s}finally{o.end?.(),i.inlineEffectRunner?.flush()}}function CA(e,t,n,i){const o=t[B];if(!(256&~o))return;t[Nn].inlineEffectRunner?.flush(),Jh(t);let s=null,a=null;(function yA(e){return 2!==e.type})(e)&&(a=function pA(e){return e[Oo]??function gA(e){const t=nb.pop()??Object.create(vA);return t.lView=e,t}(e)}(t),s=function zv(e){return e&&(e.nextProducerIndex=0),ne(e)}(a));try{W_(t),function K_(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&jy(e,t,n,2,i);const c=!(3&~o);if(c){const d=e.preOrderCheckHooks;null!==d&&Cl(t,d,null)}else{const d=e.preOrderHooks;null!==d&&yl(t,d,0,null),tf(t,0)}if(function bA(e){for(let t=VC(e);null!==t;t=BC(t)){if(!(t[B]&Lh.HasTransplantedViews))continue;const n=t[Dr];for(let i=0;i<n.length;i++){vT(n[i])}}}(t),ob(t,0),null!==e.contentQueries&&Qy(e,t),c){const d=e.contentCheckHooks;null!==d&&Cl(t,d)}else{const d=e.contentHooks;null!==d&&yl(t,d,1),tf(t,1)}!function Uk(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)ko(~o);else{const r=o,s=n[++i],a=n[++i];xT(s,r),a(2,t[r])}}}finally{ko(-1)}}(e,t);const l=e.components;null!==l&&sb(t,l,0);const u=e.viewQuery;if(null!==u&&tp(2,u,i),c){const d=e.viewCheckHooks;null!==d&&Cl(t,d)}else{const d=e.viewHooks;null!==d&&yl(t,d,2),tf(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[fl]){for(const d of t[fl])d();t[fl]=null}t[B]&=-73}catch(c){throw na(t),c}finally{null!==a&&(function Uv(e,t){if(ne(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Hs(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Hc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function mA(e){e.lView[Oo]!==e&&(e.lView=null,nb.push(e))}(a)),ef()}}function ob(e,t){for(let n=VC(e);null!==n;n=BC(n))for(let i=Xe;i<n.length;i++)rb(n[i],t)}function wA(e,t,n){rb(dn(t,e),n)}function rb(e,t){$h(e)&&rp(e,t)}function rp(e,t){const i=e[P],o=e[B],r=e[Oo];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!r?.dirty||!Xd(r)),r&&(r.dirty=!1),e[B]&=-9217,s)CA(i,e,i.template,e[ke]);else if(8192&o){ob(e,1);const a=i.components;null!==a&&sb(e,a,1)}}function sb(e,t,n){for(let i=0;i<t.length;i++)wA(e,t[i],n)}function Ea(e){for(e[Nn].changeDetectionScheduler?.notify();e;){e[B]|=64;const t=Io(e);if(Bh(e)&&!t)return e;e=t}return null}class Sa{get rootNodes(){const t=this._lView,n=t[P];return Da(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ke]}set context(t){this._lView[ke]=t}get destroyed(){return!(256&~this._lView[B])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Qe];if(It(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(_a(t,i),nl(n,i))}this._attachedToViewContainer=!1}jl(this._lView[P],this._lView)}onDestroy(t){ml(this._lView,t)}markForCheck(){Ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){Wh(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,Zl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ey(this._lView[P],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t,Wh(this._lView)}}let ki=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=EA}return e})();const MA=ki,DA=class extends MA{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){const o=wa(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Sa(o)}};function EA(){return Ql(we(),M())}function Ql(e,t){return 4&e.type?new DA(t,e,Ir(e,t)):null}let hb=()=>null;function zr(e,t){return hb(e,t)}class dp{}class ZA{}class fb{}class XA{resolveComponentFactory(t){throw function QA(e){const t=Error(`No component factory found for ${at(e)}.`);return t.ngComponent=e,t}(t)}}let tu=(()=>{class e{static#e=this.NULL=new XA}return e})();class gb{}let Ai=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function KA(){const e=M(),n=dn(we().index,e);return(Tt(n)?n:e)[q]}()}return e})(),JA=(()=>{class e{static#e=this.\u0275prov=F({token:e,providedIn:"root",factory:()=>null})}return e})();const hp={},mb=new Set;function ri(e){mb.has(e)||(mb.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function vb(...e){}class Me{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&n,o.shouldCoalesceRunChangeDetection=i,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function eN(){const e="function"==typeof Ce.requestAnimationFrame;let t=Ce[e?"requestAnimationFrame":"setTimeout"],n=Ce[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function iN(e){const t=()=>{!function nN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ce,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,pp(e),e.isCheckStableRunning=!0,fp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),pp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,o,r,s,a)=>{if(function oN(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(o,r,s,a);try{return _b(e),n.invokeTask(o,r,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||e.shouldCoalesceRunChangeDetection)&&t(),Cb(e)}},onInvoke:(n,i,o,r,s,a,c)=>{try{return _b(e),n.invoke(o,r,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Cb(e)}},onHasTask:(n,i,o,r)=>{n.hasTask(o,r),i===o&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,pp(e),fp(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(n,i,o,r)=>(n.handleError(o,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new E(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,o){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,t,tN,vb,vb);try{return r.runTask(s,n,i)}finally{r.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const tN={};function fp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _b(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cb(e){e._nesting--,fp(e)}class yb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,o){return t.apply(n,i)}}var Fo=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Fo||{});const bb={destroy(){}};function mp(e,t){!t&&function dl(e){if(!k_())throw new E(-203,!1)}();const n=t?.injector??S(jt);if(!function Ln(e){return"browser"===(e??S(jt)).get(No)}(n))return bb;ri("NgAfterNextRender");const i=n.get(Ia),o=i.handler??=new Mb,r=t?.phase??Fo.MixedReadWrite,s=()=>{o.unregister(c),a()},a=n.get(Tr).onDestroy(s),c=Si(n,()=>new wb(r,()=>{s(),e()}));return o.register(c),{destroy:s}}class wb{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=S(Me),this.errorHandler=S(ni,{optional:!0}),S(dp,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class Mb{constructor(){this.executingCallbacks=!1,this.buckets={[Fo.EarlyRead]:new Set,[Fo.Write]:new Set,[Fo.MixedReadWrite]:new Set,[Fo.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const n of t)n.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Ia=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=F({token:e,providedIn:"root",factory:()=>new e})}return e})();function iu(e,t,n){let i=n?e.styles:null,o=n?e.classes:null,r=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:1==r?o=uh(o,a):2==r&&(i=uh(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=o:e.classesWithoutHost=o}class Sb extends tu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=oe(t);return new Na(n,this.ngModule)}}function Pb(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n];void 0!==i&&t.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return t}class ou{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Jc(i);const o=this.injector.get(t,hp,i);return o!==hp||n===hp?o:this.parentInjector.get(t,n,i)}}class Na extends fb{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=Pb(t.inputs);if(null!==n)for(const o of i)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return i}get outputs(){return Pb(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function RO(e){return e.map(NO).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,o){const r=ne(null);try{let s=(o=o||this.ngModule)instanceof tn?o:o?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new ou(t,s):t,c=a.get(gb,null);if(null===c)throw new E(407,!1);const l=a.get(JA,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(Ia,null),changeDetectionScheduler:a.get(dp,null)},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=i?function Hk(e,t,n,i){const r=i.get(ty,!1)||n===In.ShadowDom,s=e.selectRootElement(t,r);return function $k(e){$y(e)}(s),s}(f,i,this.componentDef.encapsulation,a):Ul(f,g,function lN(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g));let _=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let C=null;null!==v&&(C=Ef(v,a,!0));const w=Xf(0,null,null,1,0,null,null,null,null,null,null),O=Wl(null,w,null,_,null,null,h,f,a,null,C);let V,W;Jh(O);try{const he=this.componentDef;let je,qi=null;he.findHostDirectiveDefs?(je=[],qi=new Map,he.findHostDirectiveDefs(he,je,qi),je.push(he)):je=[he];const O1=function dN(e,t){const n=e[P],i=X;return e[i]=t,Vr(n,i,2,"#host",null)}(O,v),cG=function hN(e,t,n,i,o,r,s){const a=o[P];!function fN(e,t,n,i){for(const o of e)t.mergedAttrs=Ys(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(iu(t,t.mergedAttrs,!0),null!==n&&Vy(i,n,t))}(i,e,t,s);let c=null;null!==t&&(c=Ef(t,o[tt]));const l=r.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Wl(o,Hy(n),null,u,o[e.index],e,r,l,null,null,c);return a.firstCreatePass&&Jf(a,e,i.length-1),ql(o,d),o[e.index]=d}(O1,v,he,je,O,h,f);W=ta(w,X),v&&function gN(e,t,n,i){if(i)Sh(e,n,["ng-version","17.3.12"]);else{const{attrs:o,classes:r}=function FO(e){const t=[],n=[];let i=1,o=2;for(;i<e.length;){let r=e[i];if("string"==typeof r)2===o?""!==r&&t.push(r,e[++i]):8===o&&n.push(r);else{if(!kn(o))break;o=r}i++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Sh(e,n,o),r&&r.length>0&&Ly(e,n,r.join(" "))}}(f,he,v,i),void 0!==n&&function mN(e,t,n){const i=e.projection=[];for(let o=0;o<t.length;o++){const r=n[o];i.push(null!=r?Array.from(r):null)}}(W,this.ngContentSelectors,n),V=function pN(e,t,n,i,o,r){const s=we(),a=o[P],c=zt(s,o);qy(a,o,s,n,null,i);for(let u=0;u<n.length;u++)At(Ao(o,a,s.directiveStart+u,s),o);Yy(a,o,s),c&&At(c,o);const l=Ao(o,a,s.directiveStart+s.componentOffset,s);if(e[ke]=o[ke]=l,null!==r)for(const u of r)u(l,t);return Yf(a,s,o),l}(cG,he,je,qi,O,[vN]),ip(w,O,null)}finally{ef()}return new uN(this.componentType,V,Ir(W,O),O,W)}finally{ne(r)}}}class uN extends ZA{constructor(t,n,i,o,r){super(),this.location=i,this._rootLView=o,this._tNode=r,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Sa(o,void 0,!1),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let o;if(null!==i&&(o=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const r=this._rootLView;np(r[P],r,o,t,n),this.previousInputValues.set(t,n),Ea(dn(this._tNode.index,r))}}get injector(){return new ut(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function vN(){const e=we();_l(M()[P],e)}let nt=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=_N}return e})();function _N(){return Tb(we(),M())}const CN=nt,xb=class extends CN{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Ir(this._hostTNode,this._hostLView)}get injector(){return new ut(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ml(this._hostTNode,this._hostLView);if(rf(t)){const n=aa(t,this._hostLView),i=sa(t);return new ut(n[P].data[i+8],n)}return new ut(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Ob(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(t,n,i){let o,r;"number"==typeof i?o=i:null!=i&&(o=i.index,r=i.injector);const s=zr(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},r,s);return this.insertImpl(a,o,Br(this._hostTNode,s)),a}createComponent(t,n,i,o,r){const s=t&&!function Zs(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const g=n||{};a=g.index,i=g.injector,o=g.projectableNodes,r=g.environmentInjector||g.ngModuleRef}const c=s?t:new Na(oe(t)),l=i||this.parentInjector;if(!r&&null==c.ngModule){const v=(s?l:this.parentInjector).get(tn,null);v&&(r=v)}const u=oe(c.componentType??{}),d=zr(this._lContainer,u?.id??null),f=c.create(l,o,d?.firstChild??null,r);return this.insertImpl(f.hostView,a,Br(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){const o=t._lView;if(function mT(e){return It(e[Qe])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[Qe],l=new xb(c,c[Ot],c[Qe]);l.detach(l.indexOf(t))}}const r=this._adjustIndex(n),s=this._lContainer;return Ma(s,o,r,i),t.attachToViewContainerRef(),g_(Cp(s),r,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Ob(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=_a(this._lContainer,n);i&&(nl(Cp(this._lContainer),n),jl(i[P],i))}detach(t){const n=this._adjustIndex(t,-1),i=_a(this._lContainer,n);return i&&null!=nl(Cp(this._lContainer),n)?new Sa(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ob(e){return e[8]}function Cp(e){return e[8]||(e[8]=[])}function Tb(e,t){let n;const i=t[e.index];return It(i)?n=i:(n=Zy(i,t,null,e),t[e.index]=n,ql(t,n)),Ib(n,t,e,i),new xb(n,e,t)}let Ib=function Ab(e,t,n,i){if(e[Qn])return;let o;o=8&n.type?Se(i):function yN(e,t){const n=e[q],i=n.createComment(""),o=zt(t,e);return Ro(n,Hl(n,o),i,function Fk(e,t){return e.nextSibling(t)}(n,o),!1),i}(t,n),e[Qn]=o},yp=()=>!1;class bp{constructor(t){this.queryList=t,this.matches=null}clone(){return new bp(this.queryList)}setDirty(){this.queryList.setDirty()}}class wp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let r=0;r<i;r++){const s=n.getByIndex(r);o.push(this.queries[s.indexInDeclarationView].clone())}return new wp(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Pp(t,n).matches&&this.queries[n].setDirty()}}class Nb{constructor(t,n,i=null){this.flags=n,this.read=i,this.predicate="string"==typeof t?function xN(e){return e.split(",").map(t=>t.trim())}(t):t}}class Mp{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const o=null!==n?n.length:0,r=this.getByIndex(i).embeddedTView(t,o);r&&(r.indexInDeclarationView=i,null!==n?n.push(r):n=[r])}return null!==n?new Mp(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Dp{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Dp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const r=i[o];this.matchTNodeWithReadOption(t,n,DN(n,r)),this.matchTNodeWithReadOption(t,n,Dl(n,t,r,!1,!1))}else i===ki?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Dl(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===hn||o===nt||o===ki&&4&n.type)this.addMatch(n.index,-2);else{const r=Dl(n,t,o,!1,!1);null!==r&&this.addMatch(n.index,r)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function DN(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function SN(e,t,n,i){return-1===n?function EN(e,t){return 11&e.type?Ir(e,t):4&e.type?Ql(e,t):null}(t,e):-2===n?function PN(e,t,n){return n===hn?Ir(t,e):n===ki?Ql(t,e):n===nt?Tb(t,e):void 0}(e,t,i):Ao(e,e[P],n,t)}function Rb(e,t,n,i){const o=t[Pi].queries[i];if(null===o.matches){const r=e.data,s=n.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:SN(t,r[l],s[c+1],n.metadata.read))}o.matches=a}return o.matches}function Ep(e,t,n,i){const o=e.queries.getByIndex(n),r=o.matches;if(null!==r){const s=Rb(e,t,o,n);for(let a=0;a<r.length;a+=2){const c=r[a];if(c>0)i.push(s[a/2]);else{const l=r[a+1],u=t[-c];for(let d=Xe;d<u.length;d++){const h=u[d];h[Xs]===h[Qe]&&Ep(h[P],h,l,i)}if(null!==u[Dr]){const d=u[Dr];for(let h=0;h<d.length;h++){const f=d[h];Ep(f[P],f,l,i)}}}}}return i}function Lb(e,t,n){const i=se();return i.firstCreatePass&&(function Bb(e,t,n){null===e.queries&&(e.queries=new Mp),e.queries.track(new Dp(t,n))}(i,new Nb(e,t,n),-1),!(2&~t)&&(i.staticViewQueries=!0)),function Fb(e,t,n){const i=new ff(!(4&~n));return function qk(e,t,n,i){const o=Xy(t);o.push(n),e.firstCreatePass&&Ky(e).push(i,o.length-1)}(e,t,i,i.destroy),(t[Pi]??=new wp).queries.push(new bp(i))-1}(i,M(),t)}function Pp(e,t){return e.queries.getByIndex(t)}function zb(e,t){const n=e[P],i=Pp(n,t);return i.crossesNgTemplate?Ep(n,e,t,[]):Rb(n,e,i,t)}function Hb(e){return function Ub(e){return"function"==typeof e&&void 0!==e[wo]}(e)&&"function"==typeof e.set}function z(e){let t=function ew(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let o;if(Rn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new E(903,!1);o=t.\u0275dir}if(o){if(n){i.push(o);const s=e;s.inputs=su(e.inputs),s.inputTransforms=su(e.inputTransforms),s.declaredInputs=su(e.declaredInputs),s.outputs=su(e.outputs);const a=o.hostBindings;a&&$N(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&jN(e,c),l&&HN(e,l),zN(e,o),tO(e.outputs,o.outputs),Rn(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const r=o.features;if(r)for(let s=0;s<r.length;s++){const a=r[s];a&&a.ngInherit&&a(e),a===z&&(n=!1)}}t=Object.getPrototypeOf(t)}!function UN(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const o=e[i];o.hostVars=t+=o.hostVars,o.hostAttrs=Ys(o.hostAttrs,n=Ys(n,o.hostAttrs))}}(i)}function zN(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const i=t.inputs[n];if(void 0!==i&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function su(e){return e===Zn?{}:e===de?[]:e}function jN(e,t){const n=e.viewQuery;e.viewQuery=n?(i,o)=>{t(i,o),n(i,o)}:t}function HN(e,t){const n=e.contentQueries;e.contentQueries=n?(i,o,r)=>{t(i,o,r),n(i,o,r)}:t}function $N(e,t){const n=e.hostBindings;e.hostBindings=n?(i,o)=>{t(i,o),n(i,o)}:t}class Lo{}class rw{}class Op extends Lo{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sb(this);const o=xt(t);this._bootstrapComponents=fn(o.bootstrap),this._r3Injector=DC(t,n,[{provide:Lo,useValue:this},{provide:tu,useValue:this.componentFactoryResolver},...i],at(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Tp extends rw{constructor(t){super(),this.moduleType=t}create(t){return new Op(this.moduleType,t,[])}}class sw extends Lo{constructor(t){super(),this.componentFactoryResolver=new Sb(this),this.instance=null;const n=new _r([...t.providers,{provide:Lo,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],t.parent||ul(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function au(e,t,n=null){return new sw({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let jr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lu(e){return!!Ip(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ip(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function si(e,t,n){return e[t]=n}function Ke(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Vo(e,t,n,i){const o=Ke(e,t,n);return Ke(e,t+1,i)||o}function Re(e,t,n,i,o,r,s,a){const c=M(),l=se(),u=e+X,d=l.firstCreatePass?function iR(e,t,n,i,o,r,s,a,c){const l=t.consts,u=Vr(t,e,4,s||null,Kn(l,a));Kf(t,n,u,Kn(l,c)),_l(t,u);const d=u.tView=Xf(2,u,i,o,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,i,o,r,s):l.data[u];Jn(d,!1);const h=aw(l,c,d,e);oa()&&$l(l,c,h,d),At(h,c);const f=Zy(h,c,h,d);return c[u]=f,ql(c,f),function kb(e,t,n){return yp(e,t,n)}(f,d,c),gl(d)&&Zf(l,c,d),null!=s&&Qf(c,d,a),Re}let aw=function cw(e,t,n,i){return ei(!0),t[q].createComment("")};function ai(e,t,n,i){const o=M();return Ke(o,Fn(),t)&&(se(),oi(Ae(),o,e,t,n,i)),ai}function Xr(e,t,n,i,o,r){const a=Vo(e,function xi(){return Y.lFrame.bindingIndex}(),n,o);return Oi(2),a?t+Q(n)+i+Q(o)+r:J}function mu(e,t){return e<<17|t<<2}function oo(e){return e>>17&32767}function Up(e){return 2|e}function zo(e){return(131068&e)>>2}function jp(e,t){return-131069&e|t<<2}function Hp(e){return 1|e}function Bw(e,t,n,i){const o=e[n+1],r=null===t;let s=i?oo(o):zo(o),a=!1;for(;0!==s&&(!1===a||r);){const l=e[s+1];HR(e[s],t)&&(a=!0,e[s+1]=i?Hp(l):Up(l)),s=i?oo(l):zo(l)}a&&(e[n+1]=i?Up(o):Hp(o))}function HR(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&vr(e,t)>=0}const dt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zw(e){return e.substring(dt.key,dt.keyEnd)}function $R(e){return e.substring(dt.value,dt.valueEnd)}function Uw(e,t){const n=dt.textEnd;return n===t?-1:(t=dt.keyEnd=function qR(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,dt.key=t,n),os(e,t,n))}function jw(e,t){const n=dt.textEnd;let i=dt.key=os(e,t,n);return n===i?-1:(i=dt.keyEnd=function YR(e,t,n){let i;for(;t<n&&(45===(i=e.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(e,i,n),i=$w(e,i,n),i=dt.value=os(e,i,n),i=dt.valueEnd=function ZR(e,t,n){let i=-1,o=-1,r=-1,s=t,a=s;for(;s<n;){const c=e.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=Gw(e,c,s,n):t===s-4&&85===r&&82===o&&76===i&&40===c?a=s=Gw(e,41,s,n):c>32&&(a=s),r=o,o=i,i=-33&c}return a}(e,i,n),$w(e,i,n))}function Hw(e){dt.key=0,dt.keyEnd=0,dt.value=0,dt.valueEnd=0,dt.textEnd=e.length}function os(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function $w(e,t,n,i){return(t=os(e,t,n))<n&&t++,t}function Gw(e,t,n,i){let o=-1,r=n;for(;r<i;){const s=e.charCodeAt(r++);if(s==t&&92!==o)return r;o=92==s&&92===o?0:s}throw new Error}function T(e,t,n){const i=M();return Ke(i,Fn(),t)&&on(se(),Ae(),i,e,t,i[q],n,!1),T}function $p(e,t,n,i,o){const s=o?"class":"style";np(e,n,t.inputs[s],s,i)}function Gp(e,t,n){return Vn(e,t,n,!1),Gp}function rs(e,t){return Vn(e,t,null,!0),rs}function Ht(e){Bn(Yw,QR,e,!1)}function QR(e,t){for(let n=function WR(e){return Hw(e),jw(e,os(e,0,dt.textEnd))}(t);n>=0;n=jw(t,n))Yw(e,zw(t),$R(t))}function ss(e){Bn(nF,ci,e,!0)}function ci(e,t){for(let n=function GR(e){return Hw(e),Uw(e,os(e,0,dt.textEnd))}(t);n>=0;n=Uw(t,n))ln(e,zw(t),!0)}function Vn(e,t,n,i){const o=M(),r=se(),s=Oi(2);r.firstUpdatePass&&qw(r,e,s,i),t!==J&&Ke(o,s,t)&&Zw(r,r.data[kt()],o,o[q],e,o[s+1]=function oF(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=at(Ji(e)))),e}(t,n),i,s)}function Bn(e,t,n,i){const o=se(),r=Oi(2);o.firstUpdatePass&&qw(o,null,r,i);const s=M();if(n!==J&&Ke(s,r,n)){const a=o.data[kt()];if(Xw(a,i)&&!Ww(o,r)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=uh(c,n||"")),$p(o,a,s,n,i)}else!function iF(e,t,n,i,o,r,s,a){o===J&&(o=de);let c=0,l=0,u=0<o.length?o[0]:null,d=0<r.length?r[0]:null;for(;null!==u||null!==d;){const h=c<o.length?o[c+1]:void 0,f=l<r.length?r[l+1]:void 0;let v,g=null;u===d?(c+=2,l+=2,h!==f&&(g=d,v=f)):null===d||null!==u&&u<d?(c+=2,g=u):(l+=2,g=d,v=f),null!==g&&Zw(e,t,n,i,g,v,s,a),u=c<o.length?o[c]:null,d=l<r.length?r[l]:null}}(o,a,s,s[q],s[r+1],s[r+1]=function tF(e,t,n){if(null==n||""===n)return de;const i=[],o=Ji(n);if(Array.isArray(o))for(let r=0;r<o.length;r++)e(i,o[r],!0);else if("object"==typeof o)for(const r in o)o.hasOwnProperty(r)&&e(i,r,o[r]);else"string"==typeof o&&t(i,o);return i}(e,t,n),i,r)}}function Ww(e,t){return t>=e.expandoStartIndex}function qw(e,t,n,i){const o=e.data;if(null===o[n+1]){const r=o[kt()],s=Ww(e,n);Xw(r,i)&&null===t&&!s&&(t=!1),t=function XR(e,t,n,i){const o=function Xh(e){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let r=i?t.residualClasses:t.residualStyles;if(null===o)0===(i?t.classBindings:t.styleBindings)&&(n=Ua(n=Wp(null,e,t,n,i),t.attrs,i),r=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=Wp(o,e,t,n,i),null===r){let c=function KR(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==zo(i))return e[oo(i)]}(e,t,i);void 0!==c&&Array.isArray(c)&&(c=Wp(null,e,t,c[1],i),c=Ua(c,t.attrs,i),function JR(e,t,n,i){e[oo(n?t.classBindings:t.styleBindings)]=i}(e,t,i,c))}else r=function eF(e,t,n){let i;const o=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<o;r++)i=Ua(i,e[r].hostAttrs,n);return Ua(i,t.attrs,n)}(e,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),n}(o,r,t,i),function UR(e,t,n,i,o,r){let s=r?t.classBindings:t.styleBindings,a=oo(s),c=zo(s);e[i]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||vr(n,u)>0)&&(l=!0)):u=n,o)if(0!==c){const h=oo(e[a+1]);e[i+1]=mu(h,a),0!==h&&(e[h+1]=jp(e[h+1],i)),e[a+1]=function BR(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=mu(a,0),0!==a&&(e[a+1]=jp(e[a+1],i)),a=i;else e[i+1]=mu(c,0),0===a?a=i:e[c+1]=jp(e[c+1],i),c=i;l&&(e[i+1]=Up(e[i+1])),Bw(e,u,i,!0),Bw(e,u,i,!1),function jR(e,t,n,i,o){const r=o?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&vr(r,t)>=0&&(n[i+1]=Hp(n[i+1]))}(t,u,e,i,r),s=mu(a,c),r?t.classBindings=s:t.styleBindings=s}(o,r,t,n,s,i)}}function Wp(e,t,n,i,o){let r=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=t[a],i=Ua(i,r.hostAttrs,o),r!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function Ua(e,t,n){const i=n?1:2;let o=-1;if(null!==t)for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?o=s:o===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ln(e,s,!!n||t[++r]))}return void 0===e?null:e}function Yw(e,t,n){ln(e,t,Ji(n))}function nF(e,t,n){const i=String(t);""!==i&&!i.includes(" ")&&ln(e,i,n)}function Zw(e,t,n,i,o,r,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function zR(e){return!(1&~e)}(l)?Qw(c,t,n,o,zo(l),s):void 0;vu(u)||(vu(r)||function VR(e){return!(2&~e)}(l)&&(r=Qw(c,null,n,o,a,s)),function Bk(e,t,n,i,o){if(t)o?e.addClass(n,i):e.removeClass(n,i);else{let r=-1===i.indexOf("-")?void 0:eo.DashCase;null==o?e.removeStyle(n,i,r):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=eo.Important),e.setStyle(n,i,o,r))}}(i,s,ea(kt(),n),o,r))}function Qw(e,t,n,i,o,r){const s=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=n[o+1];h===J&&(h=d?de:void 0);let f=d?Dh(h,i):u===i?h:void 0;if(l&&!vu(f)&&(f=Dh(c,i)),vu(f)&&(a=f,s))return a;const g=e[o+1];o=s?oo(g):zo(g)}if(null!==t){let c=r?t.residualClasses:t.residualStyles;null!=c&&(a=Dh(c,i))}return a}function vu(e){return void 0!==e}function Xw(e,t){return!!(e.flags&(t?8:16))}class gF{destroy(t){}updateValue(t,n){}swap(t,n){const i=Math.min(t,n),o=Math.max(t,n),r=this.detach(o);if(o-i>1){const s=this.detach(i);this.attach(i,r),this.attach(o,s)}else this.attach(i,r)}move(t,n){this.attach(n,this.detach(t))}}function qp(e,t,n,i,o){return e===n&&Object.is(t,i)?1:Object.is(o(e,t),o(n,i))?-1:0}function Yp(e,t,n,i){return!(void 0===t||!t.has(i)||(e.attach(n,t.get(i)),t.delete(i),0))}function Kw(e,t,n,i,o){if(Yp(e,t,i,n(i,o)))e.updateValue(i,o);else{const r=e.create(i,o);e.attach(i,r)}}function Jw(e,t,n,i){const o=new Set;for(let r=t;r<=n;r++)o.add(i(r,e.at(r)));return o}class eM{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(i);)i=o.get(i);o.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),void 0!==this._vMap){const o=this._vMap;for(;o.has(i);)i=o.get(i),t(i,n)}}}function Uo(e,t,n){ri("NgControlFlow");const i=M(),o=Fn(),r=Zp(i,X+e);if(Ke(i,o,t)){const a=ne(null);try{if(op(r,0),-1!==t){const c=Qp(i[P],X+t),l=zr(r,c.tView.ssrId);Ma(r,wa(i,c,n,{dehydratedView:l}),0,Br(c,l))}}finally{ne(a)}}else{const a=eb(r,0);void 0!==a&&(a[ke]=n)}}class vF{constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-Xe}}function jo(e){return e}function _u(e,t){return t}class _F{constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}}function li(e,t,n,i,o,r,s,a,c,l,u,d,h){ri("NgControlFlow");const f=void 0!==c,g=M(),v=a?s.bind(g[Ge][ke]):s,_=new _F(f,v);g[X+e]=_,Re(e+1,t,n,i,o,r),f&&Re(e+2,c,l,u,d,h)}class CF extends gF{constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Xe}at(t){return this.getLView(t)[ke].$implicit}attach(t,n){const i=n[un];this.needsIndexUpdate||=t!==this.length,Ma(this.lContainer,n,t,Br(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function yF(e,t){return _a(e,t)}(this.lContainer,t)}create(t,n){const i=zr(this.lContainer,this.templateTNode.tView.ssrId);return wa(this.hostLView,this.templateTNode,new vF(this.lContainer,n,t),{dehydratedView:i})}destroy(t){jl(t[P],t)}updateValue(t,n){this.getLView(t)[ke].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ke].$index=t}getLView(t){return function bF(e,t){return eb(e,t)}(this.lContainer,t)}}function ui(e){const t=ne(null),n=kt();try{const i=M(),o=i[P],r=i[n];if(void 0===r.liveCollection){const a=n+1,c=Zp(i,a),l=Qp(o,a);r.liveCollection=new CF(c,i,l)}else r.liveCollection.reset();const s=r.liveCollection;if(function mF(e,t,n){let i,o,r=0,s=e.length-1;if(Array.isArray(t)){let a=t.length-1;for(;r<=s&&r<=a;){const c=e.at(r),l=t[r],u=qp(r,c,r,l,n);if(0!==u){u<0&&e.updateValue(r,l),r++;continue}const d=e.at(s),h=t[a],f=qp(s,d,a,h,n);if(0!==f){f<0&&e.updateValue(s,h),s--,a--;continue}const g=n(r,c),v=n(s,d),_=n(r,l);if(Object.is(_,v)){const C=n(a,h);Object.is(C,g)?(e.swap(r,s),e.updateValue(s,h),a--,s--):e.move(s,r),e.updateValue(r,l),r++}else if(i??=new eM,o??=Jw(e,r,s,n),Yp(e,i,r,_))e.updateValue(r,l),r++,s++;else if(o.has(_))i.set(g,e.detach(r)),s--;else{const C=e.create(r,t[r]);e.attach(r,C),r++,s++}}for(;r<=a;)Kw(e,i,n,r,t[r]),r++}else if(null!=t){const a=t[Symbol.iterator]();let c=a.next();for(;!c.done&&r<=s;){const l=e.at(r),u=c.value,d=qp(r,l,r,u,n);if(0!==d)d<0&&e.updateValue(r,u),r++,c=a.next();else{i??=new eM,o??=Jw(e,r,s,n);const h=n(r,u);if(Yp(e,i,r,h))e.updateValue(r,u),r++,s++,c=a.next();else if(o.has(h)){const f=n(r,l);i.set(f,e.detach(r)),s--}else e.attach(r,e.create(r,u)),r++,s++,c=a.next()}}for(;!c.done;)Kw(e,i,n,e.length,c.value),c=a.next()}for(;r<=s;)e.destroy(e.detach(s--));i?.forEach(a=>{e.destroy(a)})}(s,e,r.trackByFn),s.updateIndexes(),r.hasEmptyBlock){const a=Fn(),c=0===s.length;if(Ke(i,a,c)){const l=n+2,u=Zp(i,l);if(c){const d=Qp(o,l),h=zr(u,d.tView.ssrId);Ma(u,wa(i,d,void 0,{dehydratedView:h}),0,Br(d,h))}else op(u,0)}}}finally{ne(t)}}function Zp(e,t){return e[t]}function Qp(e,t){return ta(e,t)}function p(e,t,n,i){const o=M(),r=se(),s=X+e,a=o[q],c=r.firstCreatePass?function wF(e,t,n,i,o,r){const s=t.consts,c=Vr(t,e,2,i,Kn(s,o));return Kf(t,n,c,Kn(s,r)),null!==c.attrs&&iu(c,c.attrs,!1),null!==c.mergedAttrs&&iu(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,r,o,t,n,i):r.data[s],l=tM(r,o,c,a,t,e);o[s]=l;const u=gl(c);return Jn(c,!0),Vy(a,l,c),!function La(e){return!(32&~e.flags)}(c)&&oa()&&$l(r,o,l,c),0===function _T(){return Y.lFrame.elementDepthCount}()&&At(l,o),function CT(){Y.lFrame.elementDepthCount++}(),u&&(Zf(r,o,c),Yf(r,c,o)),null!==i&&Qf(o,c),p}function m(){let e=we();Yh()?function Zh(){Y.lFrame.isParent=!1}():(e=e.parent,Jn(e,!1));const t=e;(function bT(e){return Y.skipHydrationRootTNode===e})(t)&&function ET(){Y.skipHydrationRootTNode=null}(),function yT(){Y.lFrame.elementDepthCount--}();const n=se();return n.firstCreatePass&&(_l(n,e),Vh(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function zT(e){return!!(8&e.flags)}(t)&&$p(n,t,M(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function UT(e){return!!(16&e.flags)}(t)&&$p(n,t,M(),t.stylesWithoutHost,!1),m}function A(e,t,n,i){return p(e,t,n,i),m(),A}let tM=(e,t,n,i,o,r)=>(ei(!0),Ul(i,o,function rC(){return Y.lFrame.currentNamespace}()));function mt(){return M()}const cs="en-US";let cM=cs;function N(e,t,n,i){const o=M(),r=se(),s=we();return tg(r,o,o[q],s,e,t,i),N}function tg(e,t,n,i,o,r,s){const a=gl(i),l=e.firstCreatePass&&Ky(e),u=t[ke],d=Xy(t);let h=!0;if(3&i.type||s){const v=zt(i,t),_=s?s(v):v,C=d.length,w=s?V=>s(Se(V[i.index])):i.index;let O=null;if(!s&&a&&(O=function S2(e,t,n,i){const o=e.cleanup;if(null!=o)for(let r=0;r<o.length-1;r+=2){const s=o[r];if(s===n&&o[r+1]===i){const a=t[br],c=o[r+2];return a.length>c?a[c]:null}"string"==typeof s&&(r+=2)}return null}(e,t,o,i.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=r,O.__ngLastListenerFn__=r,h=!1;else{r=FM(i,t,u,r,!1);const V=n.listen(_,o,r);d.push(r,V),l&&l.push(o,w,C,C+1)}}else r=FM(i,t,u,r,!1);const f=i.outputs;let g;if(h&&null!==f&&(g=f[o])){const v=g.length;if(v)for(let _=0;_<v;_+=2){const W=t[g[_]][g[_+1]].subscribe(r),he=d.length;d.push(r,W),l&&l.push(o,i.index,he,-(he+1))}}}function RM(e,t,n,i){const o=ne(null);try{return Xn(6,t,n),!1!==n(i)}catch(r){return Yl(e,r),!1}finally{Xn(7,t,n),ne(o)}}function FM(e,t,n,i,o){return function r(s){if(s===Function)return i;Ea(e.componentOffset>-1?dn(e.index,t):t);let c=RM(t,n,i,s),l=r.__ngNextListenerFn__;for(;l;)c=RM(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return o&&!1===c&&s.preventDefault(),c}}function H(e=1){return function IT(e){return(Y.lFrame.contextLView=function q_(e,t){for(;e>0;)t=t[wr],e--;return t}(e,Y.lFrame.contextLView))[ke]}(e)}function St(e,t,n){Lb(e,t,n)}function vt(e){const t=M(),n=se(),i=Kh();vl(i+1);const o=Pp(n,i);if(e.dirty&&function gT(e){return!(4&~e[B])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const r=zb(t,i);e.reset(r,xC),e.notifyOnChanges()}return!0}return!1}function _t(){return function Sp(e,t){return e[Pi].queries[t].queryList}(M(),Kh())}function b(e,t=""){const n=M(),i=se(),o=e+X,r=i.firstCreatePass?Vr(i,o,1,t,null):i.data[o],s=nD(i,n,r,t,e);n[o]=s,oa()&&$l(i,n,s,r),Jn(r,!1)}let nD=(e,t,n,i,o)=>(ei(!0),function zf(e,t){return e.createText(t)}(t[q],i));function fe(e){return gn("",e,""),fe}function gn(e,t,n){const i=M(),o=function Qr(e,t,n,i){return Ke(e,Fn(),n)?t+Q(n)+i:J}(i,e,t,n);return o!==J&&Ii(i,kt(),o),gn}function Ya(e,t,n,i,o){const r=M(),s=Xr(r,e,t,n,i,o);return s!==J&&Ii(r,kt(),s),Ya}function I(e,t,n){Hb(t)&&(t=t());const i=M();return Ke(i,Fn(),t)&&on(se(),Ae(),i,e,t,i[q],n,!1),I}function x(e,t){const n=Hb(e);return n&&e.set(t),n}function k(e,t){const n=M(),i=se(),o=we();return tg(i,n,n[q],o,e,t),k}function ig(e,t,n,i,o){if(e=$(e),Array.isArray(e))for(let r=0;r<e.length;r++)ig(e[r],t,n,i,o);else{const r=se(),s=M(),a=we();let c=xo(e)?e:$(e.provide);const l=I_(e),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(xo(e)||!e.multi){const f=new ra(l,o,D),g=rg(c,t,o?u:u+h,d);-1===g?(cf(wl(a,s),r,c),og(r,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{const f=rg(c,t,u+h,d),g=rg(c,t,u,u+h),_=g>=0&&n[g];if(o&&!_||!o&&!(f>=0&&n[f])){cf(wl(a,s),r,c);const C=function Z2(e,t,n,i,o){const r=new ra(e,n,D);return r.multi=[],r.index=t,r.componentProviders=0,uD(r,o,i&&!n),r}(o?Y2:q2,n.length,o,i,l);!o&&_&&(n[g].providerFactory=C),og(r,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(C),s.push(C)}else og(r,e,f>-1?f:g,uD(n[o?g:f],l,!o&&i));!o&&i&&_&&n[g].componentProviders++}}}function og(e,t,n,i){const o=xo(t),r=function HO(e){return!!e.useClass}(t);if(o||r){const c=(r?$(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function uD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function rg(e,t,n,i){for(let o=n;o<i;o++)if(t[o]===e)return o;return-1}function q2(e,t,n,i){return sg(this.multi,[])}function Y2(e,t,n,i){const o=this.multi;let r;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ao(n,n[P],this.providerFactory.index,i);r=a.slice(0,s),sg(o,r);for(let c=s;c<a.length;c++)r.push(a[c])}else r=[],sg(o,r);return r}function sg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function $e(e,t=[]){return n=>{n.providersResolver=(i,o)=>function W2(e,t,n){const i=se();if(i.firstCreatePass){const o=Rn(e);ig(n,i.data,i.blueprint,o,!0),ig(t,i.data,i.blueprint,o,!1)}}(i,o?o(e):e,t)}}let Q2=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=xh(0,n.type),o=i.length>0?au([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=F({token:e,providedIn:"environment",factory:()=>new e(j(tn))})}return e})();function Pe(e){ri("NgStandalone"),e.getStandaloneInjector=t=>t.get(Q2).getOrCreateStandaloneInjector(e)}function Ct(e,t,n,i){return function hD(e,t,n,i,o,r){const s=t+n;return Ke(e,s,o)?si(e,s+1,r?i.call(r,o):i(o)):Za(e,s+1)}(M(),Ut(),e,t,n,i)}function ag(e,t,n,i,o){return function fD(e,t,n,i,o,r,s){const a=t+n;return Vo(e,a,o,r)?si(e,a+2,s?i.call(s,o,r):i(o,r)):Za(e,a+2)}(M(),Ut(),e,t,n,i,o)}function Za(e,t){const n=e[t];return n===J?void 0:n}let kD=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const LD=new R(""),Su=new R("");let gg,fg=(()=>{class e{constructor(n,i,o){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,gg||(function aV(e){gg=e}(o),o.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,o){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==r),n()},i)),this._callbacks.push({doneCb:n,timeoutId:r,updateCb:o})}whenStable(n,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,o){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(j(Me),j(pg),j(Su))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})(),pg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return gg?.findTestabilityInTree(this,n,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function ec(e){return!!e&&"function"==typeof e.then}function VD(e){return!!e&&"function"==typeof e.subscribe}const mg=new R("");let vg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=S(mg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const r=o();if(ec(r))n.push(r);else if(VD(r)){const s=new Promise((a,c)=>{r.subscribe({complete:a,error:c})});n.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),0===n.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _g=new R("");function UD(e,t){return Array.isArray(t)?t.reduce(UD,e):{...e,...t}}let ro=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(SC),this.afterRenderEffectManager=S(Ia),this.externalTestViews=new Set,this.beforeRender=new bn,this.afterTick=new bn,this.componentTypes=[],this.components=[],this.isStable=S(jr).hasPendingTasks.pipe(ye(n=>!n)),this._injector=S(tn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const o=n instanceof fb;if(!this._injector.get(vg).done)throw!o&&function Qi(e){const t=oe(e)||ct(e)||Et(e);return null!==t&&t.standalone}(n),new E(405,!1);let s;s=o?n:this._injector.get(tu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function cV(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Lo),l=s.create(jt.NULL,[],i||s.selector,a),u=l.location.nativeElement,d=l.injector.get(LD,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Pu(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new E(101,!1);const i=ne(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ne(i)}}detectChangesInAttachedViews(n){let i=0;const o=this.afterRenderEffectManager;for(;;){if(i===ib)throw new E(103,!1);if(n){const r=0===i;this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:a}of this._views)uV(s,r,a)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:r})=>Cg(r))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:r})=>Cg(r))))break}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Pu(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(_g,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Pu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function uV(e,t,n){!t&&!Cg(e)||function dV(e,t,n){let i;n?(i=0,e[B]|=1024):i=64&e[B]?0:1,Zl(e,t,i)}(e,n,t)}function Cg(e){return Gh(e)}class hV{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let jD=(()=>{class e{compileModuleSync(n){return new Tp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),r=fn(xt(n).declarations).reduce((s,a)=>{const c=oe(a);return c&&s.push(new Na(c)),s},[]);return new hV(i,r)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gV=(()=>{class e{constructor(){this.zone=S(Me),this.applicationRef=S(ro)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mV(){const e=S(Me),t=S(ni);return n=>e.runOutsideAngular(()=>t.handleError(n))}let _V=(()=>{class e{constructor(){this.subscription=new Xt,this.initialized=!1,this.zone=S(Me),this.pendingTasks=S(jr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ni=new R("",{providedIn:"root",factory:()=>S(Ni,re.Optional|re.SkipSelf)||function CV(){return typeof $localize<"u"&&$localize.locale||cs}()}),yg=new R("");let WD=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const o=function rN(e="zone.js",t){return"noop"===e?new yb:"zone.js"===e?new Me(t):e}(i?.ngZone,function GD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const r=function XN(e,t,n){return new Op(e,t,n)}(n.moduleType,this.injector,function $D(e){return[{provide:Me,useFactory:e},{provide:Po,multi:!0,useFactory:()=>{const t=S(gV,{optional:!0});return()=>t.initialize()}},{provide:Po,multi:!0,useFactory:()=>{const t=S(_V);return()=>{t.initialize()}}},{provide:SC,useFactory:mV}]}(()=>o)),s=r.injector.get(ni,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{s.handleError(c)}});r.onDestroy(()=>{Pu(this._modules,r),a.unsubscribe()})}),function zD(e,t,n){try{const i=n();return ec(i)?i.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(s,o,()=>{const a=r.injector.get(vg);return a.runInitializers(),a.donePromise.then(()=>(function lM(e){"string"==typeof e&&(cM=e.toLowerCase().replace(/_/g,"-"))}(r.injector.get(Ni,cs)||cs),this._moduleDoBootstrap(r),r))})})}bootstrapModule(n,i=[]){const o=UD({},i);return function pV(e,t,n){const i=new Tp(n);return Promise.resolve(i)}(0,0,n).then(r=>this.bootstrapModuleFactory(r,o))}_moduleDoBootstrap(n){const i=n.injector.get(ro);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new E(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(yg,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(j(jt))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),so=null;const qD=new R("");function YD(e,t,n=[]){const i=`Platform: ${t}`,o=new R(i);return(r=[])=>{let s=bg();if(!s||s.injector.get(qD,!1)){const a=[...n,...r,{provide:o,useValue:!0}];e?e(a):function wV(e){if(so&&!so.get(qD,!1))throw new E(400,!1);(function BD(){!function L1(e){Gv=e}(()=>{throw new E(600,!1)})})(),so=e;const t=e.get(WD);(function QD(e){e.get(YC,null)?.forEach(n=>n())})(e)}(function ZD(e=[],t){return jt.create({name:t,providers:[{provide:Ih,useValue:"platform"},{provide:yg,useValue:new Set([()=>so=null])},...e]})}(a,i))}return function MV(e){const t=bg();if(!t)throw new E(401,!1);return t}()}}function bg(){return so?.get(WD)??null}let $o=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=EV}return e})();function EV(e){return function SV(e,t,n){if(To(e)&&!n){const i=dn(e.index,t);return new Sa(i,i)}return 47&e.type?new Sa(t[Ge],t):null}(we(),M(),!(16&~e))}class t0{constructor(){}supports(t){return lu(t)}create(t){return new IV(t)}}const TV=(e,t)=>t;class IV{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||TV}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,o=0,r=null;for(;n||i;){const s=!i||n&&n.currentIndex<o0(i,o,r)?n:i,a=o0(s,o,r),c=s.currentIndex;if(s===i)o--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{r||(r=[]);const l=a-o,u=c-o;if(l!=u){for(let h=0;h<l;h++){const f=h<r.length?r[h]:r[h]=0,g=f+h;u<=g&&g<l&&(r[h]=f+1)}r[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!lu(t))throw new E(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,r,s,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],s=this._trackByFn(a,r),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,r,s,a)),Object.is(n.item,r)||this._addIdentityChange(n,r)):(n=this._mismatch(n,r,s,a),i=!0),n=n._next}else o=0,function tR(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),i=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,o){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,r,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,r,o)):t=this._addAfter(new kV(n,i),r,o),t}_verifyReinsertion(t,n,i,o){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,r=t._nextRemoved;return null===o?this._removalsHead=r:o._nextRemoved=r,null===r?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new n0),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new n0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kV{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AV{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class n0{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new AV,this.map.set(n,i)),i.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function o0(e,t,n){const i=e.previousIndex;if(null===i)return i;let o=0;return n&&i<n.length&&(o=n[i]),i+t+o}class r0{constructor(){}supports(t){return t instanceof Map||Ip(t)}create(){return new NV}}class NV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Ip(t)))throw new E(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const r=this._getOrCreateRecordForKey(o,i);n=this._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const r=o._prev,s=o._next;return r&&(r._next=s),s&&(s._prev=r),o._next=null,o._prev=null,o}const i=new RV(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class RV{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s0(){return new Sg([new t0])}let Sg=(()=>{class e{static#e=this.\u0275prov=F({token:e,providedIn:"root",factory:s0});constructor(n){this.factories=n}static create(n,i){if(null!=i){const o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||s0()),deps:[[e,new tl,new el]]}}find(n){const i=this.factories.find(o=>o.supports(n));if(null!=i)return i;throw new E(901,!1)}}return e})();function a0(){return new Iu([new r0])}let Iu=(()=>{class e{static#e=this.\u0275prov=F({token:e,providedIn:"root",factory:a0});constructor(n){this.factories=n}static create(n,i){if(i){const o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||a0()),deps:[[e,new tl,new el]]}}find(n){const i=this.factories.find(o=>o.supports(n));if(i)return i;throw new E(901,!1)}}return e})();const VV=YD(null,"core",[]);let BV=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(i){return new(i||e)(j(ro))};static#t=this.\u0275mod=Ei({type:e});static#n=this.\u0275inj=Yn({})}return e})();let T0=null;function ao(){return T0}class wB{}const En=new R("");let Og=(()=>{class e{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:()=>S(DB),providedIn:"platform"})}return e})();const MB=new R("");let DB=(()=>{class e extends Og{constructor(){super(),this._doc=S(En),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ao().getBaseHref(this._doc)}onPopState(n){const i=ao().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=ao().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Tg(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function I0(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ri(e){return e&&"?"!==e[0]?"?"+e:e}let Wo=(()=>{class e{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:()=>S(A0),providedIn:"root"})}return e})();const k0=new R("");let A0=(()=>{class e extends Wo{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??S(En).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Tg(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Ri(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,r){const s=this.prepareExternalUrl(o+Ri(r));this._platformLocation.pushState(n,i,s)}replaceState(n,i,o,r){const s=this.prepareExternalUrl(o+Ri(r));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(i){return new(i||e)(j(Og),j(k0,8))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),EB=(()=>{class e extends Wo{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=Tg(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,o,r){let s=this.prepareExternalUrl(o+Ri(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,o,r){let s=this.prepareExternalUrl(o+Ri(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(i){return new(i||e)(j(Og),j(k0,8))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})(),ic=(()=>{class e{constructor(n){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function xB(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(I0(N0(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Ri(i))}normalize(n){return e.stripTrailingSlash(function PB(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,N0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ri(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ri(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}static#e=this.normalizeQueryParams=Ri;static#t=this.joinWithSlash=Tg;static#n=this.stripTrailingSlash=I0;static#i=this.\u0275fac=function(i){return new(i||e)(j(Wo))};static#o=this.\u0275prov=F({token:e,factory:()=>function SB(){return new ic(j(Wo))}(),providedIn:"root"})}return e})();function N0(e){return e.replace(/\/index.html$/,"")}const zg=/\s+/,H0=[];let Un=(()=>{class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=H0,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(zg):H0}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(zg):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){const o=this.stateMap.get(n);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(zg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(i){return new(i||e)(D(hn),D(Ai))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngClass",""]],inputs:{klass:[ze.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class pz{constructor(t,n,i,o){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ps=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((o,r,s)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new pz(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,s),G0(a,o)}});for(let o=0,r=i.length;o<r;o++){const a=i.get(o).context;a.index=o,a.count=r,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{G0(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(D(nt),D(ki),D(Sg))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function G0(e,t){e.context.$implicit=t.item}let gs=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new gz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){W0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){W0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(D(nt),D(ki))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class gz{constructor(){this.$implicit=null,this.ngIf=null}}function W0(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${at(t)}'.`)}let rc=(()=>{class e{constructor(n,i,o){this._ngEl=n,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[o,r]=n.split("."),s=-1===o.indexOf("-")?void 0:eo.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,o,r?`${i}${r}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||e)(D(hn),D(Iu),D(Ai))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),jz=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ei({type:e});static#n=this.\u0275inj=Yn({})}return e})();const Z0="browser";function Q0(e){return"server"===e}let qz=(()=>{class e{static#e=this.\u0275prov=F({token:e,providedIn:"root",factory:()=>function Wz(e){return e===Z0}(S(No))?new Yz(S(En),window):new Qz})}return e})();class Yz{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const n=function Zz(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const r=o.shadowRoot;if(r){const s=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(s)return s}o=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],o-r[1])}}class Qz{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class E3 extends wB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Wg extends E3{static makeCurrent(){!function bB(e){T0??=e}(new Wg)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function S3(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}();return null==n?null:function P3(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function hz(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[o,r]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(o.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,t)}}let cc=null,O3=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const qg=new R("");let rE=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(r=>r.supports(n)),!i)throw new E(5101,!1);return this._eventNameToPlugin.set(n,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(j(qg),j(Me))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})();class sE{constructor(t){this._doc=t}}const Yg="ng-app-id";let aE=(()=>{class e{constructor(n,i,o,r={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Q0(r),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Yg}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){const o=this.styleRef;if(o.has(n)){const r=o.get(n);return r.usage+=i,r.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const o=this.styleNodesInDOM,r=o?.get(i);if(r?.parentNode===n)return o.delete(i),r.removeAttribute(Yg),r;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Yg,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){const o=this.getStyleElement(n,i),r=this.styleRef,s=r.get(i)?.elements;s?s.push(o):r.set(i,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(j(En),j(Ol),j(ZC,8),j(No))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const Zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qg=/%COMP%/g,A3=new R("",{providedIn:"root",factory:()=>!0});function lE(e,t){return t.map(n=>n.replace(Qg,e))}let uE=(()=>{class e{constructor(n,i,o,r,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Q0(a),this.defaultRenderer=new Xg(n,s,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===In.ShadowDom&&(i={...i,encapsulation:In.Emulated});const o=this.getOrCreateRenderer(n,i);return o instanceof hE?o.applyToHost(n):o instanceof Kg&&o.applyStyles(),o}getOrCreateRenderer(n,i){const o=this.rendererByCompId;let r=o.get(i.id);if(!r){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case In.Emulated:r=new hE(c,l,i,this.appId,u,s,a,d);break;case In.ShadowDom:return new L3(c,l,n,i,s,a,this.nonce,d);default:r=new Kg(c,l,i,u,s,a,d)}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(j(rE),j(aE),j(Ol),j(A3),j(En),j(No),j(Me),j(ZC))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})();class Xg{constructor(t,n,i,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Zg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(dE(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(dE(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new E(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,o){if(o){n=o+":"+n;const r=Zg[o];r?t.setAttributeNS(r,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const o=Zg[i];o?t.removeAttributeNS(o,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,o){o&(eo.DashCase|eo.Important)?t.style.setProperty(n,i,o&eo.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&eo.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){null!=t&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if("string"==typeof t&&!(t=ao().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function dE(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class L3 extends Xg{constructor(t,n,i,o,r,s,a,c){super(t,r,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=lE(o.id,o.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kg extends Xg{constructor(t,n,i,o,r,s,a,c){super(t,r,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?lE(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hE extends Kg{constructor(t,n,i,o,r,s,a,c){const l=o+"-"+i.id;super(t,n,i,r,s,a,c,l),this.contentAttr=function N3(e){return"_ngcontent-%COMP%".replace(Qg,e)}(l),this.hostAttr=function R3(e){return"_nghost-%COMP%".replace(Qg,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let V3=(()=>{class e extends sE{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}static#e=this.\u0275fac=function(i){return new(i||e)(j(En))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const fE=["alt","control","meta","shift"],B3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z3={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let U3=(()=>{class e extends sE{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,o){const r=e.parseEventName(i),s=e.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ao().onAndCancel(n,r.domEventName,s))}static parseEventName(n){const i=n.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const r=e._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),fE.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=r,0!=i.length||0===r.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,i){let o=B3[n.key]||n.key,r="";return i.indexOf("code.")>-1&&(o=n.code,r="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),fE.forEach(s=>{s!==o&&(0,z3[s])(n)&&(r+=s+".")}),r+=o,r===i)}static eventCallback(n,i,o){return r=>{e.matchEventFullKeyCode(r,n)&&o.runGuarded(()=>i(r))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(i){return new(i||e)(j(En))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const G3=YD(VV,"browser",[{provide:No,useValue:Z0},{provide:YC,useValue:function j3(){Wg.makeCurrent()},multi:!0},{provide:En,useFactory:function $3(){return function xI(e){vf=e}(document),document},deps:[]}]),W3=new R(""),mE=[{provide:Su,useClass:class x3{addToWindow(t){Ce.getAngularTestability=(i,o=!0)=>{const r=t.findTestabilityInTree(i,o);if(null==r)throw new E(5103,!1);return r},Ce.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ce.getAllAngularRootElements=()=>t.getAllRootElements(),Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(i=>{const o=Ce.getAllAngularTestabilities();let r=o.length;const s=function(){r--,0==r&&i()};o.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?ao().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:LD,useClass:fg,deps:[Me,pg,Su]},{provide:fg,useClass:fg,deps:[Me,pg,Su]}],vE=[{provide:Ih,useValue:"root"},{provide:ni,useFactory:function H3(){return new ni},deps:[]},{provide:qg,useClass:V3,multi:!0,deps:[En,Me,No]},{provide:qg,useClass:U3,multi:!0,deps:[En]},uE,aE,rE,{provide:gb,useExisting:uE},{provide:class Xz{},useClass:O3,deps:[]},[]];let q3=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ol,useValue:n.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(j(W3,12))};static#t=this.\u0275mod=Ei({type:e});static#n=this.\u0275inj=Yn({providers:[...vE,...mE],imports:[jz,BV]})}return e})(),Y3=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(i){return new(i||e)(j(En))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function co(e){return this instanceof co?(this.v=e,this):new co(e)}function DE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function nm(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=e[r]&&function(s){return new Promise(function(a,c){!function o(r,s,a,c){Promise.resolve(c).then(function(l){r({value:l,done:a})},s)}(a,c,(s=e[r](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const EE=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function SE(e){return Be(e?.then)}function PE(e){return Be(e[ch])}function xE(e){return Symbol.asyncIterator&&Be(e?.[Symbol.asyncIterator])}function OE(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const TE=function yU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function IE(e){return Be(e?.[TE])}function kE(e){return function ME(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(e,t||[]),r=[];return o={},a("next"),a("throw"),a("return",function s(f){return function(g){return Promise.resolve(g).then(f,d)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(f,g){i[f]&&(o[f]=function(v){return new Promise(function(_,C){r.push([f,v,_,C])>1||c(f,v)})},g&&(o[f]=g(o[f])))}function c(f,g){try{!function l(f){f.value instanceof co?Promise.resolve(f.value.v).then(u,d):h(r[0][2],f)}(i[f](g))}catch(v){h(r[0][3],v)}}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),r.shift(),r.length&&c(r[0][0],r[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:o}=yield co(n.read());if(o)return yield co(void 0);yield yield co(i)}}finally{n.releaseLock()}})}function AE(e){return Be(e?.getReader)}function di(e){if(e instanceof gt)return e;if(null!=e){if(PE(e))return function bU(e){return new gt(t=>{const n=e[ch]();if(Be(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(EE(e))return function wU(e){return new gt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(SE(e))return function MU(e){return new gt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Xv)})}(e);if(xE(e))return NE(e);if(IE(e))return function DU(e){return new gt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(AE(e))return function EU(e){return NE(kE(e))}(e)}throw OE(e)}function NE(e){return new gt(t=>{(function SU(e,t){var n,i,o,r;return function bE(e,t,n,i){return new(n||(n=Promise))(function(r,s){function a(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?r(u.value):function o(r){return r instanceof n?r:new n(function(s){s(r)})}(u.value).then(a,c)}l((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=DE(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&(yield r.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Vi(e,t,n,i=0,o=!1){const r=t.schedule(function(){n(),o?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(r),!o)return r}function RE(e,t=0){return Dt((n,i)=>{n.subscribe(st(i,o=>Vi(i,e,()=>i.next(o),t),()=>Vi(i,e,()=>i.complete(),t),o=>Vi(i,e,()=>i.error(o),t)))})}function FE(e,t=0){return Dt((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function LE(e,t){if(!e)throw new Error("Iterable cannot be null");return new gt(n=>{Vi(n,t,()=>{const i=e[Symbol.asyncIterator]();Vi(n,t,()=>{i.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function yt(e,t){return t?function kU(e,t){if(null!=e){if(PE(e))return function PU(e,t){return di(e).pipe(FE(t),RE(t))}(e,t);if(EE(e))return function OU(e,t){return new gt(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(SE(e))return function xU(e,t){return di(e).pipe(FE(t),RE(t))}(e,t);if(xE(e))return LE(e,t);if(IE(e))return function TU(e,t){return new gt(n=>{let i;return Vi(n,t,()=>{i=e[TE](),Vi(n,t,()=>{let o,r;try{({value:o,done:r}=i.next())}catch(s){return void n.error(s)}r?n.complete():n.next(o)},0,!0)}),()=>Be(i?.return)&&i.return()})}(e,t);if(AE(e))return function IU(e,t){return LE(kE(e),t)}(e,t)}throw OE(e)}(e,t):di(e)}function im(e){return e[e.length-1]}function VE(e){return Be(im(e))?e.pop():void 0}function Xu(e){return function AU(e){return e&&Be(e.schedule)}(im(e))?e.pop():void 0}function Z(...e){return yt(e,Xu(e))}const{isArray:NU}=Array,{getPrototypeOf:RU,prototype:FU,keys:LU}=Object;function BE(e){if(1===e.length){const t=e[0];if(NU(t))return{args:t,keys:null};if(function VU(e){return e&&"object"==typeof e&&RU(e)===FU}(t)){const n=LU(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}const{isArray:BU}=Array;function zE(e){return ye(t=>function zU(e,t){return BU(t)?e(...t):e(t)}(e,t))}function UE(e,t){return e.reduce((n,i,o)=>(n[i]=t[o],n),{})}function om(...e){const t=Xu(e),n=VE(e),{args:i,keys:o}=BE(e);if(0===i.length)return yt([],t);const r=new gt(function UU(e,t,n=Eo){return i=>{jE(t,()=>{const{length:o}=e,r=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)jE(t,()=>{const l=yt(e[c],t);let u=!1;l.subscribe(st(i,d=>{r[c]=d,u||(u=!0,a--),a||i.next(n(r.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,o?s=>UE(o,s):Eo));return n?r.pipe(zE(n)):r}function jE(e,t,n){e?Vi(n,e,t):t()}const Ku=Jd(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Nt(e,t,n=1/0){return Be(t)?Nt((i,o)=>ye((r,s)=>t(i,r,o,s))(di(e(i,o))),n):("number"==typeof t&&(n=t),Dt((i,o)=>function jU(e,t,n,i,o,r,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&t.complete()},f=v=>l<i?g(v):c.push(v),g=v=>{r&&t.next(v),l++;let _=!1;di(n(v,u++)).subscribe(st(t,C=>{o?.(C),r?f(C):t.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<i;){const C=c.shift();s?Vi(t,s,()=>g(C)):g(C)}h()}catch(C){t.error(C)}}))};return e.subscribe(st(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,o,e,n)))}function uc(e=1/0){return Nt(Eo,e)}function rm(...e){return function HU(){return uc(1)}()(yt(e,Xu(e)))}function HE(e){return new gt(t=>{di(e()).subscribe(t)})}function Ju(e,t){const n=Be(e)?e:()=>e,i=o=>o.error(n());return new gt(t?o=>t.schedule(i,0,o):i)}const hi=new gt(e=>e.complete());function sm(){return Dt((e,t)=>{let n=null;e._refCount++;const i=st(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,r=n;n=null,o&&(!r||o===r)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class $E extends gt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,t_(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Xt;const n=this.getSubject();t.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Xt.EMPTY)}return t}refCount(){return sm()(this)}}function fi(e,t){return Dt((n,i)=>{let o=null,r=0,s=!1;const a=()=>s&&!o&&i.complete();n.subscribe(st(i,c=>{o?.unsubscribe();let l=0;const u=r++;di(e(c,u)).subscribe(o=st(i,d=>i.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ms(e){return e<=0?()=>hi:Dt((t,n)=>{let i=0;t.subscribe(st(n,o=>{++i<=e&&(n.next(o),e<=i&&n.complete())}))})}function lo(e,t){return Dt((n,i)=>{let o=0;n.subscribe(st(i,r=>e.call(t,r,o++)&&i.next(r)))})}function ed(e){return Dt((t,n)=>{let i=!1;t.subscribe(st(n,o=>{i=!0,n.next(o)},()=>{i||n.next(e),n.complete()}))})}function GE(e=WU){return Dt((t,n)=>{let i=!1;t.subscribe(st(n,o=>{i=!0,n.next(o)},()=>i?n.complete():n.error(e())))})}function WU(){return new Ku}function qo(e,t){const n=arguments.length>=2;return i=>i.pipe(e?lo((o,r)=>e(o,r,i)):Eo,ms(1),n?ed(t):GE(()=>new Ku))}function dc(e,t){return Be(t)?Nt(e,t,1):Nt(e,1)}function qt(e,t,n){const i=Be(e)||t||n?{next:e,error:t,complete:n}:e;return i?Dt((o,r)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;o.subscribe(st(r,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),r.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),r.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),r.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Eo}function vs(e){return Dt((t,n)=>{let r,i=null,o=!1;i=t.subscribe(st(n,void 0,void 0,s=>{r=di(e(s,vs(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):o=!0})),o&&(i.unsubscribe(),i=null,r.subscribe(n))})}function am(e){return e<=0?()=>hi:Dt((t,n)=>{let i=[];t.subscribe(st(n,o=>{i.push(o),e<i.length&&i.shift()},()=>{for(const o of i)n.next(o);n.complete()},void 0,()=>{i=null}))})}function cm(e){return Dt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ee="primary",hc=Symbol("RouteTitle");class KU{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function _s(e){return new KU(e)}function JU(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const o={};for(let r=0;r<i.length;r++){const s=i[r],a=e[r];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:o}}function pi(e,t){const n=e?lm(e):void 0,i=t?lm(t):void 0;if(!n||!i||n.length!=i.length)return!1;let o;for(let r=0;r<n.length;r++)if(o=n[r],!WE(e[o],t[o]))return!1;return!0}function lm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function WE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((o,r)=>i[r]===o)}return e===t}function qE(e){return e.length>0?e[e.length-1]:null}function uo(e){return function K3(e){return!!e&&(e instanceof gt||Be(e.lift)&&Be(e.subscribe))}(e)?e:ec(e)?yt(Promise.resolve(e)):Z(e)}const tj={exact:function QE(e,t,n){if(!Yo(e.segments,t.segments)||!td(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!QE(e.children[i],t.children[i],n))return!1;return!0},subset:XE},YE={exact:function nj(e,t){return pi(e,t)},subset:function ij(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>WE(e[n],t[n]))},ignored:()=>!0};function ZE(e,t,n){return tj[n.paths](e.root,t.root,n.matrixParams)&&YE[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function XE(e,t,n){return KE(e,t,t.segments,n)}function KE(e,t,n,i){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Yo(o,n)||t.hasChildren()||!td(o,n,i))}if(e.segments.length===n.length){if(!Yo(e.segments,n)||!td(e.segments,n,i))return!1;for(const o in t.children)if(!e.children[o]||!XE(e.children[o],t.children[o],i))return!1;return!0}{const o=n.slice(0,e.segments.length),r=n.slice(e.segments.length);return!!(Yo(e.segments,o)&&td(e.segments,o,i)&&e.children[ee])&&KE(e.children[ee],t,r,i)}}function td(e,t,n){return t.every((i,o)=>YE[n](e[o].parameters,i.parameters))}class Cs{constructor(t=new xe([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return sj.serialize(this)}}class xe{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nd(this)}}class fc{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=_s(this.parameters),this._parameterMap}toString(){return tS(this)}}function Yo(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let ys=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:()=>new um,providedIn:"root"})}return e})();class um{parse(t){const n=new vj(t);return new Cs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${pc(t.root,!0)}`,i=function lj(e){const t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(o=>`${id(n)}=${id(o)}`).join("&"):`${id(n)}=${id(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function aj(e){return encodeURI(e)}(t.fragment)}`:""}`}}const sj=new um;function nd(e){return e.segments.map(t=>tS(t)).join("/")}function pc(e,t){if(!e.hasChildren())return nd(e);if(t){const n=e.children[ee]?pc(e.children[ee],!1):"",i=[];return Object.entries(e.children).forEach(([o,r])=>{o!==ee&&i.push(`${o}:${pc(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function rj(e,t){let n=[];return Object.entries(e.children).forEach(([i,o])=>{i===ee&&(n=n.concat(t(o,i)))}),Object.entries(e.children).forEach(([i,o])=>{i!==ee&&(n=n.concat(t(o,i)))}),n}(e,(i,o)=>o===ee?[pc(e.children[ee],!1)]:[`${o}:${pc(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ee]?`${nd(e)}/${n[0]}`:`${nd(e)}/(${n.join("//")})`}}function JE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function id(e){return JE(e).replace(/%3B/gi,";")}function dm(e){return JE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function od(e){return decodeURIComponent(e)}function eS(e){return od(e.replace(/\+/g,"%20"))}function tS(e){return`${dm(e.path)}${function cj(e){return Object.entries(e).map(([t,n])=>`;${dm(t)}=${dm(n)}`).join("")}(e.parameters)}`}const uj=/^[^\/()?;#]+/;function hm(e){const t=e.match(uj);return t?t[0]:""}const dj=/^[^\/()?;=#]+/,fj=/^[^=?&#]+/,gj=/^[^&#]+/;class vj{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[ee]=new xe(t,n)),i}parseSegment(){const t=hm(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new fc(od(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function hj(e){const t=e.match(dj);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const o=hm(this.remaining);o&&(i=o,this.capture(i))}t[od(n)]=od(i)}parseQueryParam(t){const n=function pj(e){const t=e.match(fj);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=function mj(e){const t=e.match(gj);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const o=eS(n),r=eS(i);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(r)}else t[o]=r}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=hm(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new E(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=ee);const s=this.parseChildren();n[r]=1===Object.keys(s).length?s[ee]:new xe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}}function nS(e){return e.segments.length>0?new xe([],{[ee]:e}):e}function iS(e){const t={};for(const[i,o]of Object.entries(e.children)){const r=iS(o);if(i===ee&&0===r.segments.length&&r.hasChildren())for(const[s,a]of Object.entries(r.children))t[s]=a;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}return function _j(e){if(1===e.numberOfChildren&&e.children[ee]){const t=e.children[ee];return new xe(e.segments.concat(t.segments),t.children)}return e}(new xe(e.segments,t))}function bs(e){return e instanceof Cs}function oS(e){let t;const o=nS(function n(r){const s={};for(const c of r.children){const l=n(c);s[c.outlet]=l}const a=new xe(r.url,s);return r===e&&(t=a),a}(e.root));return t??o}function rS(e,t,n,i){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return fm(o,o,o,n,i);const r=function yj(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new aS(!0,0,e);let t=0,n=!1;const i=e.reduce((o,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Object.entries(r.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return"string"!=typeof r?[...o,r]:0===s?(r.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,r]},[]);return new aS(n,t,i)}(t);if(r.toRoot())return fm(o,o,new xe([],{}),n,i);const s=function bj(e,t,n){if(e.isAbsolute)return new sd(t,!0,0);if(!n)return new sd(t,!1,NaN);if(null===n.parent)return new sd(n,!0,0);const i=rd(e.commands[0])?0:1;return function wj(e,t,n){let i=e,o=t,r=n;for(;r>o;){if(r-=o,i=i.parent,!i)throw new E(4005,!1);o=i.segments.length}return new sd(i,!1,o-r)}(n,n.segments.length-1+i,e.numberOfDoubleDots)}(r,o,e),a=s.processChildren?mc(s.segmentGroup,s.index,r.commands):cS(s.segmentGroup,s.index,r.commands);return fm(o,s.segmentGroup,a,n,i)}function rd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function gc(e){return"object"==typeof e&&null!=e&&e.outlets}function fm(e,t,n,i,o){let s,r={};i&&Object.entries(i).forEach(([c,l])=>{r[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=e===t?n:sS(e,t,n);const a=nS(iS(s));return new Cs(a,r,o)}function sS(e,t,n){const i={};return Object.entries(e.children).forEach(([o,r])=>{i[o]=r===t?n:sS(r,t,n)}),new xe(e.segments,i)}class aS{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&rd(i[0]))throw new E(4003,!1);const o=i.find(gc);if(o&&o!==qE(i))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sd{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function cS(e,t,n){if(e??=new xe([],{}),0===e.segments.length&&e.hasChildren())return mc(e,t,n);const i=function Dj(e,t,n){let i=0,o=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(i>=n.length)return r;const s=e.segments[o],a=n[i];if(gc(a))break;const c=`${a}`,l=i<n.length-1?n[i+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!uS(c,l,s))return r;i+=2}else{if(!uS(c,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(e,t,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const r=new xe(e.segments.slice(0,i.pathIndex),{});return r.children[ee]=new xe(e.segments.slice(i.pathIndex),e.children),mc(r,0,o)}return i.match&&0===o.length?new xe(e.segments,{}):i.match&&!e.hasChildren()?pm(e,t,n):i.match?mc(e,0,o):pm(e,t,n)}function mc(e,t,n){if(0===n.length)return new xe(e.segments,{});{const i=function Mj(e){return gc(e[0])?e[0].outlets:{[ee]:e}}(n),o={};if(Object.keys(i).some(r=>r!==ee)&&e.children[ee]&&1===e.numberOfChildren&&0===e.children[ee].segments.length){const r=mc(e.children[ee],t,n);return new xe(e.segments,r.children)}return Object.entries(i).forEach(([r,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[r]=cS(e.children[r],t,s))}),Object.entries(e.children).forEach(([r,s])=>{void 0===i[r]&&(o[r]=s)}),new xe(e.segments,o)}}function pm(e,t,n){const i=e.segments.slice(0,t);let o=0;for(;o<n.length;){const r=n[o];if(gc(r)){const c=Ej(r.outlets);return new xe(i,c)}if(0===o&&rd(n[0])){i.push(new fc(e.segments[t].path,lS(n[0]))),o++;continue}const s=gc(r)?r.outlets[ee]:`${r}`,a=o<n.length-1?n[o+1]:null;s&&a&&rd(a)?(i.push(new fc(s,lS(a))),o+=2):(i.push(new fc(s,{})),o++)}return new xe(i,{})}function Ej(e){const t={};return Object.entries(e).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[n]=pm(new xe([],{}),0,i))}),t}function lS(e){const t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function uS(e,t,n){return e==n.path&&pi(t,n.parameters)}const vc="imperative";var ue=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ue||{});class gi{constructor(t,n){this.id=t,this.url=n}}class ad extends gi{constructor(t,n,i="imperative",o=null){super(t,n),this.type=ue.NavigationStart,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends gi{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=ue.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var vn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(vn||{}),cd=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(cd||{});class ws extends gi{constructor(t,n,i,o){super(t,n),this.reason=i,this.code=o,this.type=ue.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ms extends gi{constructor(t,n,i,o){super(t,n),this.reason=i,this.code=o,this.type=ue.NavigationSkipped}}class ld extends gi{constructor(t,n,i,o){super(t,n),this.error=i,this.target=o,this.type=ue.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dS extends gi{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=ue.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sj extends gi{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=ue.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pj extends gi{constructor(t,n,i,o,r){super(t,n),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r,this.type=ue.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xj extends gi{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=ue.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oj extends gi{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=ue.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tj{constructor(t){this.route=t,this.type=ue.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ij{constructor(t){this.route=t,this.type=ue.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kj{constructor(t){this.snapshot=t,this.type=ue.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aj{constructor(t){this.snapshot=t,this.type=ue.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nj{constructor(t){this.snapshot=t,this.type=ue.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rj{constructor(t){this.snapshot=t,this.type=ue.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hS{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=ue.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gm{}class mm{constructor(t){this.url=t}}class Fj{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _c,this.attachRef=null}}let _c=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Fj,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class fS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=vm(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=vm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=_m(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return _m(t,this._root).map(n=>n.value)}}function vm(e,t){if(e===t.value)return t;for(const n of t.children){const i=vm(e,n);if(i)return i}return null}function _m(e,t){if(e===t.value)return[t];for(const n of t.children){const i=_m(e,n);if(i.length)return i.unshift(t),i}return[]}class Hn{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ds(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class pS extends fS{constructor(t,n){super(t),this.snapshot=n,bm(this,t)}toString(){return this.snapshot.toString()}}function gS(e){const t=function Lj(e){const r=new ym([],{},{},"",{},ee,e,null,{});return new mS("",new Hn(r,[]))}(e),n=new wn([new fc("",{})]),i=new wn({}),o=new wn({}),r=new wn({}),s=new wn(""),a=new Es(n,i,r,s,o,ee,e,t.root);return a.snapshot=t.root,new pS(new Hn(a,[]),t)}class Es{constructor(t,n,i,o,r,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ye(l=>l[hc]))??Z(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ye(t=>_s(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ye(t=>_s(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cm(e,t,n="emptyOnly"){let i;const{routeConfig:o}=e;return i=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&_S(o)&&(i.resolve[hc]=o.title),i}class ym{get title(){return this.data?.[hc]}constructor(t,n,i,o,r,s,a,c,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mS extends fS{constructor(t,n){super(n),this.url=t,bm(this,n)}toString(){return vS(this._root)}}function bm(e,t){t.value._routerState=e,t.children.forEach(n=>bm(e,n))}function vS(e){const t=e.children.length>0?` { ${e.children.map(vS).join(", ")} } `:"";return`${e.value}${t}`}function wm(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,pi(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),pi(t.params,n.params)||e.paramsSubject.next(n.params),function ej(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!pi(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),pi(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Mm(e,t){const n=pi(e.params,t.params)&&function oj(e,t){return Yo(e,t)&&e.every((n,i)=>pi(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Mm(e.parent,t.parent))}function _S(e){return"string"==typeof e.title||null===e.title}let Dm=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=S(_c),this.location=S(nt),this.changeDetector=S($o),this.environmentInjector=S(tn),this.inputBinder=S(ud,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Em(n,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=G({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]})}return e})();class Em{__ngOutletInjector(t){return new Em(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Es?this.route:t===_c?this.childContexts:this.parent.get(t,n)}}const ud=new R("");let CS=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:i}=n,o=om([i.queryParams,i.params,i.data]).pipe(fi(([r,s,a],c)=>(a={...r,...s,...a},0===c?Z(a):Promise.resolve(a)))).subscribe(r=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(n);const s=function yB(e){const t=oe(e);if(!t)return null;const n=new Na(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,r[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})();function Cc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const o=function Bj(e,t,n){return t.children.map(i=>{for(const o of n.children)if(e.shouldReuseRoute(i.value,o.value.snapshot))return Cc(e,i,o);return Cc(e,i)})}(e,t,n);return new Hn(i,o)}{if(e.shouldAttach(t.value)){const r=e.retrieve(t.value);if(null!==r){const s=r.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Cc(e,a)),s}}const i=function zj(e){return new Es(new wn(e.url),new wn(e.params),new wn(e.queryParams),new wn(e.fragment),new wn(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(r=>Cc(e,r));return new Hn(i,o)}}const yS="ngNavigationCancelingError";function bS(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=bs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=wS(!1,vn.Redirect);return o.url=n,o.navigationBehaviorOptions=i,o}function wS(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[yS]=!0,n.cancellationCode=t,n}function MS(e){return!!e&&e[yS]}let DS=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["ng-component"]],standalone:!0,features:[Pe],decls:1,vars:0,template:function(i,o){1&i&&A(0,"router-outlet")},dependencies:[Dm],encapsulation:2})}return e})();function Sm(e){const t=e.children&&e.children.map(Sm),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=DS),n}function mi(e){return e.outlet||ee}function yc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Yj{constructor(t,n,i,o,r){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),wm(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const o=Ds(n);t.children.forEach(r=>{const s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,n,i){const o=t.value,r=n?n.value:null;if(o===r)if(o.component){const s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else r&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),o=i&&t.value.component?i.children:n,r=Ds(t);for(const s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),o=i&&t.value.component?i.children:n,r=Ds(t);for(const s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){const o=Ds(n);t.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new Rj(r.value.snapshot))}),t.children.length&&this.forwardEvent(new Aj(t.value.snapshot))}activateRoutes(t,n,i){const o=t.value,r=n?n.value:null;if(wm(o),o===r)if(o.component){const s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(o.component){const s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wm(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=yc(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class ES{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class dd{constructor(t,n){this.component=t,this.route=n}}function Zj(e,t,n){const i=e._root;return bc(i,t?t._root:null,n,[i.value])}function Ss(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function sO(e){return null!==Zc(e)}(e)?t.get(e):e:i}function bc(e,t,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=Ds(t);return e.children.forEach(s=>{(function Xj(e,t,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const c=function Kj(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Yo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Yo(e.url,t.url)||!pi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mm(e,t)||!pi(e.queryParams,t.queryParams);default:return!Mm(e,t)}}(s,r,r.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ES(i)):(r.data=s.data,r._resolvedData=s._resolvedData),bc(e,t,r.component?a?a.children:null:n,i,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new dd(a.outlet.component,s))}else s&&wc(t,a,o),o.canActivateChecks.push(new ES(i)),bc(e,null,r.component?a?a.children:null:n,i,o)})(s,r[s.value.outlet],n,i.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>wc(a,n.getContext(s),o)),o}function wc(e,t,n){const i=Ds(e),o=e.value;Object.entries(i).forEach(([r,s])=>{wc(s,o.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new dd(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Mc(e){return"function"==typeof e}function SS(e){return e instanceof Ku||"EmptyError"===e?.name}const hd=Symbol("INITIAL_VALUE");function Ps(){return fi(e=>om(e.map(t=>t.pipe(ms(1),function GU(...e){const t=Xu(e);return Dt((n,i)=>{(t?rm(e,n,t):rm(e,n)).subscribe(i)})}(hd)))).pipe(ye(t=>{for(const n of t)if(!0!==n){if(n===hd)return hd;if(!1===n||n instanceof Cs)return n}return!0}),lo(t=>t!==hd),ms(1)))}function PS(e){return function Q1(...e){return Kv(e)}(qt(t=>{if(bs(t))throw bS(0,t)}),ye(t=>!0===t))}class Pm{constructor(t){this.segmentGroup=t||null}}class xm extends Error{constructor(t){super(),this.urlTree=t}}function xs(e){return Ju(new Pm(e))}class v5{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],o=n.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Z(i);if(o.numberOfChildren>1||!o.children[ee])return Ju(new E(4e3,!1));o=o.children[ee]}}applyRedirectCommands(t,n,i){const o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new xm(o);return o}applyRedirectCreateUrlTree(t,n,i,o){const r=this.createSegmentGroup(t,n.root,i,o);return new Cs(r,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Object.entries(t).forEach(([o,r])=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=n[a]}else i[o]=r}),i}createSegmentGroup(t,n,i,o){const r=this.createSegments(t,n.segments,i,o);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,o)}),new xe(r,s)}createSegments(t,n,i,o){return n.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,o):this.findOrReturn(r,i))}findPosParam(t,n,i){const o=i[n.path.substring(1)];if(!o)throw new E(4001,!1);return o}findOrReturn(t,n){let i=0;for(const o of n){if(o.path===t.path)return n.splice(i),o;i++}return t}}const Om={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _5(e,t,n,i,o){const r=Tm(e,t,n);return r.matched?(i=function jj(e,t){return e.providers&&!e._injector&&(e._injector=au(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,i),function p5(e,t,n,i){const o=t.canMatch;return o&&0!==o.length?Z(o.map(s=>{const a=Ss(s,e);return uo(function o5(e){return e&&Mc(e.canMatch)}(a)?a.canMatch(t,n):Si(e,()=>a(t,n)))})).pipe(Ps(),PS()):Z(!0)}(i,t,n).pipe(ye(s=>!0===s?r:{...Om}))):Z(r)}function Tm(e,t,n){if("**"===t.path)return function C5(e){return{matched:!0,parameters:e.length>0?qE(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Om}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||JU)(n,e,t);if(!o)return{...Om};const r={};Object.entries(o.posParams??{}).forEach(([a,c])=>{r[a]=c.path});const s=o.consumed.length>0?{...r,...o.consumed[o.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function xS(e,t,n,i){return n.length>0&&function w5(e,t,n){return n.some(i=>fd(e,t,i)&&mi(i)!==ee)}(e,n,i)?{segmentGroup:new xe(t,b5(i,new xe(n,e.children))),slicedSegments:[]}:0===n.length&&function M5(e,t,n){return n.some(i=>fd(e,t,i))}(e,n,i)?{segmentGroup:new xe(e.segments,y5(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new xe(e.segments,e.children),slicedSegments:n}}function y5(e,t,n,i){const o={};for(const r of n)if(fd(e,t,r)&&!i[mi(r)]){const s=new xe([],{});o[mi(r)]=s}return{...i,...o}}function b5(e,t){const n={};n[ee]=t;for(const i of e)if(""===i.path&&mi(i)!==ee){const o=new xe([],{});n[mi(i)]=o}return n}function fd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class S5{}class O5{constructor(t,n,i,o,r,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new v5(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new E(4002,`'${t.segmentGroup}'`)}recognize(){const t=xS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ye(n=>{const i=new ym([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),o=new Hn(i,n),r=new mS("",o),s=function Cj(e,t,n=null,i=null){return rS(oS(e),t,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(r._root,null),{state:r,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ee).pipe(vs(i=>{if(i instanceof xm)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Pm?this.noMatchError(i):i}))}inheritParamsAndData(t,n){const i=t.value,o=Cm(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),t.children.forEach(r=>this.inheritParamsAndData(r,i))}processSegmentGroup(t,n,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,o,!0).pipe(ye(r=>r instanceof Hn?[r]:[]))}processChildren(t,n,i){const o=[];for(const r of Object.keys(i.children))"primary"===r?o.unshift(r):o.push(r);return yt(o).pipe(dc(r=>{const s=i.children[r],a=function Wj(e,t){const n=e.filter(i=>mi(i)===t);return n.push(...e.filter(i=>mi(i)!==t)),n}(n,r);return this.processSegmentGroup(t,a,s,r)}),function YU(e,t){return Dt(function qU(e,t,n,i,o){return(r,s)=>{let a=n,c=t,l=0;r.subscribe(st(s,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),i&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((r,s)=>(r.push(...s),r)),ed(null),function ZU(e,t){const n=arguments.length>=2;return i=>i.pipe(e?lo((o,r)=>e(o,r,i)):Eo,am(1),n?ed(t):GE(()=>new Ku))}(),Nt(r=>{if(null===r)return xs(i);const s=OS(r);return function T5(e){e.sort((t,n)=>t.value.outlet===ee?-1:n.value.outlet===ee?1:t.value.outlet.localeCompare(n.value.outlet))}(s),Z(s)}))}processSegment(t,n,i,o,r,s){return yt(n).pipe(dc(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,i,o,r,s).pipe(vs(c=>{if(c instanceof Pm)return Z(null);throw c}))),qo(a=>!!a),vs(a=>{if(SS(a))return function E5(e,t,n){return 0===t.length&&!e.children[n]}(i,o,r)?Z(new S5):xs(i);throw a}))}processSegmentAgainstRoute(t,n,i,o,r,s,a){return function D5(e,t,n,i){return!!(mi(e)===i||i!==ee&&fd(t,n,e))&&Tm(t,e,n).matched}(i,o,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,o,i,r,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,i,r,s):xs(o):xs(o)}expandSegmentAgainstRouteUsingRedirect(t,n,i,o,r,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Tm(n,o,r);if(!a)return xs(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,l);return this.applyRedirects.lineralizeSegments(o,d).pipe(Nt(h=>this.processSegment(t,i,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,i,o,r){const s=_5(n,i,o,t);return"**"===i.path&&(n.children={}),s.pipe(fi(a=>a.matched?this.getChildConfig(t=i._injector??t,i,o).pipe(fi(({routes:c})=>{const l=i._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new ym(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function k5(e){return e.data||{}}(i),mi(i),i.component??i._loadedComponent??null,i,function A5(e){return e.resolve||{}}(i)),{segmentGroup:g,slicedSegments:v}=xS(n,u,d,c);if(0===v.length&&g.hasChildren())return this.processChildren(l,c,g).pipe(ye(C=>null===C?null:new Hn(f,C)));if(0===c.length&&0===v.length)return Z(new Hn(f,[]));const _=mi(i)===r;return this.processSegment(l,c,g,v,_?ee:r,!0).pipe(ye(C=>new Hn(f,C instanceof Hn?[C]:[])))})):xs(n)))}getChildConfig(t,n,i){return n.children?Z({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):function f5(e,t,n,i){const o=t.canLoad;return void 0===o||0===o.length?Z(!0):Z(o.map(s=>{const a=Ss(s,e);return uo(function e5(e){return e&&Mc(e.canLoad)}(a)?a.canLoad(t,n):Si(e,()=>a(t,n)))})).pipe(Ps(),PS())}(t,n,i).pipe(Nt(o=>o?this.configLoader.loadChildren(t,n).pipe(qt(r=>{n._loadedRoutes=r.routes,n._loadedInjector=r.injector})):function m5(e){return Ju(wS(!1,vn.GuardRejected))}())):Z({routes:[],injector:t})}}function I5(e){const t=e.value.routeConfig;return t&&""===t.path}function OS(e){const t=[],n=new Set;for(const i of e){if(!I5(i)){t.push(i);continue}const o=t.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==o?(o.children.push(...i.children),n.add(o)):t.push(i)}for(const i of n){const o=OS(i.children);t.push(new Hn(i.value,o))}return t.filter(i=>!n.has(i))}function TS(e){const t=e.children.map(n=>TS(n)).flat();return[e,...t]}function Im(e){return fi(t=>{const n=e(t);return n?yt(n).pipe(ye(()=>t)):Z(t)})}let IS=(()=>{class e{buildTitle(n){let i,o=n.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===ee);return i}getResolvedTitleForRoute(n){return n.data[hc]}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:()=>S(B5),providedIn:"root"})}return e})(),B5=(()=>{class e extends IS{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||e)(j(Y3))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Os=new R("",{providedIn:"root",factory:()=>({})}),Ts=new R("");let km=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(jD)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=uo(n.loadComponent()).pipe(ye(kS),qt(r=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=r}),cm(()=>{this.componentLoaders.delete(n)})),o=new $E(i,()=>new bn).pipe(sm());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const r=function z5(e,t,n,i){return uo(e.loadChildren()).pipe(ye(kS),Nt(o=>o instanceof rw||Array.isArray(o)?Z(o):yt(t.compileModuleAsync(o))),ye(o=>{i&&i(e);let r,s,a=!1;return Array.isArray(o)?(s=o,!0):(r=o.create(n).injector,s=r.get(Ts,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sm),injector:r}}))}(i,this.compiler,n,this.onLoadEndListener).pipe(cm(()=>{this.childrenLoaders.delete(i)})),s=new $E(r,()=>new bn).pipe(sm());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kS(e){return function U5(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Am=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:()=>S(j5),providedIn:"root"})}return e})(),j5=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const AS=new R(""),NS=new R("");function H5(e,t,n){const i=e.get(NS),o=e.get(En);return e.get(Me).runOutsideAngular(()=>{if(!o.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let r;const s=new Promise(l=>{r=l}),a=o.startViewTransition(()=>(r(),function $5(e){return new Promise(t=>{mp(t,{injector:e})})}(e))),{onViewTransitionCreated:c}=i;return c&&Si(e,()=>c({transition:a,from:t,to:n})),s})}let pd=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new bn,this.transitionAbortSubject=new bn,this.configLoader=S(km),this.environmentInjector=S(tn),this.urlSerializer=S(ys),this.rootContexts=S(_c),this.location=S(ic),this.inputBindingEnabled=null!==S(ud,{optional:!0}),this.titleStrategy=S(IS),this.options=S(Os,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=S(Am),this.createViewTransition=S(AS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Ij(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Tj(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,o){return this.transitions=new wn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lo(r=>0!==r.id),ye(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),fi(r=>{let s=!1,a=!1;return Z(r).pipe(fi(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vn.SupersededByNewNavigation),hi;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new Ms(c.id,this.urlSerializer.serialize(c.rawUrl),d,cd.IgnoredSameUrlNavigation)),c.resolve(null),hi}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Z(c).pipe(fi(d=>{const h=this.transitions?.getValue();return this.events.next(new ad(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?hi:Promise.resolve(d)}),function N5(e,t,n,i,o,r){return Nt(s=>function P5(e,t,n,i,o,r,s="emptyOnly"){return new O5(e,t,n,i,o,s,r).recognize()}(e,t,n,i,s.extractedUrl,o,r).pipe(ye(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),qt(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new dS(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:g,extras:v}=c,_=new ad(d,this.urlSerializer.serialize(h),f,g);this.events.next(_);const C=gS(this.rootComponentType).snapshot;return this.currentTransition=r={...c,targetSnapshot:C,urlAfterRedirects:h,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,Z(r)}{const d="";return this.events.next(new Ms(c.id,this.urlSerializer.serialize(c.extractedUrl),d,cd.IgnoredByUrlHandlingStrategy)),c.resolve(null),hi}}),qt(c=>{const l=new Sj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ye(c=>(this.currentTransition=r={...c,guards:Zj(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},r)),function r5(e,t){return Nt(n=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=n;return 0===s.length&&0===r.length?Z({...n,guardsResult:!0}):function s5(e,t,n,i){return yt(e).pipe(Nt(o=>function h5(e,t,n,i,o){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?Z(r.map(a=>{const c=yc(t)??o,l=Ss(a,c);return uo(function i5(e){return e&&Mc(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,i):Si(c,()=>l(e,t,n,i))).pipe(qo())})).pipe(Ps()):Z(!0)}(o.component,o.route,n,t,i)),qo(o=>!0!==o,!0))}(s,i,o,e).pipe(Nt(a=>a&&function Jj(e){return"boolean"==typeof e}(a)?function a5(e,t,n,i){return yt(t).pipe(dc(o=>rm(function l5(e,t){return null!==e&&t&&t(new kj(e)),Z(!0)}(o.route.parent,i),function c5(e,t){return null!==e&&t&&t(new Nj(e)),Z(!0)}(o.route,i),function d5(e,t,n){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(s=>function Qj(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>HE(()=>Z(s.guards.map(c=>{const l=yc(s.node)??n,u=Ss(c,l);return uo(function n5(e){return e&&Mc(e.canActivateChild)}(u)?u.canActivateChild(i,e):Si(l,()=>u(i,e))).pipe(qo())})).pipe(Ps())));return Z(r).pipe(Ps())}(e,o.path,n),function u5(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Z(!0);const o=i.map(r=>HE(()=>{const s=yc(t)??n,a=Ss(r,s);return uo(function t5(e){return e&&Mc(e.canActivate)}(a)?a.canActivate(t,e):Si(s,()=>a(t,e))).pipe(qo())}));return Z(o).pipe(Ps())}(e,o.route,n))),qo(o=>!0!==o,!0))}(i,r,e,t):Z(a)),ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),qt(c=>{if(r.guardsResult=c.guardsResult,bs(c.guardsResult))throw bS(0,c.guardsResult);const l=new Pj(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),lo(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",vn.GuardRejected),!1)),Im(c=>{if(c.guards.canActivateChecks.length)return Z(c).pipe(qt(l=>{const u=new xj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),fi(l=>{let u=!1;return Z(l).pipe(function R5(e,t){return Nt(n=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=n;if(!o.length)return Z(n);const r=new Set(o.map(c=>c.route)),s=new Set;for(const c of r)if(!s.has(c))for(const l of TS(c))s.add(l);let a=0;return yt(s).pipe(dc(c=>r.has(c)?function F5(e,t,n,i){const o=e.routeConfig,r=e._resolve;return void 0!==o?.title&&!_S(o)&&(r[hc]=o.title),function L5(e,t,n,i){const o=lm(e);if(0===o.length)return Z({});const r={};return yt(o).pipe(Nt(s=>function V5(e,t,n,i){const o=yc(t)??i,r=Ss(e,o);return uo(r.resolve?r.resolve(t,n):Si(o,()=>r(t,n)))}(e[s],t,n,i).pipe(qo(),qt(a=>{r[s]=a}))),am(1),function QU(e){return ye(()=>e)}(r),vs(s=>SS(s)?hi:Ju(s)))}(r,e,t,i).pipe(ye(s=>(e._resolvedData=s,e.data=Cm(e,e.parent,n).resolve,null)))}(c,i,e,t):(c.data=Cm(c,c.parent,e).resolve,Z(void 0))),qt(()=>a++),am(1),Nt(c=>a===s.size?Z(n):hi))})}(this.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",vn.NoDataFromResolver)}}))}),qt(l=>{const u=new Oj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Im(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(qt(h=>{u.component=h}),ye(()=>{})));for(const h of u.children)d.push(...l(h));return d};return om(l(c.targetSnapshot.root)).pipe(ed(null),ms(1))}),Im(()=>this.afterPreactivation()),fi(()=>{const{currentSnapshot:c,targetSnapshot:l}=r,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?yt(u).pipe(ye(()=>r)):Z(r)}),ye(c=>{const l=function Vj(e,t,n){const i=Cc(e,t._root,n?n._root:void 0);return new pS(i,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,r}),qt(()=>{this.events.next(new gm)}),((e,t,n,i)=>ye(o=>(new Yj(t,o.targetRouterState,o.currentRouterState,n,i).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ms(1),qt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function XU(e){return Dt((t,n)=>{di(e).subscribe(st(n,()=>n.complete(),nh)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(qt(c=>{throw c}))),cm(()=>{!s&&!a&&this.cancelNavigationTransition(r,"",vn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),vs(c=>{if(a=!0,MS(c))this.events.next(new ws(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),function Uj(e){return MS(e)&&bs(e.url)}(c)?this.events.next(new mm(c.url)):r.resolve(!1);else{this.events.next(new ld(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0));try{r.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return hi}))}))}cancelNavigationTransition(n,i,o){const r=new ws(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(r),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function G5(e){return e!==vc}let W5=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:()=>S(Y5),providedIn:"root"})}return e})();class q5{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Y5=(()=>{class e extends q5{static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),RS=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:()=>S(Z5),providedIn:"root"})}return e})(),Z5=(()=>{class e extends RS{constructor(){super(...arguments),this.location=S(ic),this.urlSerializer=S(ys),this.options=S(Os,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=S(Am),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{"popstate"===i.type&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof ad)this.stateMemento=this.createStateMemento();else if(n instanceof Ms)this.rawUrlTree=i.initialUrl;else if(n instanceof dS){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof gm?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof ws&&(n.code===vn.GuardRejected||n.code===vn.NoDataFromResolver)?this.restoreHistory(i):n instanceof ld?this.restoreHistory(i,!0):n instanceof Bi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const r={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",r)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-this.browserPageId;0!==r?this.location.historyGo(r):this.currentUrlTree===n.finalUrl&&0===r&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Dc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Dc||{});function FS(e,t){e.events.pipe(lo(n=>n instanceof Bi||n instanceof ws||n instanceof ld||n instanceof Ms),ye(n=>n instanceof Bi||n instanceof Ms?Dc.COMPLETE:n instanceof ws&&(n.code===vn.Redirect||n.code===vn.SupersededByNewNavigation)?Dc.REDIRECTING:Dc.FAILED),lo(n=>n!==Dc.REDIRECTING),ms(1)).subscribe(()=>{t()})}function Q5(e){throw e}const X5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},K5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=S(kD),this.stateManager=S(RS),this.options=S(Os,{optional:!0})||{},this.pendingTasks=S(jr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=S(pd),this.urlSerializer=S(ys),this.location=S(ic),this.urlHandlingStrategy=S(Am),this._events=new bn,this.errorHandler=this.options.errorHandler||Q5,this.navigated=!1,this.routeReuseStrategy=S(W5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=S(Ts,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!S(ud,{optional:!0}),this.eventsSubscription=new Xt,this.isNgZoneEnabled=S(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(null!==o&&null!==r)if(this.stateManager.handleRouterEvent(i,r),i instanceof ws&&i.code!==vn.Redirect&&i.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bi)this.navigated=!0;else if(i instanceof mm){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||G5(o.source)};this.scheduleNavigation(s,vc,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function e4(e){return!(e instanceof gm||e instanceof mm)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){const r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(r.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,i,s,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...r};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}null!==u&&(u=this.removeEmptyProps(u));try{d=oS(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return rS(d,n,u,l??null)}navigateByUrl(n,i={skipLocationChange:!1}){const o=bs(n)?n:this.parseUrl(n),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,vc,null,i)}navigate(n,i={skipLocationChange:!1}){return function J5(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new E(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(o=!0===i?{...X5}:!1===i?{...K5}:i,bs(n))return ZE(this.currentUrlTree,n,o);const r=this.parseUrl(n);return ZE(this.currentUrlTree,r,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,r])=>(null!=r&&(i[o]=r),i),{})}scheduleNavigation(n,i,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return FS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class LS{}let i4=(()=>{class e{constructor(n,i,o,r,s){this.router=n,this.injector=o,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(lo(n=>n instanceof Bi),dc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const o=[];for(const r of i){r.providers&&!r._injector&&(r._injector=au(r.providers,n,`Route: ${r.path}`));const s=r._injector??n,a=r._loadedInjector??s;(r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(s,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(a,r.children??r._loadedRoutes))}return yt(o).pipe(uc())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):Z(null);const r=o.pipe(Nt(s=>null===s?Z(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return i.loadComponent&&!i._loadedComponent?yt([r,this.loader.loadComponent(i)]).pipe(uc()):r})}static#e=this.\u0275fac=function(i){return new(i||e)(j($n),j(jD),j(tn),j(LS),j(km))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Rm=new R("");let VS=(()=>{class e{constructor(n,i,o,r,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=S(tn),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ad?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Bi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ms&&n.code===cd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hS&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){var o=this;this.zone.runOutsideAngular(Us(function*(){yield new Promise(r=>{setTimeout(()=>{r()}),mp(()=>{r()},{injector:o.environmentInjector})}),o.zone.run(()=>{o.transitions.events.next(new hS(n,"popstate"===o.lastSource?o.store[o.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function zy(){throw new Error("invalid")}()};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac})}return e})();function vi(e,t){return{\u0275kind:e,\u0275providers:t}}function zS(){const e=S(jt);return t=>{const n=e.get(ro);if(t!==n.components[0])return;const i=e.get($n),o=e.get(US);1===e.get(Fm)&&i.initialNavigation(),e.get(jS,null,re.Optional)?.setUpPreloading(),e.get(Rm,null,re.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const US=new R("",{factory:()=>new bn}),Fm=new R("",{providedIn:"root",factory:()=>1}),jS=new R("");function a4(e){return vi(0,[{provide:jS,useExisting:i4},{provide:LS,useExisting:e}])}function l4(e){return vi(9,[{provide:AS,useValue:H5},{provide:NS,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const HS=new R("ROUTER_FORROOT_GUARD"),u4=[ic,{provide:ys,useClass:um},$n,_c,{provide:Es,useFactory:function BS(e){return e.routerState.root},deps:[$n]},km,[]];let $S=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[u4,[],{provide:Ts,multi:!0,useValue:n},{provide:HS,useFactory:p4,deps:[[$n,new el,new tl]]},{provide:Os,useValue:i||{}},i?.useHash?{provide:Wo,useClass:EB}:{provide:Wo,useClass:A0},{provide:Rm,useFactory:()=>{const e=S(qz),t=S(Me),n=S(Os),i=S(pd),o=S(ys);return n.scrollOffset&&e.setOffset(n.scrollOffset),new VS(o,i,e,t,n)}},i?.preloadingStrategy?a4(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?g4(i):[],i?.bindToComponentInputs?vi(8,[CS,{provide:ud,useExisting:CS}]).\u0275providers:[],i?.enableViewTransitions?l4().\u0275providers:[],[{provide:GS,useFactory:zS},{provide:_g,multi:!0,useExisting:GS}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ts,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(i){return new(i||e)(j(HS,8))};static#t=this.\u0275mod=Ei({type:e});static#n=this.\u0275inj=Yn({})}return e})();function p4(e){return"guarded"}function g4(e){return["disabled"===e.initialNavigation?vi(3,[{provide:mg,multi:!0,useFactory:()=>{const t=S($n);return()=>{t.setUpLocationChangeListener()}}},{provide:Fm,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?vi(2,[{provide:Fm,useValue:0},{provide:mg,multi:!0,deps:[jt],useFactory:t=>{const n=t.get(MB,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const o=t.get($n),r=t.get(US);FS(o,()=>{i(!0)}),t.get(pd).afterPreactivation=()=>(i(!0),r.closed?Z(void 0):r),o.initialNavigation()}))}}]).\u0275providers:[]]}const GS=new R("");function WS(e){return`rgb(${e.r}, ${e.g}, ${e.b})`}function Rt(e){return void 0!==e.a?`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`:`rgba(${e.r}, ${e.g}, ${e.b})`}function _n(e,t=.5){return{r:e.r,g:e.g,b:e.b,a:void 0===e.a?t:e.a*t}}function v4(e,t){return{r:Math.round(e.r*t),g:Math.round(e.g*t),b:Math.round(e.b*t),a:e.a}}function Lm(e){return{...e}}const pe={r:0,g:0,b:0},Vm={r:255,g:255,b:255},_i={r:0,g:0,b:0,a:0},Zo={r:13,g:48,b:152},bt={r:127,g:127,b:127},qS={r:255,g:255,b:0},b4={blur:0,offsetX:0,offsetY:0,color:_i},YS=[],Bm=[10,10],A4=[0,"px"],L4=[0,"px"];function Ec(e,t,n=0){const i=t=Gn(t),o_y=t.y+t.height;return rt(e.x,i.x-n,t.x+t.width+n)&&rt(e.y,i.y-n,o_y+n)}function rt(e,t,n){return n<t?rt(e,n,t):e>=t&&e<=n}function Gn(e){return e.width<0?Gn({x:e.x+e.width,y:e.y,width:-e.width,height:e.height}):e.height<0?Gn({x:e.x,y:e.y+e.height,width:e.width,height:-e.height}):e}function U4(e,t){if(!function z4(e,t){return e=Gn(e),t=Gn(t),!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)}(e=Gn(e),t=Gn(t)))return;const n=Math.max(e.x,t.x),i=Math.min(e.x+e.width,t.x+t.width),o=Math.max(e.y,t.y);return{x:n,y:o,width:i-n,height:Math.min(e.y+e.height,t.y+t.height)-o}}function ZS(e,t){if(Ec(e,t))return 0;const n=Math.min(Math.abs(e.x-t.x),Math.abs(e.x-t.x-t.width)),i=Math.min(Math.abs(e.y-t.y),Math.abs(e.y-t.y-t.height));return rt(e.x,t.x,t.x+t.width)?i:rt(e.y,t.y,t.y+t.height)?n:Math.sqrt(i**2+n**2)}function ho(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function H4(...e){let t;for(let n of e)(null==t||isNaN(t)||null!=n&&!isNaN(n)&&n<t)&&(t=n);return t}function QS(e,t){return e.x===t.x&&e.y===t.y}function gd(e,t){const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function XS(e){let t;if(null!==e){for(;-1!==e.indexOf(",");)e=e.replace(",",".");e.length>0&&isFinite(e)&&(t=parseFloat(e))}return t}function Sc(e){return void 0!==XS(e)}function $4(e,t,n){let i=e;for(;-1!=i.indexOf(t);)i=i.replace(t,n);return i}function zm(e,...t){for(let n=0;n<e.length;n++)if(-1!=t.indexOf(e[n]))return n;return-1}function KS(e,...t){let n=t.map(o=>e.indexOf(o)).filter(o=>-1!==o);if(0===n.length)return-1;let i=n[0];for(let o=1;o<n.length;o++)n[o]<i&&(i=n[o]);return i}function Ft(e,...t){return-1!=zm(e,...t)}function W4(e,t){for(let n=e.length-2;n>=0;n--)if(t(e[n],e[n+1]))return n;return-1}function q4(e,t){return-1!==function G4(e,t){for(let n=0;n<e.length-1;n++)if(t(e[n],e[n+1]))return n;return-1}(e,t)}function md(e,...t){return-1!==KS(e,...t)}function JS(e,t,n){return e>t?e:n<t?n:t}function Um(e,t){for(let n of e)if(t(n))return!0;return!1}function Y4(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Z4(e,t,n,i,o,r=1){let s=0;for(let a=i??0;a>=0&&a<e.length;a+=r){let c=e[a];if(Ft(t,c)&&s++,Ft(n,c)&&s--,0==s)return a}if(0==s)return i??0;throw o}function vd(e,t){return void 0!==e&&void 0!==t&&e.r==t.r&&e.g==t.g&&e.b==t.b&&(e.a==t.a||!e.a&&!t.a)}function eP(e){return[...new Set(e)]}function tP(e,t){for(let n of t)if(n[0]===e)return n[1];return e}function nP(e){if(void 0!==e)return{x:0,y:0,width:e.width,height:e.height}}function xn(e){return e?Bm:YS}class jm{getItem(t){for(let n of this.dict)if(n[0]===t)return n[1]}setItem(t,n){for(let i=0;i<this.dict.length;i++)if(this.dict[i][0]===t)return void(this.dict[i][1]=n);this.dict.push([t,n])}delItem(t){const n=this.indexOfKey(t);return n>=0&&(this.dict.splice(n,1),!0)}hasKey(t){for(let n of this.dict)if(n[0]===t)return!0;return!1}indexOfKey(t){for(let n=0;n<this.dict.length;n++)if(this.dict[n][0]===t)return n;return-1}get keys(){return this.dict.map(t=>t[0])}get values(){return this.dict.map(t=>t[1])}empty(){this.dict=[]}get size(){return this.dict.length}constructor(...t){this.dict=t}}const Pc=["mouse","pen","touch"];let K4=(()=>{class e{get active(){return this._active}static#e=this.starts=["pointerdown"];static#t=this.moves=["pointermove"];static#n=this.ends=["pointerup","pointerleave","pointercancel","pointerout"];static#i=this.scrolls=["wheel"];static#o=this.prevents=["pointerdown","pointermove","pointerup","pointerleave","pointercancel","pointerout","pointerover","pointerenter","contextmenu"];getPointerContext(n){return{id:n.pointerId,pointerCount:this.pointerCache.size,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,altKey:n.altKey,metaKey:n.metaKey,moveEventsFired:this.pointerMoveCountCache.getItem(n.pointerId),pointerType:n.pointerType,pressure:n.pressure}}constructor(n,i,o=!0){this.element=n,this.pointerControllerEvents=i,this.preventDefault=o,this._active=!1,this.pointerCache=new jm,this.pointerMoveCountCache=new jm,this.startEvent=r=>{if(r instanceof PointerEvent){let s=gd(r,this.element);this.pointerCache.setItem(r.pointerId,s),this.pointerMoveCountCache.setItem(r.pointerId,0),this.pointerControllerEvents.pointerStart&&this.pointerControllerEvents.pointerStart(s,this.getPointerContext(r))}},this.moveEvent=r=>{if(r instanceof PointerEvent){let s=gd(r,this.element);this.pointerMoveCountCache.hasKey(r.pointerId)&&this.pointerMoveCountCache.setItem(r.pointerId,this.pointerMoveCountCache.getItem(r.pointerId)+1),this.pointerCache.hasKey(r.pointerId)&&(this.pointerControllerEvents.pointerMove&&this.pointerControllerEvents.pointerMove(this.pointerCache.getItem(r.pointerId),s,this.getPointerContext(r)),this.pointerCache.setItem(r.pointerId,s))}},this.endEvent=r=>{if(r instanceof PointerEvent){let s=gd(r,this.element),a=this.getPointerContext(r);this.pointerControllerEvents.pointerEnd&&this.pointerCache.hasKey(r.pointerId)&&this.pointerControllerEvents.pointerEnd(s,a),this.pointerControllerEvents.click&&0===this.pointerMoveCountCache.getItem(r.pointerId)&&this.pointerControllerEvents.click(s,a),this.pointerCache.delItem(r.pointerId),this.pointerMoveCountCache.delItem(r.pointerId)}},this.mouseWheelHandler=r=>{if(r instanceof WheelEvent){r.preventDefault();let s=gd(r,this.element),a=Math.sqrt(r.deltaY**2+r.deltaX**2+r.deltaZ**2)*Math.sign((r.deltaX?r.deltaX:1)*(r.deltaY?r.deltaY:1)*(r.deltaZ?r.deltaZ:1));this.pointerControllerEvents.scroll&&this.pointerControllerEvents.scroll(s,a)}},this.preventDefaultEvent=r=>{r.preventDefault()},this.evCache=[],this.prevDiff=-1,this.startPinchZoomEvent=r=>{r instanceof PointerEvent&&"touch"==r.pointerType&&(this.evCache.push(r),null==this.mainTouchEventId&&(this.mainTouchEventId=r.pointerId))},this.movePinchZoomEvent=r=>{if(r instanceof PointerEvent&&"touch"==r.pointerType){for(let s=0;s<this.evCache.length;s++)if(r.pointerId==this.evCache[s].pointerId){this.evCache[s]=r;break}if(2==this.evCache.length){let s={x:this.evCache[0].clientX,y:this.evCache[0].clientY},a={x:this.evCache[1].clientX,y:this.evCache[1].clientY},c=Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2));const l=this.element.getBoundingClientRect();this.prevDiff>0&&c>0&&this.pointerControllerEvents.pinchZoom&&this.pointerControllerEvents.pinchZoom({x:(s.x+a.x)/2-l.left,y:(s.y+a.y)/2-l.top},c/this.prevDiff),this.prevDiff=c}else this.evCache.length<2&&(this.prevDiff=-1)}},this.endPinchZoomEvent=r=>{r instanceof PointerEvent&&"touch"==r.pointerType&&(this.removeEventPinchZoom(r),this.evCache.length<2&&(this.prevDiff=-1),this.mainTouchEventId==r.pointerId&&(this.mainTouchEventId=void 0))},this.removeEventPinchZoom=r=>{for(let s=0;s<this.evCache.length;s++)if(this.evCache[s].pointerId==r.pointerId){this.evCache.splice(s,1);break}},this.start()}start(){if(!this.active){for(let n of e.starts)this.element.addEventListener(n,this.startEvent),this.element.addEventListener(n,this.startPinchZoomEvent);for(let n of e.moves)this.element.addEventListener(n,this.moveEvent),this.element.addEventListener(n,this.movePinchZoomEvent);for(let n of e.ends)this.element.addEventListener(n,this.endEvent),this.element.addEventListener(n,this.endPinchZoomEvent);for(let n of e.scrolls)this.element.addEventListener(n,this.mouseWheelHandler);if(this.preventDefault)for(let n of e.prevents)this.element.addEventListener(n,this.preventDefaultEvent);this._active=!0,this.pointerCache.empty()}}end(){if(this.active){for(let n of e.starts){try{this.element.removeEventListener(n,this.startEvent)}catch{}try{this.element.removeEventListener(n,this.startPinchZoomEvent)}catch{}}for(let n of e.moves){try{this.element.removeEventListener(n,this.moveEvent)}catch{}try{this.element.removeEventListener(n,this.movePinchZoomEvent)}catch{}}for(let n of e.ends){try{this.element.removeEventListener(n,this.endEvent)}catch{}try{this.element.removeEventListener(n,this.endPinchZoomEvent)}catch{}}for(let n of e.scrolls)try{this.element.removeEventListener(n,this.mouseWheelHandler)}catch{}if(this.preventDefault)for(let n of e.prevents)try{this.element.removeEventListener(n,this.preventDefaultEvent)}catch{}this._active=!1,this.pointerCache.empty()}}}return e})();const _d=[{r:18,g:128,b:234},{r:214,g:78,b:78},{r:78,g:194,b:98},{r:88,g:88,b:224},{r:255,g:148,b:148},{r:255,g:234,b:38},{r:224,g:48,b:224},{r:48,g:224,b:224},{r:227,g:131,b:30},{r:180,g:180,b:30},{r:113,g:35,b:103}];class iP{constructor(){}pointerStart(t,n,i,o){}pointerEnd(t,n,i,o){}}class Qo extends iP{getExtraRibbons(t,n){return[]}getColorsForExtraRibbons(t){let n;for(let i=0;i<Pc.length;i++)this===t.getModeForPointerType(Pc[i])&&(n=_d[i]);if(n)return[n,v4(n,.75)]}}const ft=document.createElement("textarea");document.body.appendChild(ft),ft.tabIndex=-1,ft.spellcheck=!1,ft.cols=4e4,ft.style.position="absolute",ft.style.top="-25px",ft.style.left="-25px",ft.style.height="10px",ft.style.width="100%";class J4 extends Qo{pointerStart(t,n,i,o){this.getTextBox(t).click(n,i,ft,!1)}pointerEnd(t,n,i,o){this.getTextBox(t).click(n,i,ft,!0)}pointerMove(t,n,i,o,r){this.getTextBox(t).click(n,o,ft,!0)}click(t,n,i,o){const r=this.getTextBox(t);r.click(n,i,ft,o.shiftKey),ft.value=r.getText(),ft.onkeyup=s=>{r.onKey(s,ft,n,!0)},ft.onkeydown=s=>{r.onKey(s,ft,n,!1)},ft.focus()}getExtraRibbons(t,n){return[]}}class Hm extends J4{getTextBox(t){return t.activePage.text}}class eH{constructor(){this.listeners=[]}addListener(t){this.listeners.push(t)}removeListener(t){const n=this.listeners.indexOf(t);return n>=0&&(this.listeners.splice(n,1),!0)}emit(t){for(let n of this.listeners)n(t)}get empty(){return 0==this.listeners.length}}class le extends eH{emit(t){super.emit(t)}}const oP=[];class rP{}class sP extends rP{constructor(){super(),this.onChange=new le,this.onRemove=new le,this.onAdd=new le,this.id=function tH(){for(let e=0;;e++)if(-1===oP.indexOf(e))return oP.push(e),e;return Number.NaN}()}}class $m extends sP{getDistance(t,n){}}class nH extends $m{set scale(t){this.transformation.scale={...t},this.onChange.emit(t)}set translate(t){this.transformation.translate={...t},this.onChange.emit(t)}set rotate(t){this.rotate=t,this.onChange.emit(t)}get scale(){return{...this.transformation.scale}}get translate(){return{...this.transformation.translate}}get rotate(){return this.transformation.rotate}pointWithTransform(t){const i=aP({x:t.x*this.transformation.scale.x,y:t.y*this.transformation.scale.y},this.transformation.rotate);return{x:i.x+this.transformation.translate.x,y:i.y+this.transformation.translate.y}}pointWithoutTransform(t){const i=aP({x:t.x-this.transformation.translate.x,y:t.y-this.transformation.translate.y},-this.transformation.rotate);return{x:i.x/this.transformation.scale.x,y:i.y/this.transformation.scale.y}}constructor(t){super(),this.settings=t,this.transformation={scale:{x:1,y:1},rotate:0,translate:{x:0,y:0}}}}function aP(e,t){return{x:e.x*Math.cos(t)-e.y*Math.sin(t),y:e.y*Math.cos(t)+e.x*Math.sin(t)}}class cP extends nH{get penStyle(){return this._penStyle}set penStyle(t){this._penStyle=t,this.onChange.emit(t)}constructor(t,n){super(t),this._points=[],this._penStyle=n}addPoint(t){this._points.push(t),this.onChange.emit(t)}draw(t){this._penStyle.useSizes&&!this.settings.getGlobalConfig().neverUseSizesForPen?t.drawQuadraticPath(this._points,this._penStyle.strokeStyle,this._penStyle.objectStyle):t.drawContinousQuadraticPath(this._points,this._penStyle.strokeStyle,void 0,this._penStyle.objectStyle)}}function lP(e){return{...e}}function Gm(e){return{...e}}function Wm(e){return[e[0],Lm(e[1])]}function fP(e){return"picture"in e}function pP(e){return"startPoint"in e}function gP(e){return"startCircle"in e}const uH=["px","cm","mm","Q","in","pt","pc"];function Cd(e,t,n,i){return i||-1===uH.indexOf(e[1])?`${e[0]*t}${e[1]}`:`${e[0]*t*n}${e[1]}`}function dH(e){return[...e]}const hH=["url"];function vP(e){return-1!==hH.indexOf(e[0])}const fH=["hue-rotate","brightness","contrast","grayscale","invert","saturate","sepia","blur"],gH=[];const _H={};const yH={color:_i,lineWidth:0};function bP(e,t,n){return void 0===e.colorStyle?n??e.color:"number"==typeof e.colorStyle?bP(t[e.colorStyle],t,n??e.color):"function"==typeof e.colorStyle?e.colorStyle(n??e.color):e.colorStyle}function MH(e,t){const n=bP(e,t),i={...e.penStyle.strokeStyle,lineWidth:e.lineWidth,uniformSizeOnZoom:!1,color:n};return{objectStyle:e.penStyle.objectStyle,strokeStyle:i,useSizes:e.penStyle.useSizes}}function qm(e,t){const n={...e};return n.color=Lm(e.color),typeof n.colorStyle<"u"&&"function"!=typeof n.colorStyle&&"number"!=typeof n.colorStyle?fP(n.colorStyle)?n.colorStyle=function uP(e){return{...e}}(n.colorStyle):function mP(e){return"stops"in e}(n.colorStyle)&&(n.colorStyle=function dP(e){return pP(e)?function oH(e){const t={...e};return t.startPoint=Gm(e.startPoint),t.endPoint=Gm(e.endPoint),t.stops=t.stops.map(n=>Wm(n)),t}(e):gP(e)?function iH(e){const t={...e};return t.startCircle=lP(e.startCircle),t.endCircle=lP(e.endCircle),t.stops=t.stops.map(n=>Wm(n)),t}(e):function rH(e){const t={...e};return t.center=Gm(e.center),t.stops=t.stops.map(n=>Wm(n)),t}(e)}(n.colorStyle)):"function"==typeof n.colorStyle&&void 0!==t&&(n.colorStyle=t),n.penStyle=function wH(e){const t={...e};return void 0!==t.objectStyle&&(t.objectStyle=function CH(e){const t={...e};return void 0!==t.shadow&&(t.shadow=function M4(e){const t={...e};return t.color=Lm(t.color),t}(t.shadow)),void 0!==t.filter&&(t.filter=t.filter.map(n=>function vH(e){return vP(e)?[...e]:[e[0],dH(e[1])]}(n))),t}(t.objectStyle)),t.strokeStyle=function bH(e){const t={...e};return void 0!==t.lineDash&&(t.lineDash=[...t.lineDash]),t}(t.strokeStyle),t}(n.penStyle),n}const Ym=[{name:"F\xfcller",penStyle:{strokeStyle:{lineCap:"round"},useSizes:!0},color:Zo,lineWidth:3,icon:"fueller"},{name:"Kugelschreiber",penStyle:{strokeStyle:{lineCap:"round"},useSizes:!0},color:pe,lineWidth:2,icon:"ballpoint"},{name:"Bleistift",penStyle:{strokeStyle:{lineCap:"round"},objectStyle:{filter:[["blur",[.75,"px"]]]}},color:pe,colorStyle:e=>({picture:EH(e)}),lineWidth:3,icon:"pencil"},{name:"Textmarker",penStyle:{strokeStyle:{lineCap:"butt"},objectStyle:{alpha:.5}},color:qS,lineWidth:15,icon:"marker"}],DH={name:"Stift",penStyle:{strokeStyle:{}},color:pe,lineWidth:3,icon:"pencil"};function EH(e){const t=Rt(e);if(void 0===Zm[t]){const o=document.createElement("canvas");o.width=50,o.height=50;const r=o.getContext("2d");if(r){const s=r.createImageData(50,50),a=s.data;for(let c=0;c<a.length;c+=4){const l=1-Math.random();a[c]=255*(1-l)+l*e.r,a[c+1]=255*(1-l)+l*e.g,a[c+2]=255*(1-l)+l*e.b,a[c+3]=255*(e.a??1)}r.putImageData(s,0,0)}Zm[t]=o.toDataURL()}return Zm[t]}const Zm={};class yd{}class Xo extends yd{constructor(t,n,i){super(),this.getActive=t,this.setActive=n,this.setImmediately=i,this.value=this.getActive()}set value(t){this._value=t,this.setImmediately&&void 0!==t&&this.setActive(t)}get value(){return this._value}}class Qm extends Xo{constructor(t,n,i,o,r){super(n,i,r),this.colors=t,this.isDisabled=o}getAllColors(){const t=this.getActive();return void 0===t||Um(this.colors,n=>vd(n,t))?this.colors:[t,...this.colors]}}class Oe extends yd{constructor(t,n,i,o,r){super(),this.name=t,this.icon=n,this.title=i,this.click=o,this.enabled=r}isEnabled(){return void 0===this.enabled||this.enabled()}onClick(t){this.isEnabled()&&this.click(t)}}const SH=["contentDiv"];let wP=(()=>{class e{constructor(){this.saveEvent=new le}close(){this.dialog.close()}save(){this.saveEvent.emit(),this.close()}ngAfterViewInit(){setTimeout(()=>{if(this.dialogData){const n=this.contentDiv.createComponent(this.dialogData.componentType);this.saveEvent.addListener(n.instance.saveListener)}},0)}static openViewSettingsDialogComponent(n,i){const o={componentType:i};n.createDialog(e)?.open(o)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-view-settings-dialog"]],viewQuery:function(i,o){if(1&i&&St(SH,5,nt),2&i){let r;vt(r=_t())&&(o.contentDiv=r.first)}},standalone:!0,features:[Pe],decls:8,vars:0,consts:[["contentDiv",""],[1,"wrapper"],[1,"settingsWrapper"],[1,"buttons"],[1,"button","close","floatRight",3,"click"],[1,"button","floatRight",3,"click"]],template:function(i,o){if(1&i){const r=mt();p(0,"div",1),A(1,"div",2,0),p(3,"div",3)(4,"button",4),N("click",function(){return ae(r),ce(o.save())}),b(5,"Speichern"),m(),p(6,"button",5),N("click",function(){return ae(r),ce(o.close())}),b(7,"Abbrechen"),m()()()}},styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}']})}return e})(),MP=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(i){return new(i||e)(D(Ai),D(hn))};static#t=this.\u0275dir=G({type:e})}return e})(),Ko=(()=>{class e extends MP{static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275dir=G({type:e,features:[z]})}return e})();const Ci=new R(""),xH={provide:Ci,useExisting:Ie(()=>zi),multi:!0};let zi=(()=>{class e extends Ko{writeValue(n){this.setProperty("checked",n)}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275dir=G({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){1&i&&N("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},features:[$e([xH]),z]})}return e})();const OH={provide:Ci,useExisting:Ie(()=>qe),multi:!0},IH=new R("");let qe=(()=>{class e extends MP{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function TH(){const e=ao()?ao().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(i){return new(i||e)(D(Ai),D(hn),D(IH,8))};static#t=this.\u0275dir=G({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&N("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[$e([OH]),z]})}return e})();function fo(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}const Lt=new R(""),po=new R("");function bd(e){return null}function AP(e){return null!=e}function NP(e){return ec(e)?yt(e):e}function RP(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function FP(e,t){return t.map(n=>n(e))}function LP(e){return e.map(t=>function AH(e){return!e.validate}(t)?t:n=>t.validate(n))}function Xm(e){return null!=e?function VP(e){if(!e)return null;const t=e.filter(AP);return 0==t.length?null:function(n){return RP(FP(n,t))}}(LP(e)):null}function Km(e){return null!=e?function BP(e){if(!e)return null;const t=e.filter(AP);return 0==t.length?null:function(n){return function PH(...e){const t=VE(e),{args:n,keys:i}=BE(e),o=new gt(r=>{const{length:s}=n;if(!s)return void r.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;di(n[u]).subscribe(st(r,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||r.next(i?UE(i,a):a),r.complete())}))}});return t?o.pipe(zE(t)):o}(FP(n,t).map(NP)).pipe(ye(RP))}}(LP(e)):null}function zP(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Jm(e){return e?Array.isArray(e)?e:[e]:[]}function wd(e,t){return Array.isArray(e)?e.includes(t):e===t}function HP(e,t){const n=Jm(t);return Jm(e).forEach(o=>{wd(n,o)||n.push(o)}),n}function $P(e,t){return Jm(t).filter(n=>!wd(e,n))}class GP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Km(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Yt extends GP{get formDirective(){return null}get path(){return null}}class go extends GP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WP{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ye=(()=>{class e extends WP{constructor(n){super(n)}static#e=this.\u0275fac=function(i){return new(i||e)(D(go,2))};static#t=this.\u0275dir=G({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&rs("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[z]})}return e})();const xc="VALID",Dd="INVALID",Is="PENDING",Oc="DISABLED";function Ed(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ov{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===xc}get invalid(){return this.status===Dd}get pending(){return this.status==Is}get disabled(){return this.status===Oc}get enabled(){return this.status!==Oc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(HP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(HP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($P(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($P(t,this._rawAsyncValidators))}hasValidator(t){return wd(this._rawValidators,t)}hasAsyncValidator(t){return wd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Is,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Oc,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=xc,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xc||this.status===Is)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oc:xc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator=!0;const n=NP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,o)=>i&&i._find(o),this)}getError(t,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Oc:this.errors?Dd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(Dd)?Dd:xc}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ed(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function VH(e){return Array.isArray(e)?Xm(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function BH(e){return Array.isArray(e)?Km(e):e||null}(this._rawAsyncValidators)}}const ks=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Sd}),Sd="always";function Tc(e,t,n=Sd){(function sv(e,t){const n=function UP(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(zP(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=function jP(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(zP(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const o=()=>e.updateValueAndValidity();Od(t._rawValidators,o),Od(t._rawAsyncValidators,o)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function jH(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&QP(e,t)})}(e,t),function $H(e,t){const n=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function HH(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&QP(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function UH(e,t){if(t.valueAccessor.setDisabledState){const n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Od(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function QP(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function JP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ex(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const tx=class extends ov{constructor(t=null,n,i){super(function nv(e){return(Ed(e)?e.validators:e)||null}(n),function iv(e,t){return(Ed(t)?t.asyncValidators:e)||null}(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ed(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=ex(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){JP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){JP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){ex(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},KH={provide:go,useExisting:Ie(()=>We)},ox=Promise.resolve();let We=(()=>{class e extends go{constructor(n,i,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new tx,this._registered=!1,this.name="",this.update=new Ne,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function lv(e,t){if(!t)return null;let n,i,o;return Array.isArray(t),t.forEach(r=>{r.constructor===qe?n=r:function qH(e){return Object.getPrototypeOf(e.constructor)===Ko}(r)?i=r:o=r}),o||i||n||null}(0,r)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function cv(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){ox.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,o=0!==i&&function hs(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(i);ox.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Pd(e,t){return[...t.path,e]}(n,this._parent):[n]}static#e=this.\u0275fac=function(i){return new(i||e)(D(Yt,9),D(Lt,10),D(po,10),D(Ci,10),D($o,8),D(ks,8))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ze.None,"disabled","isDisabled"],model:[ze.None,"ngModel","model"],options:[ze.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([KH]),z,Mn]})}return e})();const e7={provide:Ci,useExisting:Ie(()=>Cn),multi:!0};let Cn=(()=>{class e extends Ko{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=i=>{n(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275dir=G({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){1&i&&N("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},features:[$e([e7]),z]})}return e})();const i7={provide:Ci,useExisting:Ie(()=>Ui),multi:!0};let Ui=(()=>{class e extends Ko{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=i=>{n(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275dir=G({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,o){1&i&&N("change",function(s){return o.onChange(s.target.value)})("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},features:[$e([i7]),z]})}return e})();const l7={provide:Ci,useExisting:Ie(()=>Id),multi:!0};function ux(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Id=(()=>{class e extends Ko{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=ux(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){const i=function u7(e){return e.split(":")[0]}(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275dir=G({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){1&i&&N("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([l7]),z]})}return e})(),dx=(()=>{class e{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(ux(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(D(hn),D(Ai),D(Id,9))};static#t=this.\u0275dir=G({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const d7={provide:Ci,useExisting:Ie(()=>pv),multi:!0};function hx(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let pv=(()=>{class e extends Ko{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let i;if(this.value=n,Array.isArray(n)){const o=n.map(r=>this._getOptionId(r));i=(r,s)=>{r._setSelected(o.indexOf(s.toString())>-1)}}else i=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{const o=[],r=i.selectedOptions;if(void 0!==r){const s=r;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);o.push(l)}}else{const s=i.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,n(o)}}_registerOption(n){const i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){const i=function h7(e){return e.split(":")[0]}(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275dir=G({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){1&i&&N("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([d7]),z]})}return e})(),fx=(()=>{class e{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(hx(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(hx(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(D(hn),D(Ai),D(pv,9))};static#t=this.\u0275dir=G({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();function gx(e){return"number"==typeof e?e:parseFloat(e)}let Jo=(()=>{class e{constructor(){this._validator=bd}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):bd,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=G({type:e,features:[Mn]})}return e})();const f7={provide:Lt,useExisting:Ie(()=>gv),multi:!0};let gv=(()=>{class e extends Jo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>gx(n),this.createValidator=n=>function SP(e){return t=>{if(fo(t.value)||fo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(n)}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275dir=G({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&ai("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[$e([f7]),z]})}return e})();const p7={provide:Lt,useExisting:Ie(()=>kd),multi:!0};let kd=(()=>{class e extends Jo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>gx(n),this.createValidator=n=>function EP(e){return t=>{if(fo(t.value)||fo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(n)}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275dir=G({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&ai("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[$e([p7]),z]})}return e})(),b7=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ei({type:e});static#n=this.\u0275inj=Yn({})}return e})(),As=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ks,useValue:n.callSetDisabledState??Sd}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ei({type:e});static#n=this.\u0275inj=Yn({imports:[b7]})}return e})();class bx{constructor(){this.saveListener=()=>{this.closed||this.save()},this.closed=!1}}const M7=[10,10];class D7{constructor(t,n,i,o=(a=>a),r,s){this.transformations=t,this.canvasConfig=i,this.getRightColor=o,this._variables=r,this.config=s,this.selection=n??[]}get variables(){return{...this._variables}}transformPointFromCanvasToField(t){return{x:t.x/this.transformations.zoom-this.transformations.translateX,y:-t.y/this.transformations.zoom-this.transformations.translateY}}transformPointFromCanvasToFieldWithResolutionFactor(t){return this.transformPointFromCanvasToField({x:t.x/this.resolutionFactor,y:t.y/this.resolutionFactor})}transformPointFromFieldToCanvas(t){return{x:(t.x+this.transformations.translateX)*this.transformations.zoom,y:-(t.y+this.transformations.translateY)*this.transformations.zoom}}transformPointFromFieldToCanvasWithResolutionFactor(t){const n=this.transformPointFromFieldToCanvas(t);return{x:n.x*this.resolutionFactor,y:n.y*this.resolutionFactor}}transformRectFromCanvasToField(t){let n=this.transformPointFromCanvasToField(t);return{x:n.x,y:n.y,width:t.width/this.transformations.zoom,height:-t.height/this.transformations.zoom}}transformRectFromCanvasToFieldWithResolutionFactor(t){return this.transformRectFromCanvasToField({x:t.x/this.resolutionFactor,y:t.y/this.resolutionFactor,width:t.width/this.resolutionFactor,height:t.height/this.resolutionFactor})}transformRectFromFieldToCanvas(t){let n=this.transformPointFromFieldToCanvas(t);return{x:n.x,y:n.y,width:t.width*this.transformations.zoom,height:-t.height*this.transformations.zoom}}transformRectFromFieldToCanvasWithResolutionFactor(t){let n=this.transformRectFromFieldToCanvas(t);return{x:n.x*this.resolutionFactor,y:n.y*this.resolutionFactor,width:n.width*this.resolutionFactor,height:n.height*this.resolutionFactor}}get zoom(){return this.transformations.zoom}get step(){return 1/this.transformations.zoom}get range(){return this.transformRectFromCanvasToFieldWithResolutionFactor({x:0,y:0,width:this.width,height:this.height})}get resolutionFactor(){return this.transformations.resolutionFactor??1}get lineDash(){const t=this.resolutionFactor;return M7.map(n=>n*t)}drawLine(t,n,i,o){this.drawPath([t,n],i,void 0,o)}drawCircle(t,n,i,o,r,s){this.drawEllipse(t,n,n,0,i,o,r,s)}}const E7={color:_i},S7={color:_i,fontFamily:[],fontSize:[0,"pt"]},P7={};class wx extends D7{constructor(t,n,i,o,r=(c=>c),s,a){super(n,i,o,r,s,a),this.ctx=t,this.strokeStyleSet=!0,this.fillStyleSet=!1,this.objectStyleSet=!1,this.textStyleSet=!1,this.imageStyleSet=!1}get width(){return this.ctx.canvas.width}get height(){return this.ctx.canvas.height}colorStyleToCanvasStyle(t,n){if(function hP(e){return"r"in e}(t))return Rt(this.getRightColor(t,this.config));if(fP(t)){const i=t.picture,o=new Image;o.src=i;const r=this.ctx.createPattern(o,"repeat");return r?.setTransform((new DOMMatrixReadOnly).scale(this.zoom).translate(this.transformations.translateX,-this.transformations.translateY)),r}{let i;i=pP(t)?this.ctx.createLinearGradient(t.startPoint.x,t.startPoint.y,t.endPoint.x,t.endPoint.y):gP(t)?this.ctx.createRadialGradient(t.startCircle.x,t.startCircle.y,t.startCircle.radius,t.endCircle.x,t.endCircle.y,t.endCircle.radius):this.ctx.createConicGradient(t.startAngle,t.center.x,t.center.y);for(let o of t.stops)i.addColorStop(o[0],Rt(this.getRightColor(o[1],this.config)));return i}}useStrokeStyle(t){if(void 0===t){if(!this.strokeStyleSet&&!this.canvasConfig?.alwaysSetStyles)return;t=yH,this.strokeStyleSet=!1}else this.strokeStyleSet=!0;const n=this.resolutionFactor,i=this.zoom,o=this.colorStyleToCanvasStyle(t.color,t.uniformSizeOnZoom);null!==o&&(this.ctx.strokeStyle=o);let r=t.lineWidth*n;t.uniformSizeOnZoom||(r*=i),this.ctx.lineWidth=r;let s=t.lineDash??YS;s=s.map(c=>c*n),t.uniformSizeOnZoom||(s=s.map(c=>c*i)),this.ctx.setLineDash(s);let a=(t.lineDashOffset??0)*n;t.uniformSizeOnZoom||(a*=i),this.ctx.lineDashOffset=a,this.ctx.lineJoin=t.lineJoin??"miter",this.ctx.lineCap=t.lineCap??"butt"}useFillStyle(t){if(void 0===t){if(!this.fillStyleSet&&!this.canvasConfig?.alwaysSetStyles)return;t=E7,this.fillStyleSet=!1}else this.fillStyleSet=!0;const n=this.colorStyleToCanvasStyle(t.color,t.uniformSizeOnZoom);null!==n&&(this.ctx.fillStyle=n)}useObjectStyle(t){if(void 0===t){if(!this.objectStyleSet&&!this.canvasConfig?.alwaysSetStyles)return;t=_H,this.objectStyleSet=!1}else this.objectStyleSet=!0;const n=this.resolutionFactor,i=this.zoom,o=(t.filter??gH).map(u=>function mH(e,t,n,i){return vP(e)?`${(s=e)[0]}("${s[1]}")`:function pH(e){return-1!==fH.indexOf(e[0])}(e)?(s=>`${s[0]}(${Cd(s[1],t,n,i)})`)(e):"";var s}(u,n,i,t.uniformSizeOnZoom)),r=0===o.length?"none":o.join(" ");this.ctx.filter=r;const s=t.shadow??b4;let a=s.blur*n,c=s.offsetX*n,l=s.offsetY*n;t.uniformSizeOnZoom||(a*=i,c*=i,l*=i),this.ctx.shadowBlur=a,this.ctx.shadowOffsetX=c,this.ctx.shadowOffsetY=l,this.ctx.shadowColor=Rt(this.getRightColor(s.color,this.config)),this.ctx.globalAlpha=t.alpha??1}useTextStyle(t){if(void 0===t){if(!this.textStyleSet&&!this.canvasConfig?.alwaysSetStyles)return;t=S7,this.textStyleSet=!1}else this.textStyleSet=!0;const n=this.resolutionFactor,i=this.zoom,o=this.colorStyleToCanvasStyle(t.color,t.uniformSizeOnZoom);null!==o&&(this.ctx.fillStyle=o);let r="";void 0!==t.fontStyle&&"normal"!==t.fontStyle&&(r+=t.fontStyle+" "),void 0!==t.fontWeight&&"normal"!==t.fontWeight&&(r+=t.fontWeight+" "),r+=`${Cd(t.fontSize,n,i,t.uniformSizeOnZoom)} `,r+=t.fontFamily.join(", "),this.ctx.font=r,this.ctx.fontKerning=t.fontKerning??"auto",this.ctx.fontStretch=t.fontStretch??"normal",this.ctx.fontVariantCaps=t.fontVariantCaps??"normal",this.ctx.letterSpacing=Cd(t.letterSpacing??A4,n,i,t.uniformSizeOnZoom),this.ctx.direction=t.direction??"inherit",this.ctx.textAlign=t.textAlign??"start",this.ctx.textBaseline=t.textBaseline??"alphabetic",this.ctx.wordSpacing=Cd(t.wordSpacing??L4,n,i,t.uniformSizeOnZoom)}useImageStyle(t){if(void 0===t){if(!this.imageStyleSet&&!this.canvasConfig?.alwaysSetStyles)return;t=P7,this.imageStyleSet=!1}else this.imageStyleSet=!0;this.ctx.imageSmoothingEnabled=t.imageSmoothingEnabled??!0,this.ctx.imageSmoothingQuality=t.imageSmoothingQuality??"low"}drawPath(t,n,i,o){const r=t.map(s=>this.transformPointFromFieldToCanvasWithResolutionFactor(s));if(this.ctx.beginPath(),this.useStrokeStyle(n),this.useObjectStyle(o),this.useFillStyle(i),0!==r.length){let s=r[0];this.ctx.moveTo(s.x,s.y);for(let a=1;a<r.length;a++){let c=r[a];this.ctx.lineTo(c.x,c.y)}this.ctx.stroke(),i&&this.ctx.fill(),this.ctx.closePath()}}drawContinousQuadraticPath(t,n,i,o){const r=t.map(s=>this.transformPointFromFieldToCanvasWithResolutionFactor(s));if(this.useStrokeStyle(n),this.useFillStyle(i),this.useObjectStyle(o),0!==r.length){this.ctx.beginPath();let s=r[0];this.ctx.moveTo(s.x,s.y);for(let c=1;c<r.length-1;c++){const l=r[c];if(r.length<2||Math.sqrt((l.x-r[r.length-1].x)**2+(l.y-r[r.length-1].y)**2)>1){const d=r[c+1];this.ctx.quadraticCurveTo(l.x,l.y,(l.x+d.x)/2,(l.y+d.y)/2)}}const a=r[r.length-1];this.ctx.lineTo(a.x,a.y),this.ctx.stroke()}}drawQuadraticPath(t,n,i){const o=t.map(s=>({...this.transformPointFromFieldToCanvasWithResolutionFactor(s),size:s.size})),r=this.zoom;if(this.useStrokeStyle(n),this.useObjectStyle(i),0!==o.length){this.ctx.beginPath();let s=o[0];this.ctx.moveTo(s.x,s.y);for(let c=1;c<o.length-1;c++){const l=o[c];if(o.length<2||Math.sqrt((l.x-o[o.length-1].x)**2+(l.y-o[o.length-1].y)**2)>1){const d=o[c+1],h=(l.x+d.x)/2,f=(l.y+d.y)/2;this.ctx.lineWidth=n.lineWidth*l.size,n.uniformSizeOnZoom||(this.ctx.lineWidth*=r),this.ctx.quadraticCurveTo(l.x,l.y,h,f),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(h,f)}}const a=o[o.length-1];this.ctx.lineTo(a.x,a.y),this.ctx.stroke()}}drawText(t,n,i,o,r,s){let a=this.transformPointFromFieldToCanvasWithResolutionFactor(n),c=this.ctx;this.useStrokeStyle(o),this.useFillStyle(r),this.useObjectStyle(s),this.useTextStyle(i),c.strokeText(t,a.x,a.y),c.fillText(t,a.x,a.y)}measureText(t,n){return this.useTextStyle(n),this.ctx.measureText(t)}drawEllipse(t,n,i,o,r,s,a,c){const l=this.resolutionFactor,u=r?1:this.zoom;this.useStrokeStyle(a),this.useFillStyle(s),this.useObjectStyle(c);const d=this.transformPointFromFieldToCanvasWithResolutionFactor(t),h=n*u*l,f=i*u*l;this.ctx.beginPath(),this.ctx.ellipse(d.x,d.y,h,f,o,0,2*Math.PI),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}drawCircleSector(t,n,i,o,r,s,a,c){const l=r?1:this.zoom;this.useStrokeStyle(a),this.useFillStyle(s),this.useObjectStyle(c);const u=this.transformPointFromFieldToCanvasWithResolutionFactor(t),d=n*l*this.resolutionFactor;this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(u.x,u.y),this.ctx.arc(u.x,u.y,d,i,o),this.ctx.lineTo(u.x,u.y),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}drawRect(t,n,i,o,r){const s=n?this.zoom:1;this.useStrokeStyle(o),this.useFillStyle(i),this.useObjectStyle(r);const a=this.transformRectFromFieldToCanvasWithResolutionFactor(t);this.ctx.fillRect(a.x,a.y,a.width/s,a.height/s),this.ctx.strokeRect(a.x,a.y,a.width/s,a.height/s)}drawImage(t,n,i,o,r,s,a){let c=this.transformPointFromFieldToCanvasWithResolutionFactor(n);this.useImageStyle(s),this.useObjectStyle(a);const u=this.resolutionFactor,d=r?1:this.zoom;this.ctx.drawImage(t,c.x,c.y,i*u*d,o*u*d)}}class Mx{constructor(){this._ts=[],this.onSelectionChanged=new le}empty(){const t=this._ts;this._ts=[],this.onSelectionChanged.emit(t)}set(t){this._ts=void 0!==t?[t]:[],this.onSelectionChanged.emit(t)}add(t){return void 0!==t&&!this.contains(t)&&(this._ts.push(t),this.onSelectionChanged.emit(t),!0)}remove(t){if(void 0===t)return!1;const n=this._ts.indexOf(t);return n>=0&&(this._ts.splice(n,1),this.onSelectionChanged.emit(t),!0)}contains(t){return void 0===t||-1!==this._ts.indexOf(t)}alternate(t){return void 0!==t&&(this.contains(t)?(this.remove(t),!1):(this.add(t),!0))}toArray(){return this._ts.slice()}get size(){return this._ts.length}}const x7={width:210,height:297};class ie extends sP{constructor(t,n={top:20,left:10,bottom:0,right:0}){super(),this._rect=t,this._padding=n,this._paragraphs=[],this._cursorPosition=void 0,this._lineDist=35,this._tempX=void 0,this._specialActions=[{key:"arrowUp",action:(i,o,r,s)=>{s||this.moveCursorThroughLines(r,-1,o,i.shiftKey)}},{key:"arrowDown",action:(i,o,r,s)=>{s||this.moveCursorThroughLines(r,1,o,i.shiftKey)}}]}getText(t="\n"){return this._paragraphs.map(i=>this.getTextOfParagraph(i)).join(t)}getTextOfParagraph(t){return t.lines.map(n=>n.map(i=>i.text).join("")).join("")}setText(t,n,i){const o=this.getText();if(this._selection=n,(t=t.replace("\r\n","\n").replace("\r","\n"))!==o){const r=[];let s=0;for(;s<t.length&&s<o.length&&t.substring(0,s+1)===o.substring(0,s+1);)s++;let a=0;for(;s+a<Math.min(t.length,o.length)&&a<t.length&&a<o.length&&t.substring(t.length-a-1)===o.substring(o.length-a-1);)a++;if(s+a!==o.length){const u=this.indexToCursorPosition(s),d=this.indexToCursorPosition(o.length-a);if(u.paragraph!==d.paragraph){const h=this._paragraphs[u.paragraph],f=this._paragraphs[d.paragraph],g=h.lines[u.line],v=f.lines[d.line],_=g[u.span],C=v[d.span];_.text=_.text.substring(0,u.column),C.text=C.text.substring(d.column),g.splice(u.span+1),v.splice(0,d.span),h.lines.splice(u.line+1),f.lines.splice(0,d.line),this._paragraphs.splice(u.paragraph+1,d.paragraph-u.paragraph),h.lines.push(...f.lines),r.push(h)}else if(u.line!==d.line){const h=this._paragraphs[u.paragraph],f=h.lines[u.line],g=h.lines[d.line],v=f[u.span],_=g[d.span];v.text=v.text.substring(0,u.column),_.text=_.text.substring(d.column),f.splice(u.span+1),g.splice(0,d.span),h.lines.splice(u.line+1,d.line-u.line-1),r.push(h)}else if(u.span!==d.span){const h=this._paragraphs[u.paragraph].lines[u.line],f=h[u.span],g=h[d.span];f.text=f.text.substring(0,u.column),g.text=g.text.substring(d.column),h.splice(u.span+1,d.span-u.span-1),r.push(this._paragraphs[u.paragraph])}else{const h=this._paragraphs[u.paragraph].lines[u.line][u.span];h.text=h.text.substring(0,u.column)+h.text.substring(d.column),r.push(this._paragraphs[u.paragraph])}}if(s+a!==t.length){const u=t.substring(s,t.length-a),d=u.split("\n"),h=this.indexToCursorPosition(s);h.paragraph>=this._paragraphs.length&&this._paragraphs.push({lines:[],format:"left"});const f=this._paragraphs[h.paragraph];h.line>=f.lines.length&&f.lines.push([]);const g=f.lines[h.line];h.span>=g.length&&g.push({text:"",color:pe,font:["sans-serif"],fontSize:12,attributes:[]});const v=g[h.span];if(1===d.length)v.text=v.text.substring(0,h.column)+u+v.text.substring(h.column),r.push(f);else if(d.length>=2){const _=[];for(let je=1;je<d.length-1;je++){const qi=ie.getSimilarSpan(v);qi.text=d[je],_.push(ie.getSimilarParagraph(f,[[qi]]))}const C=ie.getSimilarSpan(v),w=ie.getSimilarSpan(v);C.text=v.text.substring(0,h.column)+d[0],w.text=d[d.length-1]+v.text.substring(h.column);const O=[...g.slice(0,h.span),C],V=[w,...g.slice(h.span+1)],W=ie.getSimilarParagraph(f,[...f.lines.slice(0,h.line),O]),he=ie.getSimilarParagraph(f,[V,...f.lines.slice(h.line+1)]);this._paragraphs=[...this._paragraphs.slice(0,h.paragraph),W,..._,he,...this._paragraphs.slice(h.paragraph+1)],r.push(W,..._,he)}}const c=this.getWidth(),l=[];for(let u of r)-1===l.indexOf(u)&&l.push(u);for(let u of l)this.relayoutParagraph(u,i,c)}this._cursorPosition=this.indexToCursorPosition(n.startSelection),this.onChange.emit()}getWidth(){let t=this._rect?.width;return void 0!==t&&(t-=this._padding.left+this._padding.right),t}setRect(t,n){this._rect=t,this.relayoutText(n),this.onChange.emit(t)}setPadding(t,n){this._padding=t,this.relayoutText(n),this.onChange.emit(t)}relayoutText(t){for(let n of this._paragraphs)this.relayoutParagraph(n,t,this.getWidth())}relayoutParagraph(t,n,i,o=!0,r=!0){void 0!==i&&(i*=kc);const a=this.getTextOfParagraph(t).split(" "),c=[];if(c.push(0),"block"!==t.format){const u=[];let d=0;for(let v=0;v<a.length;v++){const _=d;let C=a[v];v!==a.length-1&&(C+=" "),d+=C.length;const w=d,O=ie.getWidthOfRange(t,_,w,n);u.push({start:_,end:w,width:O})}const h=[];let f=[],g=0;for(let v of u)void 0===i||g+v.width<=i?(f.push(v),g+=v.width):(h.push(f),f=[v],g=v.width);-1===h.indexOf(f)&&0!==f.length&&h.push(f);for(let v=0;v<h.length;v++){const _=h[v];0!==_.length&&c.push(_[_.length-1].end)}}let l=[];for(let u=1;u<c.length;u++)l.push(ie.getRangeAsSpans(t,c[u-1],c[u]));if(o){const u=[];for(let d of l){const h=[];for(let f=0;f<d.length;f++){const g=d[f];(""!==g.text||0===h.length&&f===d.length-1)&&h.push(g)}u.push(h)}l=u}if(r){const u=[];for(let d of l){const h=[];for(let f=0;f<d.length;f++)0!==h.length&&ie.similarSpans(d[f],h[h.length-1])?h[h.length-1]=ie.getSimilarSpan(d[f],h[h.length-1].text+d[f].text):h.push(d[f]);u.push(h)}l=u}t.lines=l}draw(t,n=!0){const i=(this._rect?.x??0)+this._padding.left;let o=(this._rect?.y??0)-this._padding.top;for(let r of this._paragraphs)for(let s of r.lines){o-=this._lineDist;let a=i;for(let c of s){const l=ie.measureTextOfSpan(c,t);t.drawText(c.text,{x:a,y:o},{fontSize:[ie.getFontSizeInPX(c.fontSize),"px"],fontFamily:c.font,textAlign:"left",textBaseline:"bottom",direction:"ltr",color:c.color}),a+=l}}if(this._cursorPosition&&n){let r=(this._rect?.y??0)+this._padding.top,s=(this._rect?.x??0)+this._padding.left,a=12;if(0===this._paragraphs.length&&0===this._cursorPosition.paragraph&&0===this._cursorPosition.line&&0===this._cursorPosition.span&&0===this._cursorPosition.column)r+=this._lineDist;else{const l=this._paragraphs[this._cursorPosition.paragraph].lines[this._cursorPosition.line],u=l[this._cursorPosition.span],d=this._cursorPosition.column;a=u.fontSize;const f=this._paragraphs.slice(0,this._cursorPosition.paragraph).map(v=>v.lines.length).reduce((v,_)=>v+_,0)+this._cursorPosition.line;r+=this._lineDist*(f+1),s+=l.slice(0,this._cursorPosition.span).map(v=>ie.measureTextOfSpan(v,t)).reduce((v,_)=>v+_,0),s+=ie.measureTextOfSpan(u,t,u.text.substring(0,d))}t.drawLine({x:s,y:-r},{x:s,y:a/2.835*kc-r},{lineWidth:2,color:pe})}}moveCursorThroughLines(t,n,i,o){if(this._cursorPosition){const s=function(a,c,l,u){if(0===u)return[c,l];if(u>0){let d=l;for(let h=c;h<a.length;h++){for(let f=d??0;f<a[h].lines.length;f++){if(0===u)return[h,f];u--}d=void 0}return 1}{let d=l;for(let h=c;h>=0;h--){for(let f=d??a[h].lines.length-1;f>=0;f--){if(0===u)return[h,f];u++}d=void 0}return 0}}(this._paragraphs,this._cursorPosition.paragraph,this._cursorPosition.line,n);if(0===s)this.setCursorPosition(ie.getFirstCursorPosition(this._paragraphs),i,o),this._tempX=void 0;else if(1===s)this.setCursorPosition(ie.getLastCursorPosition(this._paragraphs),i,o),this._tempX=void 0;else{if(void 0===this._tempX&&(this._tempX=this.getXCoordinateToCursorPosition(this._cursorPosition,t)),void 0===this._tempX)return!1;this.setCursorPosition(this.getCursorPositionToXCoordinate(this._tempX,s[0],s[1],t),i,o)}return void 0!==this._cursorPosition}return!1}static measureTextOfSpan(t,n,i){return n.measureText(i??t.text,{color:pe,fontSize:[ie.getFontSizeInPX(t.fontSize),"px"],fontFamily:t.font,textAlign:"left",textBaseline:"bottom",direction:"ltr"}).width/n.zoom}static getFontSizeInPX(t){return t/2.835*kc}cursorPositionToIndex(t){return ie.cursorPositionToIndex(t,this._paragraphs)}indexToCursorPosition(t,n=!0){return ie.indexToCursorPointer(t,this._paragraphs,n)}static cursorPositionToIndex(t,n){const i=n[t.paragraph],o=i.lines[t.line],r=t.column,s=n.slice(0,t.paragraph),a=ie.countSymbolsInParagraphs(s),c=i.lines.slice(0,t.line),l=ie.countSymbolsInLines(c),u=o.slice(0,t.span);return r+ie.countSymbolsInSpans(u)+l+s.length+a}static indexToCursorPointer(t,n,i=!0){const o={paragraph:0,line:0,span:0,column:0};let r=0,s=0;for(;o.paragraph+1<n.length&&r+(s=ie.countSymbolsInLines(n[o.paragraph].lines))<t;)o.paragraph++,r+=s+1;if(o.paragraph>=n.length)return o;const a=n[o.paragraph];for(;o.line+1<a.lines.length&&(r+(s=ie.countSymbolsInSpans(a.lines[o.line]))<t||i&&r+s===t);)o.line++,r+=s;if(o.line>=a.lines.length)return o;const c=a.lines[o.line];for(;o.span+1<c.length&&(r+(s=c[o.span].text.length)<t||i&&r+s===t);)o.span++,r+=s;return o.column=t-r,o}static similarSpans(t,n){return function i(o,r){for(let s of o)if(-1===r.indexOf(s))return!1;for(let s of r)if(-1===o.indexOf(s))return!1;return!0}(t.attributes,n.attributes)&&vd(t.color,n.color)&&t.font===n.font&&t.fontSize===n.fontSize}static getSimilarSpan(t,n=""){return{text:n,font:t.font,fontSize:t.fontSize,color:{...t.color},attributes:[...t.attributes]}}static getSimilarParagraph(t,n){const i={...t};return i.lines=n,i}static countSymbolsInParagraphs(t){return t.map(n=>n.lines.map(i=>i.map(o=>o.text.length).reduce((o,r)=>o+r,0)).reduce((i,o)=>i+o,0)).reduce((n,i)=>n+i,0)}static countSymbolsInLines(t){return t.map(n=>n.map(i=>i.text.length).reduce((i,o)=>i+o,0)).reduce((n,i)=>n+i,0)}static countSymbolsInSpans(t){return t.map(n=>n.text.length).reduce((n,i)=>n+i,0)}static getRangeAsSpans(t,n,i){const o=ie.indexToCursorPointer(n,[t],!1),r=ie.indexToCursorPointer(i,[t],!1),s=[];if(o.line===r.line&&o.span===r.span){const a=t.lines[o.line][o.span],c=ie.getSimilarSpan(a);c.text=a.text.substring(o.column,r.column),s.push(c)}else if(o.line===r.line){const a=t.lines[o.line][o.span],c=t.lines[r.line][r.span],l=ie.getSimilarSpan(a);l.text=a.text.substring(o.column);const u=ie.getSimilarSpan(c);u.text=c.text.substring(0,r.column),s.push(l,...t.lines[o.line].slice(o.span+1,r.span),u)}else{const a=t.lines[o.line][o.span],c=ie.getSimilarSpan(a);c.text=a.text.substring(o.column),s.push(c),s.push(...t.lines[o.line].slice(o.span+1));for(let d=o.line+1;d<r.line;d++)s.push(...t.lines[d]);s.push(...t.lines[r.line].slice(0,r.span));const l=t.lines[r.line][r.span],u=ie.getSimilarSpan(l);u.text=l.text.substring(0,r.column),s.push(u)}return s}static getWidthOfRange(t,n,i,o){return ie.getRangeAsSpans(t,n,i).map(r=>ie.measureTextOfSpan(r,o)).reduce((r,s)=>r+s,0)}static getFirstCursorPosition(t){if(0!==t.length&&0!==t[0].lines.length&&0!==t[0].lines[0].length)return{paragraph:0,line:0,span:0,column:0}}static getLastCursorPosition(t){if(0===t.length)return;const n=t.length-1;if(0===t[n].lines.length)return;const i=t[n].lines.length-1;if(0===t[n].lines[i].length)return;const o=t[n].lines[i].length-1;return{paragraph:n,line:i,span:o,column:t[n].lines[i][o].text.length}}click(t,n,i,o){this.setCursorPosition(this.getCursorPositionToPoint(n,t),i,o)}onKey(t,n,i,o){const r=n.value;for(let s of this._specialActions)if(t.key.toUpperCase()===s.key.toUpperCase())return t.preventDefault(),void s.action(t,n,i,o);o&&(this._tempX=void 0),this.setText(r,{endSelection:n.selectionEnd,startSelection:n.selectionStart},i)}setCursorPosition(t,n,i=!1){if(this._cursorPosition=t,t){const o=this.cursorPositionToIndex(t);i?"none"===n.selectionDirection?n.selectionStart<o?(n.selectionEnd=o,n.selectionDirection="forward"):n.selectionStart>o&&(n.selectionEnd=n.selectionStart,n.selectionStart=o,n.selectionDirection="backward"):"forward"===n.selectionDirection?n.selectionStart<=o?(n.selectionEnd=o,n.selectionDirection="forward"):n.selectionStart>o&&(n.selectionEnd=n.selectionStart,n.selectionStart=o,n.selectionDirection="backward"):"backward"===n.selectionDirection&&(n.selectionEnd<=o?(n.selectionStart=n.selectionEnd,n.selectionEnd=o,n.selectionDirection="forward"):n.selectionEnd>o&&(n.selectionStart=o,n.selectionDirection="backward")):(n.selectionStart=o,n.selectionEnd=o,n.selectionDirection="none")}this.onChange.emit()}getCursorPositionToXCoordinate(t,n,i,o){if(n>=this._paragraphs.length||i>=this._paragraphs[n].lines.length)return;const s=this._paragraphs[n].lines[i];let a=(this._rect?.x??0)+this._padding.left,c=0,l=0;for(;c<s.length&&a+(l=ie.measureTextOfSpan(s[c],o))<t;)c++,a+=l;if(c===s.length)return{paragraph:n,line:i,span:c-1,column:s[c-1].text.length};const u=s[c];let d=0;for(;d<u.text.length&&a+(l=ie.measureTextOfSpan(ie.getSimilarSpan(u,u.text.charAt(d)),o))<t;)d++,a+=l;return{paragraph:n,line:i,span:c,column:d}}getParagraphAndLineToYCoordinate(t){if(0===this._paragraphs.length||0===this._paragraphs[0].lines.length)return;let n=(this._rect?.y??0)-this._padding.top,i=0,o=0;for(;i<this._paragraphs.length;i++){o=0;const r=this._paragraphs[i];for(;o<r.lines.length;o++){if(!(n-this._lineDist>t))return[i,o];n-=this._lineDist}}return i===this._paragraphs.length?[this._paragraphs.length-1,this._paragraphs[this._paragraphs.length-1].lines.length-1]:void 0}getCursorPositionToPoint(t,n){const i=this.getParagraphAndLineToYCoordinate(t.y);if(void 0!==i)return this.getCursorPositionToXCoordinate(t.x,i[0],i[1],n)}getXCoordinateToCursorPosition(t,n){if(t.paragraph>=this._paragraphs.length||t.line>=this._paragraphs[t.paragraph].lines.length)return;const i=this._paragraphs[t.paragraph].lines[t.line];if(t.span>=i.length)return;const o=i[t.span],r=ie.getSimilarSpan(o,o.text.substring(0,t.column)),s=i.slice(0,t.span);s.push(r);const a=s.map(l=>ie.measureTextOfSpan(l,n)).reduce((l,u)=>l+u,0);return(this._rect?.x??0)+this._padding.left+a}getYCoordinateToCursorPosition(t){if(t.paragraph>=this._paragraphs.length||t.line>=this._paragraphs[t.paragraph].lines.length)return;let n=(this._rect?.y??0)-this._padding.top;const i=this._paragraphs.slice(0,t.paragraph).map(s=>s.lines.length).reduce((s,a)=>s+a,0);return n+-this._lineDist*(i+(t.line+1))}getPointToCursorPosition(t,n){const i=this.getXCoordinateToCursorPosition(t,n),o=this.getYCoordinateToCursorPosition(t);if(void 0!==i&&void 0!==o)return{x:i,y:o}}}const kc=5.2,O7={r:240,g:237,b:231};class Ex{addCanvasElements(...t){for(let n of t)this._canvasElements.push(n),n.onChange.addListener(this.canvasElementOnChangeListener),n.onAdd.emit(this);this.onCanvasElementChanged.emit(t)}removeCanvasElements(...t){let n=!0;for(let i of t){const o=this._canvasElements.indexOf(i);o>=0?(this._canvasElements.splice(o,1),i.onChange.removeListener(this.canvasElementOnChangeListener),i.onRemove.emit(this)):n=!1}return this.onCanvasElementChanged.emit(t),n}emptyCanvasElements(){for(let t of this._canvasElements)t.onChange.removeListener(this.canvasElementOnChangeListener),t.onRemove.emit(this);this._canvasElements=[],this.onCanvasElementChanged.emit()}get canvasElements(){return this._canvasElements.slice()}set translateX(t){this._transformations.translateX=t,this.onTransformationsChanged.emit(t)}get translateX(){return this._transformations.translateX}set translateY(t){this._transformations.translateY=t,this.onTransformationsChanged.emit(t)}get translateY(){return this._transformations.translateY}set zoom(t){this._transformations.zoom=t,this.onTransformationsChanged.emit(t)}get zoom(){return this._transformations.zoom}get transformations(){return{translateX:this.translateX,translateY:this.translateY,zoom:this.zoom}}set transformations(t){this._transformations.zoom=t.zoom,this._transformations.translateX=t.translateX,this._transformations.translateY=t.translateY,this.onTransformationsChanged.emit(t)}set format(t){this._format=t,this.onFormatChanged.emit(t)}get format(){if(this._format)return{...this._format}}getFormatInPX(){const t=this.format;if(t)return t.width*=kc,t.height*=kc,t}get text(){return this._text}set text(t){this._text=t,this.onTextChanged.emit()}constructor(t){this.whiteboardService=t,this._canvasElements=[],this._transformations={translateX:0,translateY:0,zoom:1},this.selection=new Mx,this._format=x7,this._text=new ie(nP(this._format)),this.onCanvasElementChanged=new le,this.onTransformationsChanged=new le,this.onBeforeRedraw=new le,this.onBeforeElementsDraw=new le,this.onAfterRedraw=new le,this.onFormatChanged=new le,this.onTextChanged=new le,this.canvasElementOnChangeListener=n=>{this.onCanvasElementChanged.emit(n)},this.redrawListener=()=>{this.redraw()},this.onCanvasElementChanged.addListener(n=>{this.whiteboardService.onCanvasElementChanged.emit(n)}),this.onTransformationsChanged.addListener(n=>{this.whiteboardService.onTransformationsChanged.emit(n)}),this.onBeforeRedraw.addListener(()=>{this.whiteboardService.onBeforeRedraw.emit()}),this.onBeforeElementsDraw.addListener(n=>{this.whiteboardService.onBeforeElementsDraw.emit(n)}),this.onAfterRedraw.addListener(()=>{this.whiteboardService.onAfterRedraw.emit()}),this.onCanvasElementChanged.addListener(this.redrawListener),this.onTransformationsChanged.addListener(this.redrawListener),this.selection.onSelectionChanged.addListener(this.redrawListener),this.onFormatChanged.addListener(this.redrawListener),this.onFormatChanged.addListener(()=>{this.center(),this.text.setRect(nP(this.format),this.renderingContext)}),this.onTextChanged.addListener(this.redrawListener),this.text.onChange.addListener(()=>{this.onTextChanged.emit()})}get renderingContext(){return this.getRenderingContextFor(this.whiteboardService.canvas?.ctx,this._transformations)}getRenderingContextFor(t,n){return new wx(t,n,this.selection.toArray(),this.whiteboardService.settings.getCanvasConfig())}redraw(){this.whiteboardService.canvas&&this.whiteboardService.canvas.canvasEl&&this.whiteboardService.canvas.wrapperEl&&this.whiteboardService.canvas.ctx&&(this.onBeforeRedraw.emit(),this.drawToCanvas(this.whiteboardService.canvas.canvasEl,this.whiteboardService.canvas.wrapperEl.getBoundingClientRect(),this._transformations),this.onAfterRedraw.emit())}center(){const t=this.getFormatInPX();if(t){const n=this.renderingContext,o=(n.range.width*this.zoom-t.width)/2,r={zoom:1,translateY:Math.min(0,-(-n.range.height*this.zoom-t.height)/2),translateX:Math.max(0,o)};this.transformations=r}}drawToCanvas(t,n,i){const o=i.resolutionFactor??1,r=t.getContext("2d");r.canvas.width=n.width*o,r.canvas.height=n.height*o,r.fillStyle=Rt(Vm),r.fillRect(0,0,t.width,t.height);const s=this.getRenderingContextFor(r,i);this.text.draw(s),this.onBeforeElementsDraw.emit(s);let a=this._canvasElements;for(let l of a)l.draw(s);const c=this.getFormatInPX();if(c){const l=s.range,u={y:l.y,x:l.x,height:l.height,width:-l.x},d={x:l.x,y:l.y+l.height,height:-l.height-l.y-c.height,width:l.width},h={x:l.x,y:0,height:l.y,width:l.width},f={y:l.y,x:c.width,height:l.height,width:l.width+l.x-c.width},g={color:O7};u.width>0&&s.drawRect(u,!0,g),d.height>0&&s.drawRect(d,!0,g),h.height>0&&s.drawRect(h,!0,g),f.width>0&&s.drawRect(f,!0,g),s.drawRect({x:0,y:0,height:-c.height,width:c.width},!0,{color:_i},{color:{r:200,g:200,b:200},lineWidth:1})}}zoomToBy(t,n){let i_y=-t.y/this.zoom*(1-1/n);this._transformations.translateX-=t.x/this.zoom*(1-1/n),this._transformations.translateY-=i_y,this.zoom*=n}getSelection(t,n=(()=>!0)){let o,r,i=this.renderingContext;for(let a of this.canvasElements)if(a instanceof $m){const c=a.getDistance(t,i);if(null!=c&&isFinite(c)&&n(a)){let l=void 0===o;l=l||c<=o,l&&(o=c,r=a)}}return void 0!==o&&10<o*this.zoom&&(r=void 0,o=void 0),r}setSelection(t,n=!0,i=(()=>!0)){const o=this.getSelection(t,i);n?this.selection.set(o):this.selection.alternate(o)}}class Sx{constructor(){this.redrawListener=()=>{this.redraw()}}}const Px="ADD_COLORS_LOCSTOR",T7=[],I7=[pe,{r:255,g:0,b:0},{r:0,g:0,b:255},{r:0,g:255,b:0},bt,Vm,qS],xx="ADD_PENS_LOCSTOR",k7=[],Ox="PENS_ORDER_LOCSTOR",A7=[0,1,2,3],Tx="CANVAS_CONFIG_LOCSTOR",N7={},Ix="GLOBAL_CONFIG_LOCSTOR",R7={};class F7{getAdditionalPens(){if(void 0===this.addPens){const t=localStorage.getItem(xx);null!==t&&(this.addPens=JSON.parse(t))}return this.addPens??k7}setAdditionalPens(t){this.addPens=t,localStorage.setItem(xx,JSON.stringify(this.addPens))}getDefaultPens(){return[...Ym]}getPens(){return[...Ym,...this.getAdditionalPens()]}getPensOrder(){if(void 0===this.pensOrder){const t=localStorage.getItem(Ox);null!==t&&(this.pensOrder=JSON.parse(t))}return this.pensOrder??A7}setPensOrder(t){this.pensOrder=t,localStorage.setItem(Ox,JSON.stringify(this.pensOrder))}getPensInOrder(){const t=this.getPens();return this.getPensOrder().filter(n=>n<t.length).map(n=>t[n])}getAdditionalColors(){if(void 0===this.addColors){const t=localStorage.getItem(Px);null!==t&&(this.addColors=JSON.parse(t))}return this.addColors??T7}setAdditionalColors(t){this.addColors=t,localStorage.setItem(Px,JSON.stringify(this.addColors))}getColors(){return[...I7,...this.getAdditionalColors()]}getCanvasConfig(){if(void 0===this.canvasConfig){const t=localStorage.getItem(Tx);null!==t&&(this.canvasConfig=JSON.parse(t))}return this.canvasConfig??N7}setCanvasConfig(t){this.canvasConfig=t,localStorage.setItem(Tx,JSON.stringify(this.canvasConfig))}getGlobalConfig(){if(void 0===this.globalConfig){const t=localStorage.getItem(Ix);null!==t&&(this.globalConfig=JSON.parse(t))}return this.globalConfig??R7}setGlobalConfig(t){this.globalConfig=t,localStorage.setItem(Ix,JSON.stringify(this.globalConfig))}}const L7=["componentNeighbor"],V7=["filler"];let B7=(()=>{class e{constructor(){this.opened=!1}open(n,i){this.dialog=i,setTimeout(()=>{this.componentType&&this.componentNeighbor&&(this.component=this.componentNeighbor.createComponent(this.componentType),this.component.instance.dialogData=n,this.component.instance.dialog=i,this.opened=!0)})}close(){if(this.component){const n=this.component.instance.dialogData;return this.dialog?.destroy(),this.opened=!1,n}return null}onFillerClicked(n){this.filler&&this.filler.nativeElement===n.target&&(this.dialog?.onFillerClicked.emit(),this.close())}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-dialog"]],viewQuery:function(i,o){if(1&i&&(St(L7,5,nt),St(V7,5)),2&i){let r;vt(r=_t())&&(o.componentNeighbor=r.first),vt(r=_t())&&(o.filler=r.first)}},standalone:!0,features:[Pe],decls:5,vars:2,consts:[["filler",""],["componentNeighbor",""],[1,"filler",3,"click"],[1,"wrapper"],[1,"componentNeighbor"]],template:function(i,o){if(1&i){const r=mt();p(0,"div",2,0),N("click",function(a){return ae(r),ce(o.onFillerClicked(a))}),p(2,"div",3),A(3,"div",4,1),m()()}2&i&&Ht("display: "+(o.opened?"flex;":"none;"))},styles:["@keyframes _ngcontent-%COMP%_animateFillerDialog{0%{background-color:#0000}to{background-color:#0007}}@keyframes _ngcontent-%COMP%_animateWrapperDialog{0%{transform:scale(0)}to{transform:scale(1)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;background-color:#0007;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_animateFillerDialog .1s ease-in-out;overflow:auto}.wrapper[_ngcontent-%COMP%]{background-color:#fff7f2;padding:16px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperDialog .1s ease-in-out}.componentNeighbor[_ngcontent-%COMP%]{display:none}"]})}return e})();class z7{constructor(t,n){this.dialogComponentRef=t,this.componentType=n,this.onFillerClicked=new le,this.dialogComponent=this.dialogComponentRef.instance,this.dialogComponent.componentType=n}open(t){this.dialogComponent.open(t,this)}close(){return this.dialogComponent.close()}destroy(){this.dialogComponentRef.destroy()}}let er=(()=>{class e{constructor(){}createDialog(n){if(!this.rootViewContainerRef)return null;const i=this.rootViewContainerRef.createComponent(B7);return new z7(i,n)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const U7=["snackbar"];let j7=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){const n=this.wrapper.nativeElement;n.textContent=this.message,n.style.background=this.snackbarConfig?.background??"#333",n.style.color=this.snackbarConfig?.color??"white"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-snackbar"]],viewQuery:function(i,o){if(1&i&&St(U7,5),2&i){let r;vt(r=_t())&&(o.wrapper=r.first)}},standalone:!0,features:[Pe],decls:3,vars:0,consts:[["snackbar",""],[1,"filler"],[1,"snackbar"]],template:function(i,o){1&i&&(p(0,"div",1),A(1,"div",2,0),m())},styles:['@keyframes _ngcontent-%COMP%_animateWrapperSnackbar{0%{transform:translateY(100px)}to{transform:translateY(0)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;pointer-events:none;align-items:flex-end;justify-content:center;display:flex}.snackbar[_ngcontent-%COMP%]{padding:10px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperSnackbar .2s ease-in-out;font-size:13pt;text-align:center;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none;pointer-events:all;margin-bottom:10px;box-shadow:0 0 10px #9997}']})}return e})(),Ac=(()=>{class e{constructor(){}openSnackbar(n,i){return new Promise((o,r)=>{if(!this.rootViewContainerRef)return void r();const s=i?.duration??4e3,a=this.rootViewContainerRef?.createComponent(j7);a?(a.instance.message=n,a.instance.snackbarConfig=i,setTimeout(()=>{a.destroy(),o()},s)):r()})}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tr=(()=>{class e extends Sx{get mouseMode(){return this._mouseMode}set mouseMode(n){this._mouseMode=n,this.onModeChanged.emit(n)}get penMode(){return this._penMode}set penMode(n){this._penMode=n,this.onModeChanged.emit(n)}get touchMode(){return this._touchMode}set touchMode(n){this._touchMode=n,this.onModeChanged.emit(n)}getModeForPointerType(n){return"mouse"===n?this.mouseMode:"touch"===n?this.touchMode:"pen"===n?this.penMode:void 0}setModeForPointerType(n,i){"mouse"===n?this.mouseMode=i:"touch"===n?this.touchMode=i:"pen"===n&&(this.penMode=i)}get activePage(){return this._pages[this._activePageIndex]}get activePageIndex(){return this._activePageIndex}set activePageIndex(n){const i=Math.min(this._pages.length-1,Math.max(0,n));this._activePageIndex=i,this.onPageChanged.emit(this.activePage)}get numberOfPages(){return this._pages.length}removePage(n){try{const i=this._pages[n];return this._pages.splice(n,1),this.activePageIndex>=this.numberOfPages-1&&(this.activePageIndex=this.numberOfPages-1),this.onPageRemoved.emit(i),!0}catch{return!1}}addPage(){const n=new Ex(this);this._pages.push(n),this.onPageAdded.emit(n)}constructor(n,i){super(),this.dialogService=n,this.snackBarService=i,this._mouseMode=void 0,this._penMode=void 0,this._touchMode=void 0,this._pages=[new Ex(this)],this._activePageIndex=0,this.onCanvasElementChanged=new le,this.onTransformationsChanged=new le,this.onBeforeRedraw=new le,this.onBeforeElementsDraw=new le,this.onAfterRedraw=new le,this.onModeChanged=new le,this.onPageChanged=new le,this.onPageAdded=new le,this.onPageRemoved=new le,this.saveListener=()=>{},this.settings=new F7,this.onPageChanged.addListener(this.redrawListener),this.onModeChanged.addListener(this.redrawListener),this.onAfterRedraw.addListener(this.saveListener)}redraw(){this.activePage.redraw()}addCanvasElements(...n){this.activePage.addCanvasElements(...n)}get renderingContext(){return this.activePage.renderingContext}zoomToBy(n,i){this.activePage.zoomToBy(n,i)}static#e=this.\u0275fac=function(i){return new(i||e)(j(er),j(Ac))};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function H7(e,t){if(1&e&&(p(0,"option",8),b(1),m()),2&e){const n=t.$implicit;T("value",t.$index),y(),fe(n.name)}}function $7(e,t){if(1&e){const n=mt();p(0,"button",10),N("click",function(){ae(n);const o=H().$index;return ce(H().removePen(o))}),A(1,"img",11),m()}}function G7(e,t){if(1&e){const n=mt();p(0,"div",3),A(1,"img",6),p(2,"select",7),k("ngModelChange",function(o){const r=ae(n).$index,s=H();return x(s.order[r],o)||(s.order[r]=o),ce(o)}),li(3,H7,2,2,"option",8,jo),m(),Re(5,$7,2,0,"button",9),m()}if(2&e){const n=t.$implicit,i=t.$index,o=H();y(),T("src","./assets/"+o.pens[n].icon+".svg",ii),y(),I("ngModel",o.order[i]),y(),ui(o.pens),y(2),Uo(5,1!==o.order.length?5:-1)}}let W7=(()=>{class e extends bx{add(){this.order.push(0)}removePen(n){this.order.splice(n,1)}save(){this.whiteboardService.settings.setPensOrder(this.order)}constructor(n){super(),this.whiteboardService=n,this.pens=this.whiteboardService.settings.getPens(),this.order=this.whiteboardService.settings.getPensOrder().filter(i=>i<this.pens.length)}ngOnDestroy(){this.closed=!0}static#e=this.\u0275fac=function(i){return new(i||e)(D(tr))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-edit-pen-quick-actions"]],standalone:!0,features:[z,Pe],decls:11,vars:0,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"penWrapper"],[1,"pen"],["tabindex","0",1,"add",3,"click"],[1,"material-symbols-outlined"],["alt","icon",1,"icon",3,"src"],["title","Stift ausw\xe4hlen",1,"select",3,"ngModelChange","ngModel"],[3,"value"],["title","Stift aus Ansicht entfernen",1,"iconButton","floatRight"],["title","Stift aus Ansicht entfernen",1,"iconButton","floatRight",3,"click"],["src","assets/trash.svg","alt","button",1,"icon"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Reihenfolge der Stifte ver\xe4ndern"),m(),p(3,"div",2),li(4,G7,6,3,"div",3,jo),p(6,"div",4),N("click",function(){return o.add()}),p(7,"p")(8,"span",5),b(9,"add"),m(),b(10," Hinzuf\xfcgen "),m()()()()),2&i&&(y(4),ui(o.order))},dependencies:[As,dx,fx,Id,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.pen[_ngcontent-%COMP%]{--height: 60px;--padding: 7px;padding:var(--padding);height:calc(var(--height) - 2 * var(--padding));border-bottom:1px solid #dfd7d2}.pen[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{--iconSize: calc(var(--height) - 2 * var(--padding));height:var(--iconSize);width:var(--iconSize);border-radius:50%}.pen[_ngcontent-%COMP%]   .iconButton[_ngcontent-%COMP%]{margin-top:calc((var(--height) - var(--iconButtonSize)) / 2 - var(--padding))}.pen[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{position:absolute;margin-top:calc((var(--height) - var(--button-height)) / 2 - var(--padding))}.add[_ngcontent-%COMP%]{height:60px;background:#fff7f2;transition:.1s all ease-in-out;line-height:60px}.add[_ngcontent-%COMP%]:hover{background:#efe7e2}.add[_ngcontent-%COMP%]:active{background:#dfd7d2}.add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;-webkit-user-select:none;user-select:none;margin:0;height:100%;width:100%;display:inline-block}']})}return e})();const q7=["wrapper"],Y7=e=>({color:e}),Z7=e=>({disabled:e});function Q7(e,t){if(1&e){const n=mt();p(0,"div",3),N("click",function(o){const r=ae(n).$implicit;return ce(H().click(o,r))})("keydown",function(o){const r=ae(n).$implicit;return ce(H().onTabKeyboard(o,r))}),p(1,"p"),b(2),m(),p(3,"span",4),b(4),m()()}if(2&e){let n,i;const o=t.$implicit;T("title",null!==(n=o.title)&&void 0!==n?n:"")("ngStyle",Ct(5,Y7,null!==(i=o.color)&&void 0!==i?i:"black"))("ngClass",Ct(7,Z7,o.disabled)),y(2),fe(o.header),y(2),fe(o.icon)}}let X7=(()=>{class e{get contextMenu(){return this._contextMenu}set contextMenu(n){this._contextMenu=n,this.elements=n.elements()}get position(){if(this.wrapperElement){const n={width:window.innerWidth,height:window.innerHeight},i=this.wrapperElement.getBoundingClientRect();return{x:Math.min(this._position.x,n.width-i.width),y:Math.min(this._position.y,n.height-i.height)}}return this._position}set position(n){this._position=n}constructor(){this.elements=[],this._contextMenu={elements:()=>[]},this._position={x:0,y:0}}ngAfterViewInit(){this.wrapperElement=this.wrapper.nativeElement,this.setPosition()}setPosition(){if(this.wrapperElement){const n=this.position;this.wrapperElement.style.left=`${n.x}px`,this.wrapperElement.style.top=`${n.y}px`}}click(n,i){!i.disabled&&i.click&&i.click(n)}onTabKeyboard(n,i){("Enter"==n.key||" "==n.key)&&this.click(n,i)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-context-menu"]],viewQuery:function(i,o){if(1&i&&St(q7,5),2&i){let r;vt(r=_t())&&(o.wrapper=r.first)}},decls:3,vars:1,consts:[["wrapper",""],[1,"wrapper"],["class","element","tabindex","0",3,"title","ngStyle","ngClass","click","keydown",4,"ngFor","ngForOf"],["tabindex","0",1,"element",3,"click","keydown","title","ngStyle","ngClass"],[1,"material-symbols-outlined"]],template:function(i,o){1&i&&(p(0,"div",1,0),Re(2,Q7,5,9,"div",2),m()),2&i&&(y(2),T("ngForOf",o.elements))},dependencies:[Un,ps,rc],styles:['.element[_ngcontent-%COMP%]{--height: 30px;--sizeIcon: 30px;--marginToIcon: 5px;height:var(--height);-webkit-user-select:none;user-select:none;line-height:var(--height);padding:7px;font-size:12pt;font-family:Segoe UI,sans-serif;border-radius:var(--borderRadius);background:#fff7f2;transition:.1s all ease-in-out}.element[_ngcontent-%COMP%]:hover{background:#efe7e2}.element[_ngcontent-%COMP%]:active{background:#cfc7c2}.element.disabled[_ngcontent-%COMP%]{color:gray!important}.element.disabled[_ngcontent-%COMP%]:hover, .element.disabled[_ngcontent-%COMP%]:active{background:#fff7f2}.element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:calc(var(--sizeIcon) + var(--marginToIcon));margin-top:0;margin-bottom:0}@keyframes _ngcontent-%COMP%_start{0%{opacity:0;transform:scale(1)}to{opacity:1}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff7f2;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #dfd7d2;transform-origin:top left;animation:.1s start ease-in-out;z-index:1}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translateY(-27.5px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})}return e})(),Nc=(()=>{class e{get appContextMenu(){return this._appContextMenu}set appContextMenu(n){this._appContextMenu&&this._appContextMenu.additionalEvent&&this._appContextMenu.additionalEvent.removeListener(this.customContextMenuActivateListener),n&&n.additionalEvent&&n.additionalEvent.addListener(this.customContextMenuActivateListener),this._appContextMenu=n}constructor(n){this.vc=n,this.contextmenuDocumentEventListener=i=>{(i instanceof PointerEvent||i instanceof MouseEvent)&&-1===i.composedPath().indexOf(this.element)&&this.destroyContextMenu()},this.keyboardDocumentEventListener=i=>{i instanceof KeyboardEvent&&"Escape"==i.key&&this.destroyContextMenu()},this.closeContextMenuEventListener=i=>{i!==this.skipEvent&&this.destroyContextMenu(),this.skipEvent=void 0},this.contextmenuEventListener=i=>{(i instanceof PointerEvent||i instanceof MouseEvent)&&(i.preventDefault(),this.showContextMenuAt({x:i.x,y:i.y}))},this.customContextMenuActivateListener=i=>{let o=i?i[0]:void 0;this.skipEvent=i?i[1]:void 0,!o&&this._appContextMenu&&(o=this._appContextMenu.defaultPopUpPosition),o||(o=this.element.getBoundingClientRect()??{x:0,y:0}),this.showContextMenuAt(o)},this.element=n.element.nativeElement,this.element.addEventListener("contextmenu",this.contextmenuEventListener)}ngOnDestroy(){this.element.removeEventListener("contextmenu",this.contextmenuEventListener),this.destroyContextMenu()}showContextMenuAt(n){this.destroyContextMenu(),this._appContextMenu&&(this.contextMenu=this.vc.createComponent(X7),this.contextMenu.instance.position=n,this.contextMenu.instance.contextMenu=this._appContextMenu,document.addEventListener("click",this.closeContextMenuEventListener),document.addEventListener("wheel",this.closeContextMenuEventListener),document.addEventListener("contextmenu",this.contextmenuDocumentEventListener),document.addEventListener("keydown",this.keyboardDocumentEventListener))}destroyContextMenu(){this.contextMenu&&(this.contextMenu.destroy(),this.contextMenu=void 0,document.removeEventListener("click",this.closeContextMenuEventListener),document.removeEventListener("wheel",this.closeContextMenuEventListener),document.removeEventListener("contextmenu",this.contextmenuDocumentEventListener),document.removeEventListener("keydown",this.keyboardDocumentEventListener))}static threePointsClicked(n,i,o){o.emit([{x:i.x+i.width/2,y:i.y+i.height/2},n])}static#e=this.\u0275fac=function(i){return new(i||e)(D(nt))};static#t=this.\u0275dir=G({type:e,selectors:[["","appContextMenu",""]],inputs:{appContextMenu:"appContextMenu"}})}return e})();class Wn{constructor(){this.threePointsClickedEvent=new le}get contextMenu(){return{elements:()=>[],additionalEvent:this.threePointsClickedEvent}}threePointsClicked(t){Nc.threePointsClicked(t,Wn.getDOMRectOfIconButton(t),this.threePointsClickedEvent)}static getDOMRectOfIconButton(t){let n=t.target;return(n instanceof HTMLSpanElement||n instanceof HTMLImageElement)&&(n=n.parentElement),n.getBoundingClientRect()}}let kx=(()=>{class e{ngAfterViewInit(){this.dialog.onFillerClicked.addListener(()=>{this.dialogData?.no&&this.dialogData.no()})}close(){this.dialogData?.no&&this.dialogData.no(),this.dialog.close()}accept(){this.dialogData?.yes&&this.dialogData.yes(),this.dialog.close()}static confirm(n,i){n.createDialog(e)?.open(i)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[Pe],decls:9,vars:2,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],["title","Akzeptieren",1,"button","floatRight","close",3,"click"],["title","Dialog schlie\xdfen",1,"button","floatRight",3,"click"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2),m(),p(3,"p",2),b(4),m(),p(5,"button",3),N("click",function(){return o.accept()}),b(6,"Akzeptieren"),m(),p(7,"button",4),N("click",function(){return o.close()}),b(8,"Schlie\xdfen"),m()()),2&i&&(y(2),fe(null==o.dialogData?null:o.dialogData.title),y(2),fe(null==o.dialogData?null:o.dialogData.text))},styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}']})}return e})();const K7=["contentDiv"];let J7=(()=>{class e{close(){this.dialog.close()}save(){void 0!==this.dialogData&&void 0!==this.dialogData.picker.value&&this.dialogData.picker?.setActive(this.dialogData.picker.value),this.close()}ngAfterViewInit(){setTimeout(()=>{this.dialogData&&(this.component=this.contentDiv.createComponent(this.dialogData.componentType),this.component.instance.picker=this.dialogData.picker)},0)}getTitle(){return this.dialogData?.title??""}static openPickerDialogComponent(n,i){n.createDialog(e)?.open(i)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-picker-dialog"]],viewQuery:function(i,o){if(1&i&&St(K7,5,nt),2&i){let r;vt(r=_t())&&(o.contentDiv=r.first)}},standalone:!0,features:[Pe],decls:10,vars:1,consts:[["contentDiv",""],[1,"wrapper"],[1,"paragraph","heading"],[1,"settingsWrapper"],[1,"buttons"],[1,"button","close","floatRight",3,"click"],[1,"button","floatRight",3,"click"]],template:function(i,o){if(1&i){const r=mt();p(0,"div",1)(1,"p",2),b(2),m(),A(3,"div",3,0),p(5,"div",4)(6,"button",5),N("click",function(){return ae(r),ce(o.save())}),b(7,"Best\xe4tigen"),m(),p(8,"button",6),N("click",function(){return ae(r),ce(o.close())}),b(9,"Abbrechen"),m()()()}2&i&&(y(2),fe(o.getTitle()))},styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}']})}return e})();class nr{}let e$=(()=>{class e extends nr{get text(){return this.picker?.value??""}set text(n){this.picker&&(this.picker.value=n)}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275cmp=L({type:e,selectors:[["app-string-input"]],inputs:{picker:"picker"},standalone:!0,features:[z,Pe],decls:4,vars:4,consts:[[1,"wrapper"],[1,"paragraph"],["type","text",1,"input","noMath",3,"ngModelChange","title","placeholder","ngModel"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"label",1),b(2),m(),p(3,"input",2),k("ngModelChange",function(s){return x(o.text,s)||(o.text=s),s}),m()()),2&i&&(y(2),gn("",null==o.picker?null:o.picker.label,": "),y(),T("title",null==o.picker?null:o.picker.label)("placeholder",null==o.picker?null:o.picker.label),I("ngModel",o.text))},dependencies:[As,qe,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.input[_ngcontent-%COMP%]{margin-top:7px}']})}return e})();class t$ extends Xo{constructor(t,n,i,o){super(t,n,o),this.label=i}}let n$=(()=>{class e extends nr{static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275cmp=L({type:e,selectors:[["app-easy-pen-style-style"]],inputs:{picker:"picker"},standalone:!0,features:[z,Pe],decls:2,vars:0,template:function(i,o){1&i&&(p(0,"p"),b(1,"easy-pen-style-style works!"),m())}})}return e})();function i$(e,t){if(1&e){const n=mt();p(0,"div",4),N("click",function(){const o=ae(n).$implicit;return ce(H(2).picker.value=o)}),A(1,"div",5),m()}if(2&e){const n=t.$implicit,i=H(2);rs("activeColor",i.isActiveColor(n)),y(),Gp("background",i.getStyleToColor(n))}}function o$(e,t){1&e&&li(0,i$,2,4,"div",3,jo),2&e&&ui(H().picker.getAllColors())}let Ax=(()=>{class e extends nr{isActiveColor(n){return vd(n,this.picker?.getActive())}getStyleToColor(n){return Rt(n)}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275cmp=L({type:e,selectors:[["app-color-picker"]],inputs:{picker:"picker"},standalone:!0,features:[z,Pe],decls:5,vars:1,consts:[[1,"divider"],[1,"dividerLabel"],[1,"colorWrapper"],[1,"color",3,"activeColor"],[1,"color",3,"click"],[1,"bg"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"label",1),b(2,"Farbe ausw\xe4hlen"),m(),p(3,"div",2),Re(4,o$,2,0),m()()),2&i&&(y(4),Uo(4,o.picker?4:-1))},styles:[".control[_ngcontent-%COMP%]{width:80px;height:89px;overflow:hidden;border-radius:3px;text-align:center;font-size:13px}.control.enabled[_ngcontent-%COMP%], .control.static[_ngcontent-%COMP%]{border:1px solid lightgray}.control.static[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:89px;margin:0}.control.disabled[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#eee;filter:opacity(80%)}.control.enabled[_ngcontent-%COMP%]:hover, .control.enabled[_ngcontent-%COMP%]:focus{border:1px solid gray;background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active, .control.active[_ngcontent-%COMP%]{border:1px solid black}.control.active[_ngcontent-%COMP%]{background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active{background-color:#ddd}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;-webkit-user-select:none;user-select:none;pointer-events:none}p[_ngcontent-%COMP%]{margin:3px 0 0;padding:0}.divider[_ngcontent-%COMP%]{padding:5px 5px 5px 0;border:1px solid gray;border-radius:5px;margin-top:5px}.dividerLabel[_ngcontent-%COMP%]{font-size:15px;color:#444;margin-top:-14px;margin-bottom:5px;background-color:#fff;padding-left:5px;padding-right:5px;width:max-content;display:block;margin-left:5px}.colorWrapper[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:inline-block;margin:7px;overflow:hidden;transition:all .2s linear;border:2px solid rgba(0,0,0,.1568627451);padding:0}.colorWrapper[_ngcontent-%COMP%]{transition:all .2s linear;max-width:300px}.bg[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;transition:all .2s linear}.activeColor[_ngcontent-%COMP%]{transition:all .2s linear;border:3px solid rgba(0,0,0,.8)!important;width:24px!important;height:24px!important;padding:2px!important}"]})}return e})(),r$=(()=>{class e extends nr{static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275cmp=L({type:e,selectors:[["app-icon-picker"]],inputs:{picker:"picker"},standalone:!0,features:[z,Pe],decls:2,vars:0,template:function(i,o){1&i&&(p(0,"p"),b(1,"icon-picker works!"),m())}})}return e})();class s$ extends Xo{constructor(t,n,i,o,r){super(t,n,r),this.minValue=i,this.maxValue=o}}let a$=(()=>{class e extends nr{get val(){return this.picker?.value??0}set val(n){this.picker&&(this.picker.value=n)}get min(){return this.picker?.minValue??0}get max(){return this.picker?.maxValue??0}static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275cmp=L({type:e,selectors:[["app-slider-input"]],inputs:{picker:"picker"},standalone:!0,features:[z,Pe],decls:2,vars:0,template:function(i,o){1&i&&(p(0,"p"),b(1,"slider-input works!"),m())},styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.input[_ngcontent-%COMP%]{margin-top:7px}']})}return e})(),c$=(()=>{class e extends nr{static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275cmp=L({type:e,selectors:[["app-easy-pen-color-style"]],inputs:{picker:"picker"},standalone:!0,features:[z,Pe],decls:2,vars:0,template:function(i,o){1&i&&(p(0,"p"),b(1,"easy-pen-color-style works!"),m())}})}return e})(),l$=(()=>{class e extends nr{constructor(n){super(),this.whiteboardService=n}ngAfterViewInit(){setTimeout(()=>{this.namePicker=new t$(()=>this.picker?.value?.name??"",n=>{this.picker?.value&&(this.picker.value.name=n)},"Name",!0),this.iconPicker=new Xo(()=>this.picker?.value?.icon,n=>{this.picker?.value&&(this.picker.value.icon=n)},!0),this.sliderInputPicker=new s$(()=>this.picker?.value?.lineWidth,n=>{this.picker?.value&&(this.picker.value.lineWidth=n)},1,2,!0),this.colorPicker=new Qm(this.whiteboardService.settings.getColors(),()=>this.picker?.value?.color,n=>{this.picker?.value&&(this.picker.value.color=n)},()=>!1,!0),this.easyPenColorStylePicker=new Xo(()=>this.picker?.value?.colorStyle,n=>{this.picker?.value&&(this.picker.value.colorStyle=n)},!0),this.easyPenStylePicker=new Xo(()=>this.picker?.value?.penStyle,n=>{this.picker?.value&&(this.picker.value.penStyle=n)},!0)},0)}static#e=this.\u0275fac=function(i){return new(i||e)(D(tr))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-pen-style"]],inputs:{picker:"picker"},standalone:!0,features:[z,Pe],decls:7,vars:6,consts:[[1,"wrapper"],[3,"picker"]],template:function(i,o){1&i&&(p(0,"div",0),A(1,"app-string-input",1)(2,"app-icon-picker",1)(3,"app-slider-input",1)(4,"app-color-picker",1)(5,"app-easy-pen-color-style",1)(6,"app-easy-pen-style-style",1),m()),2&i&&(y(),T("picker",o.namePicker),y(),T("picker",o.iconPicker),y(),T("picker",o.sliderInputPicker),y(),T("picker",o.colorPicker),y(),T("picker",o.easyPenColorStylePicker),y(),T("picker",o.easyPenStylePicker))},dependencies:[e$,n$,Ax,r$,a$,c$],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}']})}return e})();function u$(e,t){if(1&e){const n=mt();p(0,"div",3),A(1,"img",6),p(2,"div",7),b(3),m(),p(4,"button",8),N("click",function(o){const r=ae(n).$implicit;return ce(H().threePointsClicked(o,r))}),A(5,"img",9),m()()}if(2&e){const n=t.$implicit;T("appContextMenu",H().getContextMenuForPen(n,!0)),y(),T("src","./assets/"+n[0].icon+".svg",ii),y(2),fe(n[0].name)}}function d$(e,t){if(1&e){const n=mt();p(0,"div",3),A(1,"img",6),p(2,"div",7),b(3),m(),p(4,"button",8),N("click",function(o){const r=ae(n).$implicit;return ce(H().threePointsClicked(o,r))}),A(5,"img",9),m()()}if(2&e){const n=t.$implicit;T("appContextMenu",H().getContextMenuForPen(n,!1)),y(),T("src","./assets/"+n[0].icon+".svg",ii),y(2),fe(n[0].name)}}let h$=(()=>{class e extends bx{threePointsClicked(n,i){Nc.threePointsClicked(n,Wn.getDOMRectOfIconButton(n),i[1])}getContextMenuForPen(n,i){return{elements:()=>[{header:"Bearbeiten",title:"Stift bearbeiten",disabled:i,click:()=>{const o=new Xo(()=>qm(n[0]),s=>n[0]=s);J7.openPickerDialogComponent(this.whiteboardService.dialogService,{componentType:l$,title:"Stift bearbeiten",picker:o})},icon:"edit"},{header:"Duplizieren",title:"Stift duplizieren",click:()=>{const o=this.defaultPens.indexOf(n);this.additionalPens.push([qm(n[0],-1===o?void 0:o),new le])},icon:"content_copy"},{header:"L\xf6schen",title:"Stift l\xf6schen",disabled:i,color:"red",click:()=>{kx.confirm(this.whiteboardService.dialogService,{yes:()=>{const o=this.additionalPens.indexOf(n);-1!==o&&this.additionalPens.splice(o,1)},title:`Stift "${n[0].name}" l\xf6schen?`,text:"Diese Aktion kann nicht mehr r\xfcckg\xe4ngig gemacht werden."})},icon:"delete"}],additionalEvent:n[1]}}add(){this.additionalPens.push([DH,new le])}constructor(n){super(),this.whiteboardService=n,this.defaultPens=this.whiteboardService.settings.getDefaultPens().map(i=>[i,new le]),this.additionalPens=this.whiteboardService.settings.getAdditionalPens().map(i=>[qm(i),new le])}save(){this.whiteboardService.settings.setAdditionalPens(this.additionalPens.map(n=>n[0]))}ngOnDestroy(){this.closed=!0}static#e=this.\u0275fac=function(i){return new(i||e)(D(tr))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-view-pens"]],features:[z],decls:13,vars:0,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"penWrapper"],[1,"pen",3,"appContextMenu"],["tabindex","0",1,"add",3,"click"],[1,"material-symbols-outlined"],["alt","icon",1,"icon",3,"src"],[1,"penName"],["title","Stift aus Ansicht entfernen",1,"iconButton","floatRight",3,"click"],["src","assets/threeDots.svg","alt","icon",1,"icon"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Stifte bearbeiten"),m(),p(3,"div",2),li(4,u$,6,3,"div",3,jo),li(6,d$,6,3,"div",3,jo),p(8,"div",4),N("click",function(){return o.add()}),p(9,"p")(10,"span",5),b(11,"add"),m(),b(12," Hinzuf\xfcgen "),m()()()()),2&i&&(y(4),ui(o.defaultPens),y(2),ui(o.additionalPens))},dependencies:[Nc],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.pen[_ngcontent-%COMP%]{--height: 60px;--padding: 7px;padding:var(--padding);height:calc(var(--height) - 2 * var(--padding));border-bottom:1px solid #dfd7d2}.pen[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{--iconSize: calc(var(--height) - 2 * var(--padding));height:var(--iconSize);width:var(--iconSize);border-radius:50%}.pen[_ngcontent-%COMP%]   .iconButton[_ngcontent-%COMP%]{margin-top:calc((var(--height) - var(--iconButtonSize)) / 2 - var(--padding))}.pen[_ngcontent-%COMP%]   .penName[_ngcontent-%COMP%]{--innerHeight: calc(var(--height) - 2 * var(--padding));height:var(--innerHeight);position:absolute;line-height:var(--innerHeight);display:inline-block}.add[_ngcontent-%COMP%]{height:60px;background:#fff7f2;transition:.1s all ease-in-out;line-height:60px}.add[_ngcontent-%COMP%]:hover{background:#efe7e2}.add[_ngcontent-%COMP%]:active{background:#dfd7d2}.add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;-webkit-user-select:none;user-select:none;margin:0;height:100%;width:100%;display:inline-block}']})}return e})();class ir extends Qo{constructor(){super(...arguments),this.pen=Ym[0]}pointerStart(t,n,i,o){this.penElement=new cP(t.settings,this.getStyleOfPen(t)),this.penElement.addPoint({...i,size:1}),t.addCanvasElements(this.penElement)}pointerMove(t,n,i,o,r){const a=Math.sqrt((i.x-o.x)**2+(o.y-i.y)**2)*n.zoom,c=r.pressure+.5,l=Math.max(.5,Math.min(3.5*Math.pow(1/a,1/3),2))*c;this.penElement?.addPoint({...o,size:l})}pointerEnd(t,n,i,o){this.penElement?.addPoint({...i,size:1}),this.penElement=void 0}click(t,n,i,o){this.penElement=new cP(t.settings,this.getStyleOfPen(t)),this.penElement.addPoint({...i,size:1}),t.addCanvasElements(this.penElement),this.penElement=void 0}getStyleOfPen(t){return MH(this.pen,t.settings.getPens())}getExtraRibbons(t,n){const i=this.getColorsForExtraRibbons(t)??[pe,pe];return[{name:"Stift",color:i[0],underlineColor:i[1],content:[new Qm(t.settings.getColors(),()=>this.pen.color,o=>this.pen.color=o,()=>!1,!0),{title:"Stifte verwalten",content:[new Oe("Bearbeiten","edit","Stifte bearbeiten",()=>{wP.openViewSettingsDialogComponent(t.dialogService,W7)}),new Oe("Anzeigen","pen","Stifte anzeigen",()=>{wP.openViewSettingsDialogComponent(t.dialogService,h$)})]}]}]}}class vv extends Qo{pointerMove(t,n,i,o,r){throw"impl"}click(t,n,i,o){throw"impl"}getExtraRibbons(t,n){return[]}}class _v extends Qo{pointerMove(t,n,i,o,r){t.activePage.translateX+=(o.x-i.x)/r.pointerCount,t.activePage.translateY+=(o.y-i.y)/r.pointerCount}click(t,n,i,o){t.activePage.setSelection(i,!o.ctrlKey)}getExtraRibbons(t,n){return[]}}class Cv extends Qo{pointerMove(t,n,i,o,r){throw"impl"}click(t,n,i,o){throw"impl"}getExtraRibbons(t,n){return[]}}class yv extends Qo{pointerMove(t,n,i,o,r){throw"impl"}click(t,n,i,o){throw"impl"}getExtraRibbons(t,n){return[]}}class bv extends Qo{pointerMove(t,n,i,o,r){throw"impl"}click(t,n,i,o){throw"impl"}getExtraRibbons(t,n){return[]}}class Ns extends Oe{constructor(t,n,i,o,r,s){super(t,n,i,o,s),this.active=r}}class ji extends Ns{constructor(t,n,i,o,r,s){super(t,n,i,o,()=>{for(let a of this.activePointers)if(a())return!0;return!1},s),this.activePointers=r}}class Nx extends yd{constructor(t,n){super(),this.text=t,this.title=n}}class Rx extends yd{constructor(t,n,i){super(),this.settings=t,this.getColors=n,this.setActive=i}isActive(t){return 0!==this.getColors(t).length}isHyperActive(t){return this.getColors(t).length>1}}function f$(e,t){if(1&e){const n=mt();p(0,"div",2),N("pointerup",function(o){const r=ae(n).$implicit;return ce(H(2).penPicker.setActive(r,o))}),A(1,"div",3)(2,"img",4),m()}if(2&e){const n=t.$implicit,i=H(2);rs("active",i.penPicker.isActive(n))("hyperActive",i.penPicker.isHyperActive(n)),T("title",n.name),y(),Ht(i.getStyle(n)),y(),T("src","./assets/"+n.icon+".svg",ii)}}function p$(e,t){1&e&&li(0,f$,3,8,"div",1,jo),2&e&&ui(H().penPicker.settings.getPensInOrder())}let Fx=(()=>{class e{constructor(n){this.whiteboardService=n}getStyle(n){if(this.penPicker){const i=this.penPicker.getColors(n);if(0===i.length)return"background: transparent;";if(1===i.length)return`background: ${Rt(i[0])}`;const o=Math.floor(360/i.length);let r=`${Rt(i[0])} 0deg`;for(let c=1;c<i.length;c++){const l=o*c;r+=`, ${Rt(i[c-1])} ${l}deg, ${Rt(i[c])} ${l}deg`}r=`background-image: linear-gradient(white, white), conic-gradient(${r});`;const s=5,a=60-2*s;return`background-origin: border-box;\n    background-clip: content-box, border-box;\n    height: ${a}px !important;\n    width: ${a}px !important;\n    border: double ${s}px transparent; ${r}`}return""}static#e=this.\u0275fac=function(i){return new(i||e)(D(tr))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-pen-picker"]],inputs:{penPicker:"penPicker"},standalone:!0,features:[Pe],decls:2,vars:1,consts:[[1,"wrapper"],[1,"pen",3,"title","active","hyperActive"],[1,"pen",3,"pointerup","title"],[1,"bg"],["alt","button",1,"icon",3,"src"]],template:function(i,o){1&i&&(p(0,"div",0),Re(1,p$,2,0),m()),2&i&&(y(),Uo(1,o.penPicker?1:-1))},styles:[".wrapper[_ngcontent-%COMP%]{height:60px;border-radius:50vh;padding:3px;border:1px solid rgb(200,200,200);box-shadow:0 0 5px #c8c8c8;width:max-content;background-color:#fff;pointer-events:all}.bg[_ngcontent-%COMP%]{position:absolute}.bg[_ngcontent-%COMP%], .pen[_ngcontent-%COMP%]{height:60px;width:60px;border-radius:50%;transition:.1s all ease-in-out}.pen[_ngcontent-%COMP%]{display:inline-block;text-align:center;justify-content:center;vertical-align:middle}.icon[_ngcontent-%COMP%]{width:60px;height:60px;margin:0;-webkit-user-select:none;user-select:none;pointer-events:none;border-radius:50%;z-index:1;position:relative}.active[_ngcontent-%COMP%]:not(.hyperActive)   .icon[_ngcontent-%COMP%]{filter:invert(100%) sepia(94%) saturate(0%) hue-rotate(213deg) brightness(106%) contrast(104%)}.pen[_ngcontent-%COMP%]:not(.active):hover{background-color:#c8c8c8!important}.pen[_ngcontent-%COMP%]:not(.active):active{background-color:#969696!important}"]})}return e})();function g$(e,t){1&e&&A(0,"app-pen-picker",1),2&e&&T("penPicker",H().penPicker)}let m$=(()=>{class e{getPenModes(n){const i=[];return this.whiteboardService.mouseMode instanceof ir&&(void 0===n||this.whiteboardService.mouseMode.pen.penStyle===n.penStyle)&&i.push(this.whiteboardService.mouseMode),this.whiteboardService.penMode instanceof ir&&(void 0===n||this.whiteboardService.penMode.pen.penStyle===n.penStyle)&&i.push(this.whiteboardService.penMode),this.whiteboardService.touchMode instanceof ir&&(void 0===n||this.whiteboardService.touchMode.pen.penStyle===n.penStyle)&&i.push(this.whiteboardService.touchMode),i}isPenMode(){return 0!==this.getPenModes().length}getColorForMode(n){const i=n.getColorsForExtraRibbons(this.whiteboardService);return void 0===i?pe:i[0]}setPenStyleForPointerType(n,i){const o={touch:"mouse",mouse:"pen",pen:"mouse"},r=this.whiteboardService.getModeForPointerType(i);if(r instanceof ir)r.pen=n;else{const s=o[i];void 0!==s&&("pen"===s||"mouse"===s||"touch"===s)&&this.setPenStyleForPointerType(n,s)}}constructor(n){this.whiteboardService=n,this.getColors=i=>this.getPenModes(i).map(o=>this.getColorForMode(o)),this.setPenStyle=(i,o)=>{this.setPenStyleForPointerType(i,o.pointerType)},this.penPicker=new Rx(this.whiteboardService.settings,this.getColors,this.setPenStyle)}static#e=this.\u0275fac=function(i){return new(i||e)(D(tr))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-quick-actions"]],standalone:!0,features:[Pe],decls:2,vars:1,consts:[[1,"qactionsWrapper"],[3,"penPicker"]],template:function(i,o){1&i&&(p(0,"div",0),Re(1,g$,1,1,"app-pen-picker",1),m()),2&i&&(y(),Uo(1,o.isPenMode()?1:-1))},dependencies:[Fx],styles:[".qactionsWrapper[_ngcontent-%COMP%]{margin:0 auto;width:max-content}"]})}return e})();class v${afterViewInit(t,n){this.canvasEl=t.nativeElement,this.wrapperEl=n.nativeElement,this.ctx=this.canvasEl?.getContext("2d")}}class Lx extends v${constructor(t){super(),this.service=t,this.service.canvas=this}afterViewInit(t,n){super.afterViewInit(t,n),void 0!==this.wrapperEl&&void 0!==this.canvasEl&&(new ResizeObserver(()=>{this.service.redraw()}).observe(this.wrapperEl),new K4(this.canvasEl,{pointerStart:(i,o)=>{const r=this.service.renderingContext,s=r.transformPointFromCanvasToField(i);this.service.getModeForPointerType(o.pointerType)?.pointerStart(this.service,r,s,o)},pointerEnd:(i,o)=>{const r=this.service.renderingContext,s=r.transformPointFromCanvasToField(i);this.service.getModeForPointerType(o.pointerType)?.pointerEnd(this.service,r,s,o)},pointerMove:(i,o,r)=>{const s=this.service.renderingContext,a=s.transformPointFromCanvasToField(i),c=s.transformPointFromCanvasToField(o);this.service.getModeForPointerType(r.pointerType)?.pointerMove(this.service,s,a,c,r)},click:(i,o)=>{const r=this.service.renderingContext,s=r.transformPointFromCanvasToField(i);this.service.getModeForPointerType(o.pointerType)?.click(this.service,r,s,o)},scroll:(i,o)=>{0!=o&&(o*=-1/120,o+=Math.sign(o),this.service.zoomToBy(i,o>0?o:1/-o))},pinchZoom:(i,o)=>{this.service.zoomToBy(i,o)}}),this.tryLoadFromLastSession(),this.service.redraw())}tryLoadFromLastSession(){}}const _$=["canvas"],C$=["wrapper"];let y$=(()=>{class e extends Lx{constructor(n){super(n)}ngAfterViewInit(){this.afterViewInit(this.canvas,this.wrapper)}static#e=this.\u0275fac=function(i){return new(i||e)(D(tr))};static#t=this.\u0275cmp=L({type:e,selectors:[["whiteboard-canvas"]],viewQuery:function(i,o){if(1&i&&(St(_$,5),St(C$,5)),2&i){let r;vt(r=_t())&&(o.canvas=r.first),vt(r=_t())&&(o.wrapper=r.first)}},features:[z],decls:4,vars:0,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],["id","canvas",1,"canvas"]],template:function(i,o){1&i&&(p(0,"div",2,0),A(2,"canvas",3,1),m())},styles:["#canvas[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{height:100%;margin-bottom:0;width:100%}#canvas[_ngcontent-%COMP%]{background-color:#ecedf0;overflow:hidden;touch-action:none}.wrapper[_ngcontent-%COMP%]{display:flex}"]})}return e})(),b$=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-toggle"]],inputs:{toggle:"toggle"},standalone:!0,features:[Pe],decls:4,vars:5,consts:[[1,"toggle","control",3,"pointerup","title"],[1,"icon",3,"src"]],template:function(i,o){1&i&&(p(0,"div",0),N("pointerup",function(s){return o.toggle.onClick(s)}),A(1,"img",1),p(2,"p"),b(3),m()()),2&i&&(ss((o.toggle.active()?"active":"inactive")+" "+(o.toggle.isEnabled()?"enabled":"disabled")),T("title",o.toggle.title),y(),T("src","./assets/"+o.toggle.icon+".svg",ii),y(2),fe(o.toggle.name))},styles:[".control[_ngcontent-%COMP%]{width:80px;height:89px;overflow:hidden;border-radius:3px;text-align:center;font-size:13px}.control.enabled[_ngcontent-%COMP%], .control.static[_ngcontent-%COMP%]{border:1px solid lightgray}.control.static[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:89px;margin:0}.control.disabled[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#eee;filter:opacity(80%)}.control.enabled[_ngcontent-%COMP%]:hover, .control.enabled[_ngcontent-%COMP%]:focus{border:1px solid gray;background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active, .control.active[_ngcontent-%COMP%]{border:1px solid black}.control.active[_ngcontent-%COMP%]{background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active{background-color:#ddd}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;-webkit-user-select:none;user-select:none;pointer-events:none}p[_ngcontent-%COMP%]{margin:3px 0 0;padding:0}.divider[_ngcontent-%COMP%]{padding:5px 5px 5px 0;border:1px solid gray;border-radius:5px;margin-top:5px}.dividerLabel[_ngcontent-%COMP%]{font-size:15px;color:#444;margin-top:-14px;margin-bottom:5px;background-color:#fff;padding-left:5px;padding-right:5px;width:max-content;display:block;margin-left:5px}"]})}return e})(),w$=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-button"]],inputs:{button:"button"},standalone:!0,features:[Pe],decls:4,vars:5,consts:[[1,"button","control",3,"pointerup","title"],["alt","button",1,"icon",3,"src"]],template:function(i,o){1&i&&(p(0,"div",0),N("pointerup",function(s){return o.button.onClick(s)}),A(1,"img",1),p(2,"p"),b(3),m()()),2&i&&(ss(o.button.isEnabled()?"enabled":"disabled"),T("title",o.button.title),y(),T("src","./assets/"+o.button.icon+".svg",ii),y(2),fe(o.button.name))},styles:[".control[_ngcontent-%COMP%]{width:80px;height:89px;overflow:hidden;border-radius:3px;text-align:center;font-size:13px}.control.enabled[_ngcontent-%COMP%], .control.static[_ngcontent-%COMP%]{border:1px solid lightgray}.control.static[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:89px;margin:0}.control.disabled[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#eee;filter:opacity(80%)}.control.enabled[_ngcontent-%COMP%]:hover, .control.enabled[_ngcontent-%COMP%]:focus{border:1px solid gray;background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active, .control.active[_ngcontent-%COMP%]{border:1px solid black}.control.active[_ngcontent-%COMP%]{background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active{background-color:#ddd}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;-webkit-user-select:none;user-select:none;pointer-events:none}p[_ngcontent-%COMP%]{margin:3px 0 0;padding:0}.divider[_ngcontent-%COMP%]{padding:5px 5px 5px 0;border:1px solid gray;border-radius:5px;margin-top:5px}.dividerLabel[_ngcontent-%COMP%]{font-size:15px;color:#444;margin-top:-14px;margin-bottom:5px;background-color:#fff;padding-left:5px;padding-right:5px;width:max-content;display:block;margin-left:5px}"]})}return e})(),M$=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-divider"]],inputs:{divider:"divider"},standalone:!0,features:[Pe],decls:4,vars:2,consts:[[1,"divider"],[1,"dividerLabel"],[3,"content"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"label",1),b(2),m(),A(3,"app-content-viewer",2),m()),2&i&&(y(2),gn(" ",o.divider.title," "),y(),T("content",o.divider.content))},dependencies:()=>[Vx],styles:[".control[_ngcontent-%COMP%]{width:80px;height:89px;overflow:hidden;border-radius:3px;text-align:center;font-size:13px}.control.enabled[_ngcontent-%COMP%], .control.static[_ngcontent-%COMP%]{border:1px solid lightgray}.control.static[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:89px;margin:0}.control.disabled[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#eee;filter:opacity(80%)}.control.enabled[_ngcontent-%COMP%]:hover, .control.enabled[_ngcontent-%COMP%]:focus{border:1px solid gray;background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active, .control.active[_ngcontent-%COMP%]{border:1px solid black}.control.active[_ngcontent-%COMP%]{background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active{background-color:#ddd}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;-webkit-user-select:none;user-select:none;pointer-events:none}p[_ngcontent-%COMP%]{margin:3px 0 0;padding:0}.divider[_ngcontent-%COMP%]{padding:5px 5px 5px 0;border:1px solid gray;border-radius:5px;margin-top:5px}.dividerLabel[_ngcontent-%COMP%]{font-size:15px;color:#444;margin-top:-14px;margin-bottom:5px;background-color:#fff;padding-left:5px;padding-right:5px;width:max-content;display:block;margin-left:5px}"]})}return e})();function D$(e,t){if(1&e&&A(0,"div",4),2&e){const n=t.$implicit;Ht(H().getStyleForPointer(n))}}let E$=(()=>{class e{getStyleForPointer(n){const i=n();return i?"background-color: "+Rt(i)+";":"display: none;"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-pointer-mode-toggle"]],inputs:{pointerToggle:"pointerToggle"},standalone:!0,features:[Pe],decls:7,vars:5,consts:[[1,"toggle","control",3,"pointerup","title"],[1,"activeBar"],[1,"pointerStatus",3,"style"],[1,"icon",3,"src"],[1,"pointerStatus"]],template:function(i,o){1&i&&(p(0,"div",0),N("pointerup",function(s){return o.pointerToggle.onClick(s)}),p(1,"div",1),li(2,D$,1,2,"div",2,_u),m(),A(4,"img",3),p(5,"p"),b(6),m()()),2&i&&(ss((o.pointerToggle.active()?"active":"inactive")+" "+(o.pointerToggle.isEnabled()?"enabled":"disabled")),T("title",o.pointerToggle.title),y(2),ui(o.pointerToggle.activePointers),y(2),T("src","./assets/"+o.pointerToggle.icon+".svg",ii),y(2),fe(o.pointerToggle.name))},styles:[".control[_ngcontent-%COMP%]{width:80px;height:89px;overflow:hidden;border-radius:3px;text-align:center;font-size:13px}.control.enabled[_ngcontent-%COMP%], .control.static[_ngcontent-%COMP%]{border:1px solid lightgray}.control.static[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:89px;margin:0}.control.disabled[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#eee;filter:opacity(80%)}.control.enabled[_ngcontent-%COMP%]:hover, .control.enabled[_ngcontent-%COMP%]:focus{border:1px solid gray;background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active, .control.active[_ngcontent-%COMP%]{border:1px solid black}.control.active[_ngcontent-%COMP%]{background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active{background-color:#ddd}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;-webkit-user-select:none;user-select:none;pointer-events:none}p[_ngcontent-%COMP%]{margin:3px 0 0;padding:0}.divider[_ngcontent-%COMP%]{padding:5px 5px 5px 0;border:1px solid gray;border-radius:5px;margin-top:5px}.dividerLabel[_ngcontent-%COMP%]{font-size:15px;color:#444;margin-top:-14px;margin-bottom:5px;background-color:#fff;padding-left:5px;padding-right:5px;width:max-content;display:block;margin-left:5px}.activeBar[_ngcontent-%COMP%]{width:100%;text-align:center;height:5px}.pointerStatus[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;width:5px;height:5px;margin-left:5px;margin-right:5px}.control[_ngcontent-%COMP%]{height:94px}"]})}return e})(),S$=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-ribbon-text"]],inputs:{text:"text"},standalone:!0,features:[Pe],decls:3,vars:2,consts:[[1,"text","control","static",3,"title"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p"),b(2),m()()),2&i&&(T("title",o.text.title),y(2),fe(o.text.text()))},styles:[".control[_ngcontent-%COMP%]{width:80px;height:89px;overflow:hidden;border-radius:3px;text-align:center;font-size:13px}.control.enabled[_ngcontent-%COMP%], .control.static[_ngcontent-%COMP%]{border:1px solid lightgray}.control.static[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:89px;margin:0}.control.disabled[_ngcontent-%COMP%]{border:1px solid #ddd;background-color:#eee;filter:opacity(80%)}.control.enabled[_ngcontent-%COMP%]:hover, .control.enabled[_ngcontent-%COMP%]:focus{border:1px solid gray;background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active, .control.active[_ngcontent-%COMP%]{border:1px solid black}.control.active[_ngcontent-%COMP%]{background-color:#eee}.control.enabled[_ngcontent-%COMP%]:active{background-color:#ddd}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;-webkit-user-select:none;user-select:none;pointer-events:none}p[_ngcontent-%COMP%]{margin:3px 0 0;padding:0}.divider[_ngcontent-%COMP%]{padding:5px 5px 5px 0;border:1px solid gray;border-radius:5px;margin-top:5px}.dividerLabel[_ngcontent-%COMP%]{font-size:15px;color:#444;margin-top:-14px;margin-bottom:5px;background-color:#fff;padding-left:5px;padding-right:5px;width:max-content;display:block;margin-left:5px}"]})}return e})();function P$(e,t){1&e&&A(0,"app-button",1),2&e&&T("button",H().$implicit)}function x$(e,t){1&e&&A(0,"app-toggle",2),2&e&&T("toggle",H().$implicit)}function O$(e,t){1&e&&A(0,"app-pointer-mode-toggle",3),2&e&&T("pointerToggle",H().$implicit)}function T$(e,t){1&e&&A(0,"app-ribbon-text",4),2&e&&T("text",H().$implicit)}function I$(e,t){1&e&&A(0,"app-pen-picker",5),2&e&&T("penPicker",H().$implicit)}function k$(e,t){1&e&&A(0,"app-color-picker",6),2&e&&T("picker",H().$implicit)}function A$(e,t){if(1&e&&A(0,"app-divider",7),2&e){const n=H().$implicit;T("divider",H().getAsDivider(n))}}function N$(e,t){if(1&e&&Re(0,P$,1,1,"app-button",1)(1,x$,1,1)(2,O$,1,1)(3,T$,1,1)(4,I$,1,1)(5,k$,1,1)(6,A$,1,1),2&e){const n=t.$implicit,i=H();Uo(0,i.isButton(n)?0:i.isToggle(n)?1:i.isPointerToggle(n)?2:i.isText(n)?3:i.isPenPicker(n)?4:i.isColorPicker(n)?5:6)}}let Vx=(()=>{class e{isButton(n){return n instanceof Oe&&!(n instanceof Ns)}isToggle(n){return n instanceof Ns&&!(n instanceof ji)}isText(n){return n instanceof Nx}isPointerToggle(n){return n instanceof ji}isPenPicker(n){return n instanceof Rx}isColorPicker(n){return n instanceof Qm}getAsDivider(n){return n}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-content-viewer"]],inputs:{content:"content"},standalone:!0,features:[Pe],decls:3,vars:0,consts:[[1,"contentWrapper"],[1,"content",3,"button"],[1,"content",3,"toggle"],[1,"content",3,"pointerToggle"],[1,"content",3,"text"],[1,"content",3,"penPicker"],[1,"content",3,"picker"],[1,"content",3,"divider"]],template:function(i,o){1&i&&(p(0,"div",0),li(1,N$,7,1,null,null,_u),m()),2&i&&(y(),ui(o.content))},dependencies:[b$,w$,M$,E$,S$,Fx,Ax],styles:[".content[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;margin-bottom:7px}.contentWrapper[_ngcontent-%COMP%]{padding:0;margin:0}"]})}return e})(),R$=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-ribbon-tab"]],inputs:{ribbonTab:"ribbonTab"},standalone:!0,features:[Pe],decls:1,vars:1,consts:[[3,"content"]],template:function(i,o){1&i&&A(0,"app-content-viewer",0),2&i&&T("content",o.ribbonTab.content)},dependencies:[Vx]})}return e})();function F$(e,t){if(1&e){const n=mt();p(0,"div",4),N("click",function(){const o=ae(n).$index,r=H();return ce(r.activeRibbon=r.activeRibbon===o?void 0:o)}),b(1),A(2,"div",5),m()}if(2&e){const n=t.$implicit,i=t.$index,o=H();Ht("color: "+o.colorToString(n.color)+";"),ss(o.activeRibbon===i?"active":"inactive"),y(),gn(" ",n.name," "),y(),Ht(o.activeRibbon===i?"background-color: "+o.colorToString(n.underlineColor)+";":"")}}function L$(e,t){if(1&e&&(p(0,"div",3),A(1,"app-ribbon-tab",6),m()),2&e){const n=H();y(),T("ribbonTab",n.ribbon.ribbonTabs[n.activeRibbon])}}let V$=(()=>{class e{set startTab(n){void 0!==n&&(this.activeRibbon=n)}colorToString(n){return WS(n)}constructor(n){this.cdref=n,this.activeRibbon=0}ngAfterViewInit(){this.cdref.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||e)(D($o))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-ribbon"]],inputs:{ribbon:"ribbon",startTab:"startTab"},decls:5,vars:3,consts:[[1,"container"],[1,"tabSelection"],[1,"tabSelector",3,"style","class"],[1,"tab"],[1,"tabSelector",3,"click"],[1,"tabBar"],[3,"ribbonTab"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"div",1),li(2,F$,3,7,"div",2,_u),m(),Re(4,L$,2,1,"div",3),m()),2&i&&(ss(void 0===o.activeRibbon?"noTab":""),y(2),ui(o.ribbon.ribbonTabs),y(2),Uo(4,void 0!==o.activeRibbon?4:-1))},dependencies:[R$],styles:[".container[_ngcontent-%COMP%]{width:100%;height:max-content;background-color:#f0ede7;margin-bottom:5px}.tabSelection[_ngcontent-%COMP%]{width:100%;height:max-content}.tabSelector[_ngcontent-%COMP%]{display:inline-block;margin:7px;padding:2px}.tabBar[_ngcontent-%COMP%]{height:1.5px;margin-top:2px;border-radius:2px;border-color:transparent}.tabSelector.inactive[_ngcontent-%COMP%]   .tabBar[_ngcontent-%COMP%]{background-color:transparent}.tabSelector.inactive[_ngcontent-%COMP%]:hover   .tabBar[_ngcontent-%COMP%]{background-color:#bbc}.tab[_ngcontent-%COMP%]{background-color:#fff;margin-left:7px;margin-right:7px;border-radius:5px;border:1px solid lightgray;box-shadow:#bbc 0 0 5px;padding:7px 7px 0 0}.noTab[_ngcontent-%COMP%]{box-shadow:#bbc 0 0 5px;border-bottom:1px solid lightgray}"]})}return e})(),B$=(()=>{class e{constructor(n,i,o){this.whiteboardService=n,this.snackBarService=i,this.dialogService=o,this.getPointerActiveFunctionsForPointerToggle=r=>{const s=[];for(let a=0;a<Pc.length;a++)s.push(()=>{const c=this.whiteboardService.getModeForPointerType(Pc[a]);if(c&&r(c))return _d[a]});return s}}get ribbon(){const n=[{name:"Datei",color:pe,underlineColor:Zo,content:[{title:"Dateioptionen",content:[new Oe("\xd6ffnen","openFile","Eine Whiteboard-Datei \xf6ffnen",()=>{}),new Oe("Speichern","saveFile","Die Datei speichern",()=>{}),new Oe("Kopie","copy","Eine Kopie speichern unter",()=>{}),new Oe("Exportieren","export","Datei exportieren als",()=>{})]},{title:"Historie",content:[new Oe("Leeren","pen","Das Whiteboard zur\xfccksetzen",()=>{}),new Oe("Zur\xfcck","pen","Gehe ein Schritt zur\xfcck",()=>{}),new Oe("Vorw\xe4rts","pen","Gehe ein Schritt vor",()=>{})]},new Oe("Vollbild","pen","Aktiviere Vollbild zur besseren Ansicht",()=>{}),new Oe("Einstellungen","pen","Einstellungen \xf6ffnen",()=>{})]},{name:"Start",color:pe,underlineColor:Zo,content:[{title:"Modi",content:[new ji("Text","text","Schreibe einen Text",o=>{this.whiteboardService.getModeForPointerType(o.pointerType)instanceof Hm?this.whiteboardService.setModeForPointerType(o.pointerType,void 0):this.whiteboardService.setModeForPointerType(o.pointerType,new Hm)},this.getPointerActiveFunctionsForPointerToggle(o=>o instanceof Hm)),new ji("Stift","pen","Male mit dem Stift",o=>{this.whiteboardService.getModeForPointerType(o.pointerType)instanceof ir?this.whiteboardService.setModeForPointerType(o.pointerType,void 0):this.whiteboardService.setModeForPointerType(o.pointerType,new ir)},this.getPointerActiveFunctionsForPointerToggle(o=>o instanceof ir)),new ji("Formen","pen","F\xfcge Formen hinzu",o=>{this.whiteboardService.getModeForPointerType(o.pointerType)instanceof vv?this.whiteboardService.setModeForPointerType(o.pointerType,void 0):this.whiteboardService.setModeForPointerType(o.pointerType,new vv)},this.getPointerActiveFunctionsForPointerToggle(o=>o instanceof vv)),new ji("Bewegen","moveWhiteboard","Bewege das Whiteboard",o=>{this.whiteboardService.getModeForPointerType(o.pointerType)instanceof _v?this.whiteboardService.setModeForPointerType(o.pointerType,void 0):this.whiteboardService.setModeForPointerType(o.pointerType,new _v)},this.getPointerActiveFunctionsForPointerToggle(o=>o instanceof _v)),new ji("Auswahl","pen","W\xe4hle Elemente auf dem Whiteboard aus",o=>{this.whiteboardService.getModeForPointerType(o.pointerType)instanceof Cv?this.whiteboardService.setModeForPointerType(o.pointerType,void 0):this.whiteboardService.setModeForPointerType(o.pointerType,new Cv)},this.getPointerActiveFunctionsForPointerToggle(o=>o instanceof Cv)),new ji("L\xf6schen","pen","L\xf6sche Elemente",o=>{this.whiteboardService.getModeForPointerType(o.pointerType)instanceof yv?this.whiteboardService.setModeForPointerType(o.pointerType,void 0):this.whiteboardService.setModeForPointerType(o.pointerType,new yv)},this.getPointerActiveFunctionsForPointerToggle(o=>o instanceof yv)),new ji("Radierer","eraser","Radiere den Stift",o=>{this.whiteboardService.getModeForPointerType(o.pointerType)instanceof bv?this.whiteboardService.setModeForPointerType(o.pointerType,void 0):this.whiteboardService.setModeForPointerType(o.pointerType,new bv)},this.getPointerActiveFunctionsForPointerToggle(o=>o instanceof bv))]}]},{name:"Einf\xfcgen",color:pe,underlineColor:Zo,content:[new Oe("Bild","pen","Ein Bild hinzuf\xfcgen",()=>{}),new Oe("Notiz","pen","Sticky Note hinzuf\xfcgen",()=>{}),new Oe("PDF","pen","Seiten aus einer PDF als Bild hinzuf\xfcgen",()=>{}),new Oe("LaTeX","pen","LaTeX hinzuf\xfcgen",()=>{}),new Oe("Prokyon","pen","Eine Prokyon Datei hinzuf\xfcgen",()=>{}),new Oe("Referenz","pen","Referenz hinzuf\xfcgen",()=>{})]},{name:"Seiten",color:pe,underlineColor:Zo,content:[new Oe("Layout","pen","Layout der Seiten einstellen",()=>{}),new Oe("Anordnen","pen","Seiten neu anordnen",()=>{}),new Oe("Hintergrund","pen","Hintergrund der Seiten einstellen",()=>{}),{title:"Seite Hinzuf\xfcgen",content:[new Oe("Hinzuf\xfcgen","plus","Eine leere Seite hinzuf\xfcgen",()=>{this.whiteboardService.addPage(),this.whiteboardService.activePageIndex=this.whiteboardService.numberOfPages-1}),new Oe("Datei","pen","Eine Datei importieren und anf\xfcgen",()=>{}),new Oe("Scannen","pen","Seiten mit der Kamera einscannen und anf\xfcgen",()=>{})]},{title:"Navigieren",content:[new Oe("Links","left","Eine Seite nach links wechseln",()=>{this.whiteboardService.activePageIndex--},()=>this.whiteboardService.activePageIndex>0),new Nx(()=>`Seite\n${this.whiteboardService.activePageIndex+1}/${this.whiteboardService.numberOfPages}`,"Seitenanzeige"),new Oe("L\xf6schen","trash","Diese Seite l\xf6schen",()=>{kx.confirm(this.dialogService,{title:"Wirklich l\xf6schen?",text:"Die Seite kann nicht wiederhergestellt werden.",yes:()=>this.whiteboardService.removePage(this.whiteboardService.activePageIndex)})},()=>this.whiteboardService.numberOfPages>1),new Oe("Rechts","right","Eine Seite nach rechts wechseln",()=>{this.whiteboardService.activePageIndex++},()=>this.whiteboardService.activePageIndex<this.whiteboardService.numberOfPages-1)]}]},{name:"Ansicht",color:pe,underlineColor:Zo,content:[]},{name:"Extras",color:pe,underlineColor:Zo,content:[{title:"Lineale",content:[new Ns("Lineal","pen","Ein normales Lineal verwenden",()=>{},()=>!1),new Ns("Geodreieck","pen","Ein Geodreieck verwenden",()=>{},()=>!1),new Ns("Halbkreis","pen","Einen Halbkreis verwenden",()=>{},()=>!1)]}]}],i=[];for(let o of Pc)i.push(...this.whiteboardService.getModeForPointerType(o)?.getExtraRibbons(this.whiteboardService,this.whiteboardService.renderingContext)??[]);return{ribbonTabs:[...n,...i]}}static#e=this.\u0275fac=function(i){return new(i||e)(D(tr),D(Ac),D(er))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-whiteboard"]],decls:7,vars:2,consts:[[1,"box"],[1,"header"],[3,"ribbon","startTab"],[1,"content"],[1,"quickactions"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"div",1),A(2,"app-ribbon",2),m(),p(3,"div",3),A(4,"whiteboard-canvas"),m(),p(5,"div",4),A(6,"app-quick-actions"),m()()),2&i&&(y(2),T("ribbon",o.ribbon)("startTab",1))},dependencies:[m$,y$,V$],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:100%;overflow:hidden;background-color:#ecedf0}.box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex:0 1 auto}.box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 1 auto;overflow:hidden}app-canvas[_ngcontent-%COMP%]{display:block;height:100%;width:100%;overflow:hidden}.quickactions[_ngcontent-%COMP%]{position:absolute;width:auto;height:auto;bottom:10px;left:10px;right:10px;pointer-events:none}"]})}return e})();class Ad{constructor(...t){this._ts=[],this._ts=t}getItem(t){return this._ts[t]}setItem(t,n){this._ts[t]=n}push(...t){this._ts.push(...t)}remove(t){const n=this._ts.indexOf(t);return n>=0&&(this._ts.splice(n,1),!0)}pop(){return this._ts.pop()}forEach(t){for(let n=0;n<this._ts.length;n++)t(this._ts[n],n)}filter(t){let n=[];for(let i=0;i<this._ts.length;i++){const o=this._ts[i];t(o,i)&&n.push(o)}return new Ad(...n)}map(t){let n=[];for(let i=0;i<this._ts.length;i++)n.push(t(this._ts[i],i));return new Ad(...n)}find(t){for(let n=0;n<this._ts.length;n++){const i=this._ts[n];if(t(i,n))return i}}}class Vt{constructor(){this.childOperations=new Ad}simplify(){return this}}class te extends Vt{evaluate(){return this.constant}derive(){return new te(0)}constructor(t){super(),this.constant=t}toString(){return this.constant==Math.PI?"pi":this.constant==Math.E?"e":this.constant>=0?this.constant.toString():`(${this.constant.toString()})`}}const wv="$VAR_";class On extends Vt{evaluate(t){let n=void 0===this.changingVariable?t[this.key]:t[wv+this.changingVariable];if("number"==typeof n)return n;throw"no number found"}derive(t){return new te(t===this.key?1:0)}constructor(t,n=void 0){super(),this.key=t,this.changingVariable=n}toString(){return this.key}}class Hi{constructor(t,n,i="x"){this.operation=t,this.name=n,this.variable=i,this.stopEvaluation=!1}evaluate(t,n){if(this.stopEvaluation)throw"evaluation stopped";return(n=n??{})[wv+0]=t,this.operation.evaluate(n)}derive(){let t;return this.name&&(t=this.name+"'"),new Hi(this.operation.derive(this.variable),t,this.variable).simplify()}simplify(){return new Hi(this.operation.simplify(),this.name,this.variable)}get operationAsString(){return this.name?`${this.name}(${this.variable??"x"}) = ${this.operation.toString()}`:this.operation.toString()}}function Nd(e,t,n){e.openSnackbar(function z$(e,t){return 1!==t&&(e+="e"),0===t?`Keine ${e} gefunden.`:1===t?`Ein ${e} gefunden.`:`${t} ${e} gefunden.`}(t,n))}function Rd(e,t="Ein unerwarteter Fehler ist aufgetreten!"){e.openSnackbar(t,{color:"white",background:"#c44"})}const H$=e=>({background:e});let $$=(()=>{class e{constructor(n){this.ref=n,this.r=0,this.g=0,this.b=0,this.a=0}get data(){return this._data}set data(n){this._data=n;let i=this.data?.getter();i&&(this.r=i.r,this.g=i.g,this.b=i.b,this.a=Math.floor(255*(i.a??1))),this.ref.detectChanges()}get colorStr(){return this.data?Rt(this.data.getter()):""}input(){let n=this.r<0?0:this.r>255?255:this.r,i=this.g<0?0:this.g>255?255:this.g,o=this.b<0?0:this.b>255?255:this.b,r=(this.a<0?0:this.a>255?255:this.a)/255;this.data?.setter({r:n,g:i,b:o,a:1===r?void 0:r})}static#e=this.\u0275fac=function(i){return new(i||e)(D($o))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-color-style"]],decls:6,vars:7,consts:[[1,"wrapper"],[1,"preview",3,"ngStyle"],["type","number","title","Rot","min","0","max","255",1,"inp","r",3,"ngModelChange","input","ngModel"],["type","number","title","Gr\xfcn","min","0","max","255",1,"inp","g",3,"ngModelChange","input","ngModel"],["type","number","title","Blau","min","0","max","255",1,"inp","b",3,"ngModelChange","input","ngModel"],["type","number","title","Alpha","min","0","max","255",1,"inp","a",3,"ngModelChange","input","ngModel"]],template:function(i,o){1&i&&(p(0,"div",0),A(1,"div",1),p(2,"input",2),k("ngModelChange",function(s){return x(o.r,s)||(o.r=s),s}),N("input",function(){return o.input()}),m(),p(3,"input",3),k("ngModelChange",function(s){return x(o.g,s)||(o.g=s),s}),N("input",function(){return o.input()}),m(),p(4,"input",4),k("ngModelChange",function(s){return x(o.b,s)||(o.b=s),s}),N("input",function(){return o.input()}),m(),p(5,"input",5),k("ngModelChange",function(s){return x(o.a,s)||(o.a=s),s}),N("input",function(){return o.input()}),m()()),2&i&&(y(),T("ngStyle",Ct(5,H$,o.colorStr)),y(),I("ngModel",o.r),y(),I("ngModel",o.g),y(),I("ngModel",o.b),y(),I("ngModel",o.a))},dependencies:[rc,qe,Cn,Ye,kd,gv,We],styles:['.wrapper[_ngcontent-%COMP%]{--width: 100px;width:var(--width)}.preview[_ngcontent-%COMP%]{--size: 40px;width:var(--width);height:var(--size);border-radius:5px}.inp[_ngcontent-%COMP%]{--padding: 5px;--border: 1px;width:calc(var(--width) - 2 * (var(--padding) + var(--border)));padding:var(--padding);margin-top:7px;border-radius:5px;border:var(--border) solid #ddd;transition:all .1s ease-in-out;outline:none;font-size:10pt;font-family:Segoe UI,Calibri,"sans-serif"}.inp[_ngcontent-%COMP%]:hover{border:var(--border) solid #999}.inp[_ngcontent-%COMP%]:active, .inp[_ngcontent-%COMP%]:focus{border:var(--border) solid #555}']})}return e})();const G$=["content"],W$=["wrapper"],q$=(e,t)=>({"top.px":e,"left.px":t});let Y$=(()=>{class e{constructor(){this.position={x:0,y:0}}ngOnInit(){}ngAfterViewInit(){this.content.createComponent(this.component).instance.data=this.data}getBoundingClientRect(){return this.wrapper.nativeElement.getBoundingClientRect()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-hover-menu"]],viewQuery:function(i,o){if(1&i&&(St(G$,5,nt),St(W$,5)),2&i){let r;vt(r=_t())&&(o.content=r.first),vt(r=_t())&&(o.wrapper=r.first)}},decls:4,vars:4,consts:[["wrapper",""],["content",""],[1,"wrapper",3,"ngStyle"]],template:function(i,o){1&i&&(p(0,"div",2,0),A(2,"div",null,1),m()),2&i&&T("ngStyle",ag(1,q$,o.position.y,o.position.x))},dependencies:[rc],styles:["@keyframes _ngcontent-%COMP%_start{0%{transform:scale(0)}to{transform:scale(1)}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;animation:.1s start ease-in-out;z-index:1}"]})}return e})(),Z$=(()=>{class e{constructor(n){this.vc=n,this.hoverTimeMs=750,this.version=0,this.eventListenerStart=()=>{if(!this.hoverMenu){const i=++this.version;setTimeout(()=>{this.version===i&&this.openHoverMenu()},this.hoverTimeMs)}},this.eventListenerEnd=i=>{if(this.hoverMenu&&i instanceof MouseEvent){let o={x:i.clientX,y:i.clientY};(!Ec(o,this.element.getBoundingClientRect())||i.target==this.element)&&(!Ec(o,this.hoverMenu.instance.getBoundingClientRect())||i.target==this.hoverMenu.location.nativeElement)&&(this.hoverMenu.destroy(),this.hoverMenu=void 0)}this.version=0},this.element=n.element.nativeElement,this.element.addEventListener("mouseover",this.eventListenerStart),this.element.addEventListener("mousemove",this.eventListenerStart),this.element.addEventListener("mouseleave",this.eventListenerEnd),this.element.addEventListener("click",()=>{this.version=0})}openHoverMenu(){if(!this.hoverMenu){this.hoverMenu=this.vc.createComponent(Y$),this.hoverMenu.instance.component=this.appHoverMenu.component,this.hoverMenu.instance.data=this.appHoverMenu.data;let n=this.element.getBoundingClientRect();this.hoverMenu.instance.position={x:n.x+n.width/2,y:n.y+n.height/2},this.hoverMenu.location.nativeElement.addEventListener("mouseleave",this.eventListenerEnd)}}static#e=this.\u0275fac=function(i){return new(i||e)(D(nt))};static#t=this.\u0275dir=G({type:e,selectors:[["","appHoverMenu",""]],inputs:{appHoverMenu:"appHoverMenu"}})}return e})();const Q$=(e,t)=>({"border-color":e,background:t}),X$=e=>({notVisible:e});let or=(()=>{class e{constructor(){this.color=pe,this.colorChange=new Ne,this.visible=!0,this.visibleChange=new Ne}ngOnInit(){}changeVisibility(){this.visible=!this.visible,this.visibleChange.emit(this.visible)}get colorStr(){return Rt(this.color)}get hoverMenu(){return{component:$$,data:{getter:()=>this.color,setter:n=>{this.color=n,this.colorChange.emit(n)}}}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-color-circle"]],inputs:{color:"color",visible:"visible"},outputs:{colorChange:"colorChange",visibleChange:"visibleChange"},decls:1,vars:8,consts:[[1,"colorPicker",3,"click","appHoverMenu","ngStyle","ngClass"]],template:function(i,o){1&i&&(p(0,"div",0),N("click",function(){return o.changeVisibility()}),m()),2&i&&T("appHoverMenu",o.hoverMenu)("ngStyle",ag(3,Q$,o.colorStr,o.colorStr))("ngClass",Ct(6,X$,!o.visible))},dependencies:[Un,rc,Z$],styles:[".colorPicker[_ngcontent-%COMP%]{--buttonSize: 46px;--borderThickness: 2px;float:left;width:calc(var(--buttonSize) - 2 * var(--borderThickness));height:calc(var(--buttonSize) - 2 * var(--borderThickness));border:var(--borderThickness) solid;border-radius:100%}.colorPicker.notVisible[_ngcontent-%COMP%]{background:transparent!important}"]})}return e})();function K$(e,t){if(1&e&&(p(0,"span"),b(1," von "),p(2,"span",7),b(3),m()()),2&e){const n=H();y(3),fe(n.canvasElement.description[1]())}}let J$=(()=>{class e extends Wn{constructor(n){super(),this.dialogService=n}get elementCountStr(){const n=this.canvasElement.size;return 0===n?"Keine Elemente":1===n?"Ein Element":`${n} Elemente`}static#e=this.\u0275fac=function(i){return new(i||e)(D(er))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-dependency-point-element-formula"]],features:[z],decls:9,vars:5,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[4,"ngIf"],[1,"elementCount"],[1,"iconButton","depositionTop","floatRight",3,"click"],["src","assets/threeDots.svg","alt","icon",1,"icon"],[1,"maths"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"app-color-circle",1),k("colorChange",function(s){return x(o.canvasElement.color,s)||(o.canvasElement.color=s),s})("visibleChange",function(s){return x(o.canvasElement.visible,s)||(o.canvasElement.visible=s),s}),m(),p(2,"p",2),b(3),Re(4,K$,4,1,"span",3),p(5,"span",4),b(6),m()(),p(7,"button",5),N("click",function(s){return o.threePointsClicked(s)}),A(8,"img",6),m()()),2&i&&(y(),I("color",o.canvasElement.color)("visible",o.canvasElement.visible),y(2),gn(" ",o.canvasElement.description[0],""),y(),T("ngIf",void 0!==o.canvasElement.description[1]()),y(2),fe(o.elementCountStr))},dependencies:[gs,or],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.elementCount[_ngcontent-%COMP%]{font-size:10pt;color:gray;margin-left:7px}']})}return e})();class wt extends Vt{constructor(t,n){super(),this.str=n,this.operation=t}get operation(){return this.childOperations.getItem(0)}set operation(t){this.childOperations.setItem(0,t)}simplify(){return this.operation=this.operation.simplify(),this}toString(){return`${this.str}(${this.operation.toString()})`}}class yn extends Vt{evaluate(t){let n=0;for(let i of this._summands)n+=i.evaluate(t);return n}derive(t){return new yn(...this._summands.map(n=>n.derive(t)))}get summands(){return this._summands.slice()}constructor(...t){super(),this._summands=t,this.childOperations.push(...t)}toString(){if(0==this._summands.length)return"0";{let t=`(${this._summands[0].toString()}`;for(let n=1;n<this._summands.length;n++)t+=` + ${this._summands[n].toString()}`;return t+=")",t}}simplify(){let t=0,n=this._summands.map(o=>o.simplify()).filter(o=>!(o instanceof te&&(t+=o.constant,1)));if(0!=t&&(n=[new te(t),...n]),0==n.length)return new te(0);if(1==n.length)return n[0];let i=[];for(let o of n)o instanceof yn?i.push(...o._summands):i.push(o);return i.length!=n.length?new yn(...i).simplify():new yn(...n)}}class $i extends Vt{evaluate(t){return this.minuend.evaluate(t)-this.subtrahend.evaluate(t)}derive(t){return new $i(this.minuend.derive(t),this.subtrahend.derive(t))}constructor(t,n){super(),this.minuend=t,this.subtrahend=n,this.childOperations.push(this.minuend,this.subtrahend)}toString(){return`(${this.minuend.toString()} - ${this.subtrahend.toString()})`}simplify(){let t=this.minuend.simplify(),n=this.subtrahend.simplify();if(n instanceof te){if(0==n.constant)return t;if(t instanceof te)return new te(t.constant-n.constant).simplify()}return t instanceof te&&0==t.constant?new De(new te(-1),n).simplify():t instanceof yn?new yn(...t.summands,new De(new te(-1),n)).simplify():n instanceof yn?new yn(t,new yn(...n.summands.map(i=>new De(new te(-1),i)))).simplify():new $i(t,n)}}class Fd extends wt{evaluate(t){return Math.log(this.operation.evaluate(t))}derive(t){return new sn(this.operation.derive(t),this.operation)}constructor(t){super(t,"ln")}toString(){return`ln (${this.operation.toString()})`}simplify(){let t=this.operation.simplify();if(t instanceof te){if(1==t.constant)return new te(0);if(t.constant==Math.E)return new te(1)}return new Fd(t)}}class Zt extends Vt{evaluate(t){return this.base.evaluate(t)**this.exponent.evaluate(t)}derive(t){return new De(new Zt(this.base,this.exponent),new yn(new De(this.exponent.derive(t),new Fd(this.base)),new De(this.exponent,new sn(this.base.derive(t),this.base))))}constructor(t,n){super(),this.base=t,this.exponent=n,this.childOperations.push(this.base,this.exponent)}toString(){return`((${this.base.toString()}) ^ (${this.exponent.toString()}))`}simplify(){let t=this.base.simplify(),n=this.exponent.simplify();if(n instanceof te){if(1==n.constant)return t;if(0==n.constant)return new te(1)}return t instanceof te&&1==t.constant?new te(1):t instanceof Zt?new Zt(t.base,new De(t.exponent,n)).simplify():new Zt(t,n)}}class sn extends Vt{evaluate(t){return this.dividend.evaluate(t)/this.divisor.evaluate(t)}derive(t){return new sn(new $i(new De(this.dividend.derive(t),this.divisor),new De(this.dividend,this.divisor.derive(t))),new Zt(this.divisor,new te(2)))}constructor(t,n){super(),this.dividend=t,this.divisor=n,this.childOperations.push(this.dividend,this.divisor)}toString(){return`(${this.dividend.toString()} / ${this.divisor.toString()})`}simplify(){const t=this.dividend.simplify(),n=this.divisor.simplify();if(n instanceof te&&1==n.constant)return t;if(t instanceof te&&0==t.constant)return new te(0);if(t instanceof sn)return new sn(t.dividend,new De(t.divisor,n)).simplify();if(n instanceof sn)return new sn(new De(t,n.divisor),n.dividend).simplify();if(n instanceof On&&t instanceof De){const i=t.factors;for(let o=0;o<i.length;o++){const r=i[o];if(r instanceof On&&r.key===n.key)return i.splice(o,1),new De(...i).simplify();if(r instanceof Zt&&r.base instanceof On&&r.base.key===n.key)return i.splice(o,1,new Zt(r.base,new $i(r.exponent,new te(1)))),new De(...i).simplify()}}if(n instanceof Zt&&n.base instanceof On&&t instanceof De){const i=t.factors;for(let o=0;o<i.length;o++){const r=i[o];if(r instanceof On&&r.key===n.base.key)return i.splice(o,1,new Zt(n.base,new $i(new te(1),n.exponent))),new De(...i).simplify();if(r instanceof Zt&&r.base instanceof On&&r.base.key===n.base.key)return i.splice(o,1,new Zt(r.base,new $i(r.exponent,n.exponent))),new De(...i).simplify()}}return new sn(t,n)}}class De extends Vt{evaluate(t){let n=1;for(let i of this._factors)n*=i.evaluate(t);return n}derive(t){let n=[];for(let i=0;i<this._factors.length;i++){let o=this._factors.map((r,s)=>s==i?r.derive(t):r);n.push(new De(...o))}return new yn(...n)}get factors(){return this._factors.slice()}constructor(...t){super(),this._factors=t,this.childOperations.push(...t)}toString(){if(0==this._factors.length)return"1";{let t=`(${this._factors[0].toString()}`;for(let n=1;n<this._factors.length;n++)t+=` * ${this._factors[n].toString()}`;return t+=")",t}}simplify(){let t=1,n=this._factors.map(o=>o.simplify()).filter(o=>!(o instanceof te&&(t*=o.constant,1)));if(1!==t&&(n=[new te(t),...n]),Um(n,o=>o instanceof te&&0==o.constant))return new te(0);if(0===n.length)return new te(1);if(1===n.length)return n[0];for(let o=0;o<n.length;o++){const r=n[o];if(r instanceof sn)return n.splice(o,1,r.dividend),new sn(new De(...n),r.divisor).simplify()}let i=[];for(let o of n)o instanceof De?i.push(...o._factors):i.push(o);return i.length!==n.length?new De(...i).simplify():new De(...n)}}class Gi extends wt{derive(t){return new De(this.operation.derive(t),new Gi(function e8(e){return e+"'"}(this.funcKey),this.funcProvider,this.operation))}evaluate(t){const n=this.func;if(void 0===n)throw"Func doesn't exist!";return n.evaluate(this.operation.evaluate(t),function X4(e){return JSON.parse(JSON.stringify(e))}(t))}constructor(t,n,i){super(i,t),this.funcKey=t,this.funcProvider=n}get func(){return this.funcProvider(this.funcKey)}}const Bx="'";function Mv(e){let t=[],n=[];if(e instanceof On&&t.push(e.key),e instanceof Gi){const i=e.func?.name;void 0!==i&&n.push(i)}return e.childOperations.forEach(i=>{let o=Mv(i);t.push(...o.variableNames),n.push(...o.externalFuncNames)}),t=eP(t),n=eP(n),{variableNames:t,externalFuncNames:n}}function zx(e,t=!0){return Ld(e,e,t)}function Ld(e,t,n=!1){if(e instanceof Hi)return Ld(e.operation,t);{if(e instanceof Gi&&(e.funcKey===t.name||n&&Vd(e.funcKey)===Vd(t.name)))return!0;let i=!1;if(e.childOperations.forEach(o=>{i=i||Ld(o,t)}),e instanceof Gi){const o=e.func;void 0!==o&&(i=i||Ld(o,t))}return i}}function yi(e,t){if(void 0===e)return!1;if(e instanceof Hi)return yi(e.operation,t);{if(e instanceof On&&e.key===t)return!0;let n=!1;return e.childOperations.forEach(i=>{n=n||yi(i,t)}),e instanceof Gi&&(n=n||yi(e.func,t)),n}}function Vd(e){if(!e)return;let t=e;for(;t.endsWith(Bx);)t=t.substring(0,t.length-1);return t}function Bd(e){let t=0,n=e;for(;n.endsWith(Bx);)n=n.substring(0,n.length-1),t++;return t}function Rc(e,t,n,i,o,r=!1,s=!0,a=!1){const c=(n+i)/2,l=(i-n)/2;if(o<=0)try{const u=[],d=e.evaluate(n,t),h=e.evaluate(i,t);if(!a&&0===d&&(!r||e.evaluate(n-l,t)*e.evaluate(n+l,t)<0)&&u.push(n),0===h&&(!r||e.evaluate(i-l,t)*e.evaluate(i+l,t)<0)&&u.push(i),d*h<0&&isFinite(d)&&isFinite(h))if(s){const f=function n8(e){try{const t=e.derive();return zx(t),t}catch{return}}(e);(!f||d*f.evaluate(n,t)<=0&&h*f.evaluate(i,t)>=0)&&u.push(c)}else u.push(c);return u}catch{return[]}return[...Rc(e,t,n,c,o-1,r,s,a),...Rc(e,t,c,i,o-1,r,s,!0)]}function jx(e,t,n,i,o){return Rc(e.derive(),t,n,i,o,!0)}let a8=(()=>{class e extends Wn{constructor(){super(),this.canvasElement=new K({x:0,y:0})}get name(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-point-formula"]],features:[z],decls:14,vars:7,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],["src","assets/threeDots.svg","alt","icon",1,"icon"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"app-color-circle",1),k("colorChange",function(s){return x(o.canvasElement.color,s)||(o.canvasElement.color=s),s})("visibleChange",function(s){return x(o.canvasElement.visible,s)||(o.canvasElement.visible=s),s}),m(),p(2,"div")(3,"p",2),A(4,"span"),b(5),p(6,"span")(7,"input",3),k("ngModelChange",function(s){return x(o.canvasElement.x,s)||(o.canvasElement.x=s),s}),m()(),b(8," | "),p(9,"span")(10,"input",3),k("ngModelChange",function(s){return x(o.canvasElement.y,s)||(o.canvasElement.y=s),s}),m()(),b(11," ) "),m()(),p(12,"button",4),N("click",function(s){return o.threePointsClicked(s)}),A(13,"img",5),m()()),2&i&&(y(),I("color",o.canvasElement.color)("visible",o.canvasElement.visible),y(4),gn(" ",o.name,"( "),y(2),T("disabled",o.canvasElement.dependent),I("ngModel",o.canvasElement.x),y(3),T("disabled",o.canvasElement.dependent),I("ngModel",o.canvasElement.y))},dependencies:[qe,Cn,Ye,We,or],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;-webkit-user-select:none;user-select:none}']})}return e})();class rr extends $m{get color(){return this._color}set color(t){this._color=t,this.svgLabel=void 0,this.onChange.emit(t)}get visible(){return this._visible}set visible(t){this._visible=t,this.onChange.emit(t)}get labelTranslateX(){return this._labelTranslate.x}set labelTranslateX(t){this._labelTranslate.x=t,this.onChange.emit(t)}get labelTranslateY(){return this._labelTranslate.y}set labelTranslateY(t){this._labelTranslate.y=t,this.onChange.emit(t)}get labelTranslate(){return{x:this._labelTranslate.x,y:this._labelTranslate.y}}set labelTranslate(t){this._labelTranslate={x:t.x,y:t.y},this.onChange.emit(t)}constructor(){super(),this.configuration={},this._color=pe,this._visible=!0,this._labelTranslate={x:0,y:0}}getPositionForLabel(t){}}class zd extends rr{constructor(t){super(),this.removeListener=n=>{void 0!==n&&n.removeCanvasElements(this)},this.addDependency(...t),this.onAdd.addListener(n=>{void 0!==n&&void 0!==this.resetTempListener&&n.onBeforeElementsDraw.addListener(this.resetTempListener)}),this.onRemove.addListener(n=>{void 0!==n&&void 0!==this.resetTempListener&&n.onBeforeElementsDraw.removeListener(this.resetTempListener)})}addDependency(...t){for(let n of t)n.onRemove.addListener(this.removeListener)}}class sr{}let c8=(()=>{class e extends sr{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(n){this.dialogData.configuration.name=n,this.dialogData.configuration.label=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(n)}get latex(){return!this.dialogData.configuration.dontUseLaTeX}set latex(n){this.dialogData.configuration.dontUseLaTeX=!n,this.dialogData.onChange.emit()}get displayBlack(){return this.dialogData.configuration.displayBlackLabel??!1}set displayBlack(n){this.dialogData.configuration.displayBlackLabel=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}get labelSize(){return this.dialogData.configuration.labelSizeFactor??1}set labelSize(n){this.dialogData.configuration.labelSizeFactor=n,this.dialogData.onChange.emit()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-view-point-element"]],features:[z],decls:28,vars:8,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths"],["title","Name","type","text",1,"input",3,"ngModelChange","ngModel"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Punkt bearbeiten"),m(),p(3,"p",2),A(4,"span"),p(5,"input",3),k("ngModelChange",function(s){return x(o.name,s)||(o.name=s),s}),m(),b(6," ( "),p(7,"span")(8,"input",4),k("ngModelChange",function(s){return x(o.dialogData.x,s)||(o.dialogData.x=s),s}),m()(),b(9," | "),p(10,"span")(11,"input",4),k("ngModelChange",function(s){return x(o.dialogData.y,s)||(o.dialogData.y=s),s}),m()(),b(12," ) "),m(),p(13,"div",5)(14,"input",6),k("ngModelChange",function(s){return x(o.latex,s)||(o.latex=s),s}),m(),p(15,"label",7),b(16,"Label als LaTeX rendern"),m()(),p(17,"div",8)(18,"input",9),k("ngModelChange",function(s){return x(o.displayBlack,s)||(o.displayBlack=s),s}),m(),p(19,"label",10),b(20,"Label schwarz anzeigen"),m()(),p(21,"div",11)(22,"label",12),b(23,"Labelgr\xf6\xdfe:"),m(),A(24,"br"),p(25,"input",13),k("ngModelChange",function(s){return x(o.labelSize,s)||(o.labelSize=s),s}),m()(),p(26,"button",14),N("click",function(){return o.dialog.close()}),b(27,"Schlie\xdfen"),m()()),2&i&&(y(5),I("ngModel",o.name),y(3),T("disabled",o.dialogData.dependent),I("ngModel",o.dialogData.x),y(3),T("disabled",o.dialogData.dependent),I("ngModel",o.dialogData.y),y(3),I("ngModel",o.latex),y(4),I("ngModel",o.displayBlack),y(7),I("ngModel",o.labelSize))},dependencies:[qe,Cn,Ui,zi,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;-webkit-user-select:none;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;-webkit-user-select:none;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})}return e})();class K extends zd{get stroke(){return this._stroke}set stroke(t){this._stroke=t,this.onChange.emit(t)}get strokeWidth(){return this._strokeWidth}set strokeWidth(t){this._strokeWidth=t,this.onChange.emit(t)}get radius(){return this._radius}set radius(t){this._radius=t,this.onChange.emit(t)}get x(){return this._x}set x(t){this.dependent||(this._x=t,this.onChange.emit(t))}get y(){return this._y}set y(t){this.dependent||(this._y=t,this.onChange.emit(t))}set point(t){this.dependent||this.forceSetPoint(t)}forceSetPoint(t){this._x=t?.x,this._y=t?.y,this.onChange.emit(t)}get point(){if(void 0!==this.x&&void 0!==this.y)return{x:this.x,y:this.y}}constructor(t,n=pe,i=!1,o=[],r=!0,s=!0){super(o),this.dependent=i,this.componentType=a8,this.formulaDialogType=c8,this._stroke={r:100,g:100,b:100},this._strokeWidth=3,this._radius=5,this.selected=!1,this._x=t?.x,this._y=t?.y,this._color=n,this._visible=r,this.configuration.showLabel=s}draw(t){const i=this.point;void 0!==i&&Ec(i,t.range,1.75*this.radius/t.zoom)&&((this.selected||-1!==t.selection.indexOf(this))&&t.drawCircle(i,1.75*this.radius,!0,{color:_n(this.color,.3)}),t.drawCircle(i,this.radius,!0,{color:this.color},{color:this.stroke,lineWidth:this.strokeWidth,uniformSizeOnZoom:!0}))}getDistance(t,n){const i=this.point;if(void 0!==i)return Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2)-this.radius/n.zoom}getPositionForLabel(t){const i=this.x,o=this.y;if(void 0!==i&&void 0!==o)return{x:i+15/t.zoom,y:o+15/t.zoom}}static getDefaultInstance(){return new K(void 0)}serialize(){return{data:{x:this.x,y:this.y,dependent:this.dependent},style:{color:this.color,stroke:this.stroke,size:this.radius,strokeWidth:this.strokeWidth,visible:this.visible}}}loadFrom(t,n,i){const o=n.data;this.forceSetPoint(void 0===o.x||void 0===o.y?void 0:{x:o.x,y:o.y}),this.dependent=o.dependent,this.loadStyle(n.style)}loadStyle(t){this.color=t.color,this.visible=t.visible,this.radius=t.size??this.radius,this.stroke=t.stroke??this.stroke,this.strokeWidth=t.strokeWidth??this.strokeWidth}}class l8 extends rP{draw(t){if(void 0===t.config?.showGrid||t.config.showGrid){const n=Gn(t.range),i=99/t.zoom,o=2,r=Math.round(Math.log(i)/Math.log(o)+.5);let s=Math.round(i/o**r+.5)*o**r;if(0==s)return;const a=t.config?.showNumbers??!0,c=15/t.zoom,l=JS(n.y+c,-c,n.y+n.height-c),u=l==n.y+c,d=JS(n.x+c,-c,n.x+n.width-c),h=d==n.x+c,f=15,g="sans-serif",v=t.config?.gridColor??{r:100,g:100,b:100};for(let _=n.x-n.x%(s/o);_<n.x+n.width;_+=s/o){let C=_%s==0;if(t.drawLine({x:_,y:n.y},{x:_,y:n.y+n.height},{lineWidth:0===_?3:C?1:.5,color:v,uniformSizeOnZoom:!0}),0===_){const w=15/t.zoom,O=.5/t.zoom,W={x:_+O,y:n.y+n.height+3/t.zoom};t.drawPath([W,{x:_-w/4+O,y:n.y+n.height-w},{x:_+w/4+O,y:n.y+n.height-w},W],{lineWidth:0,color:v,uniformSizeOnZoom:!0},{color:v})}else C&&a&&t.drawText(_.toLocaleString(),{x:_,y:l},{fontSize:[f,"px"],fontFamily:[g],textAlign:"center",textBaseline:u?"bottom":"top",color:pe,uniformSizeOnZoom:!0})}for(let _=n.y-n.y%(s/o);_<n.y+n.height;_+=s/o){let C=_%s==0;if(t.drawLine({x:n.x,y:_},{x:n.x+n.width,y:_},{lineWidth:0===_?3:C?1:.5,color:v,uniformSizeOnZoom:!0}),0===_){const w=15/t.zoom,O=.5/t.zoom,W={x:n.x+n.width+3/t.zoom,y:_+O};t.drawPath([W,{x:n.x+n.width-w,y:_-w/4+O},{x:n.x+n.width-w,y:_+w/4+O},W],{lineWidth:0,color:v,uniformSizeOnZoom:!0},{color:v})}else C&&a&&t.drawText(_.toLocaleString(),{x:d,y:_},{fontSize:[f,"px"],fontFamily:[g],textAlign:h?"left":"right",textBaseline:"middle",color:pe,uniformSizeOnZoom:!0})}n.y<=-c&&n.y+n.height>=-c&&n.x<=-c&&n.x+n.width>=-c&&a&&t.drawText("0",{x:-c,y:-c},{fontSize:[f,"px"],fontFamily:[g],textAlign:"right",textBaseline:"top",uniformSizeOnZoom:!0,color:pe})}}}class Dv extends Vt{evaluate(t){return this.value.evaluate(t)%this.modulo.evaluate(t)}derive(){throw"not implemented yet"}constructor(t,n){super(),this.value=t,this.modulo=n,this.childOperations.push(this.value,this.modulo)}toString(){return`(${this.value.toString()} % ${this.modulo.toString()})`}simplify(){return new Dv(this.value.simplify(),this.modulo.simplify())}}class Ev extends wt{evaluate(t){return Math.cos(this.operation.evaluate(t))}derive(t){return new De(new te(-1),this.operation.derive(t),new Hx(this.operation))}constructor(t){super(t,"cos")}toString(){return`cos(${this.operation.toString()})`}}class Hx extends wt{evaluate(t){return Math.sin(this.operation.evaluate(t))}derive(t){return new De(this.operation.derive(t),new Ev(this.operation))}constructor(t){super(t,"sin")}}class u8 extends wt{evaluate(t){return Math.tan(this.operation.evaluate(t))}derive(t){return new sn(this.operation.derive(t),new Zt(new Ev(this.operation),new te(2)))}constructor(t){super(t,"tan")}}class d8 extends wt{evaluate(t){return 1/Math.cos(this.operation.evaluate(t))}derive(){throw"not implemented yet"}constructor(t){super(t,"sec")}}class h8 extends wt{evaluate(t){return 1/Math.sin(this.operation.evaluate(t))}derive(){throw"not implemented yet"}constructor(t){super(t,"csc")}}class f8 extends wt{evaluate(t){return 1/Math.tan(this.operation.evaluate(t))}derive(){throw"not implemented yet"}constructor(t){super(t,"cot")}}class p8 extends wt{evaluate(t){return Math.asin(this.operation.evaluate(t))}derive(){throw"not implemented yet"}constructor(t){super(t,"asin")}}class g8 extends wt{evaluate(t){return Math.acos(this.operation.evaluate(t))}derive(){throw"not implemented yet"}constructor(t){super(t,"acos")}}class m8 extends wt{evaluate(t){return Math.atan(this.operation.evaluate(t))}derive(){throw"not implemented yet"}constructor(t){super(t,"atan")}}class v8 extends wt{evaluate(t){return Math.acos(1/this.operation.evaluate(t))}derive(){throw"not implemented yet"}constructor(t){super(t,"asec")}}class _8 extends wt{evaluate(t){return Math.asin(1/this.operation.evaluate(t))}derive(){throw"not implemented yet"}constructor(t){super(t,"acsc")}}class C8 extends wt{evaluate(t){return Math.PI/2-Math.atan(this.operation.evaluate(t))}derive(){throw"not implemented yet"}constructor(t){super(t,"acot")}}class Sv extends Vt{evaluate(t){return this.base.evaluate(t)**(1/this.exponent.evaluate(t))}derive(t){return new Zt(this.base,new sn(new te(1),this.exponent)).derive(t)}constructor(t,n){super(),this.base=t,this.exponent=n,this.childOperations.push(this.base,this.exponent)}toString(){return`((${this.base.toString()}) ^ (1 / (${this.exponent.toString()})))`}simplify(){let t=this.base.simplify(),n=this.exponent.simplify();return n instanceof te&&1==n.constant?t:t instanceof te&&1==t.constant?new te(1):new Sv(t,n)}}class y8 extends te{constructor(){super(Math.PI)}toString(){return"pi"}}class b8 extends te{constructor(){super(Math.E)}toString(){return"e"}}class w8 extends wt{constructor(t){super(t,"abs")}derive(){throw"not implemented yet"}evaluate(t){return Math.abs(this.operation.evaluate(t))}}class M8 extends wt{constructor(t){super(t,"sgn")}derive(){throw"not implemented yet"}evaluate(t){return Math.sign(this.operation.evaluate(t))}}class $x extends wt{evaluate(t){return Math.cosh(this.operation.evaluate(t))}derive(t){return new De(this.operation.derive(t),new Gx(this.operation))}constructor(t){super(t,"cosh")}}class Gx extends wt{evaluate(t){return Math.sinh(this.operation.evaluate(t))}derive(t){return new De(this.operation.derive(t),new $x(this.operation))}constructor(t){super(t,"sinh")}}const Wx=[["^",(e,t)=>new Zt(e,t)]],qx=[["*",(e,t)=>new De(e,t)],["/",(e,t)=>new sn(e,t)],["%",(e,t)=>new Dv(e,t)]],Yx=[["+",(e,t)=>new yn(e,t)],["-",(e,t)=>new $i(e,t)]],Zx=[...Wx,...qx,...Yx],D8=Wx.map(e=>e[0]),E8=qx.map(e=>e[0]),S8=Yx.map(e=>e[0]),Rs=Zx.map(e=>e[0]),P8=[["sin",e=>new Hx(e)],["asin",e=>new p8(e)],["csc",e=>new h8(e)],["acsc",e=>new _8(e)],["cos",e=>new Ev(e)],["acos",e=>new g8(e)],["sec",e=>new d8(e)],["asec",e=>new v8(e)],["tan",e=>new u8(e)],["atan",e=>new m8(e)],["cot",e=>new f8(e)],["acot",e=>new C8(e)],["ln",e=>new Fd(e)],["sqrt",e=>new Sv(e,new te(2))],["abs",e=>new w8(e)],["sgn",e=>new M8(e)],["sinh",e=>new Gx(e)],["cosh",e=>new $x(e)]],x8=[["pi",()=>new y8],["e",()=>new b8]],Fc=[" ","\t","\r","\n"],mo=["(","["],Ud=[")","]"],jd=[...mo,...Ud],Qx=[...Fc,...Rs,...jd],O8=[["**","^"],["\xb2","^2"],["\xb3","^3"]],T8=[["arcsin","asin"],["arccos","acos"],["arctan","atan"],["arcsec","asec"],["arccsc","acsc"],["arccot","acot"],["sign","sgn"]],I8=[["\u03c0","pi"]],Wi="syntax error";class Xx{constructor(t,n,i=[]){this.str=t,this.funcProvider=n,this.changingVariables=i}formatString(){if(!this.formattedString){this.formattedString=this.str.trim();for(let t of O8)this.formattedString=$4(this.formattedString,t[0],t[1])}return this.formattedString}splitString(){if(!this.stringSplit){if(!this.formattedString)throw"string not formatted yet";{this.stringSplit=[];let t="";for(let n=0;n<this.formattedString.length;n++){let i=!1,o=this.formattedString.charAt(n);(-1!==[...Rs,...Fc,...jd].indexOf(o)||-1!==[...Rs,...jd].indexOf(t)||Sc(t)&&!Sc(t+o))&&(i=!0),i&&""!==t&&(this.stringSplit.push(t),t=""),-1===Fc.indexOf(o)&&(t+=o)}""!=t&&this.stringSplit.push(t);for(let n=0;n<this.stringSplit.length-1;n++)n+1==this.stringSplit.length||Ft(mo,this.stringSplit[n])||Ft(Ud,this.stringSplit[n+1])||Ft(mo,this.stringSplit[n+1])&&!Ft(Ud,this.stringSplit[n])&&!Sc(this.stringSplit[n])||Ft(Rs,this.stringSplit[n])||Ft(Rs,this.stringSplit[n+1])||Sc(this.stringSplit[n+1])?"+"!=this.stringSplit[n]||0!=n&&!Ft(mo,this.stringSplit[n-1])?"-"==this.stringSplit[n]&&(0==n||Ft(mo,this.stringSplit[n-1]))&&this.stringSplit.splice(n,1,"-1","*"):(this.stringSplit.splice(n,1),n--):this.stringSplit.splice(n+1,0,"*")}}return this.stringSplit}parseToTree(){if(!this.parseTree){if(!this.stringSplit)throw"string not split yet";{let t=n=>{if(0==n.length)throw Wi;if(1==n.length){const i=n[0];if("string"==typeof i){if(!Ft(Qx,i))return{value:tP(i,I8)};throw Wi}return i}{let i=[...n];for(;Ft(i,...mo);){let r=zm(i,...mo),s=Z4(i,mo,Ud,r,Wi)+1,a=i.splice(r,s-r);i.splice(r,0,t(a.splice(1,s-r-2)))}let o=(r,s)=>"string"==typeof r&&"string"!=typeof s&&!Ft(Qx,r);for(;q4(i,o);){let r=W4(i,o);if(r==i.length-1)throw Wi;let s=tP(i[r],T8),a=i[r+1];if(Ft(jd,a)||Ft(Rs,a))throw Wi;i.splice(r,2,{value:s,first:t([a])})}for(let r of[D8,E8,S8])for(;Ft(i,...r);){let s=zm(i,...r);if(-1==s||0==s||s==i.length-1)throw Wi;{let a=i.splice(s-1,3),c={value:a[1],first:t([a[0]]),second:t([a[2]])};i.splice(s-1,0,c)}}if(1==i.length){let r=i[0];if("string"!=typeof r)return r}throw Wi}};this.parseTree=t(this.stringSplit)}}return this.parseTree}createOperation(){if(!this.operation){if(!this.parseTree)throw"tree not created yet";{let t=n=>{if(void 0!==n.first&&void 0!==n.second){for(let i of Zx)if(n.value===i[0])return i[1](t(n.first),t(n.second))}else{if(void 0!==n.first&&void 0===n.second){for(let i of P8)if(n.value===i[0])return i[1](t(n.first));return new Gi(n.value,this.funcProvider,t(n.first))}if(void 0===n.first&&void 0===n.second){if(Sc(n.value))return new te(XS(n.value));for(let i=0;i<this.changingVariables.length;i++)if(this.changingVariables[i]===n.value)return new On(n.value,i);for(let i of x8)if(n.value===i[0])return i[1]();return new On(n.value)}}throw Wi};this.operation=t(this.parseTree)}}return this.operation}parse(){return this.formatString(),this.splitString(),this.parseToTree(),this.createOperation()}}const Kx="couldn't split the function",Pv=["="];class k8{constructor(t,n){this.str=t,this.funcProvider=n}splitString(){if(!this.funcOperation||!this.funcMetaData)if(md(this.str,...Pv)){const t=KS(this.str,...Pv);let n=this.str.slice(0,t).trim(),i=this.str.slice(t+1,this.str.length);if(md(i,...Pv)||0===n.length)throw Kx;if(this.funcOperation=i,"y"==n)this.funcMetaData={variable:"x"};else{let o=n.split(/(\(|\))/).map(r=>r.trim()).filter(r=>""!==r);if(4!==o.length||md(o[0],...Fc)||md(o[2],...Fc)||"("!=o[1]||")"!=o[3]||0===o[0].length||-1==="abcdefghijklmnopqrstuvwxyz_".indexOf(o[0].charAt(0).toLowerCase()))throw Kx;this.funcMetaData={name:o[0],variable:o[2]}}}else this.funcOperation=this.str,this.funcMetaData={variable:"x"};return[this.funcMetaData,this.funcOperation]}parseOperation(){if(this.funcOperation&&this.funcMetaData){if(!this.func){let n=new Xx(this.funcOperation,this.funcProvider,[this.funcMetaData.variable]).parse();this.func=new Hi(n,this.funcMetaData.name,this.funcMetaData.variable)}return this.func}throw"func not split yet!"}parse(){return this.splitString(),this.parseOperation()}}let A8=(()=>{class e extends Wn{constructor(){super(),this.min=-5,this.max=5,this._canvasElement=new vo("",0)}ngOnInit(){}set canvasElement(n){this._canvasElement=n,n.onChange.addListener(()=>{this.setMinMax(this.canvasElement.value)})}get canvasElement(){return this._canvasElement}setMinMax(n){this.min=Math.min(n,this.min),this.max=Math.max(n,this.max)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-variable-formula"]],features:[z],decls:7,vars:5,consts:[[1,"text"],[1,"span"],["type","number","step","any",1,"input",3,"ngModelChange","ngModel"],[1,"iconButton","floatRight",3,"click"],["src","assets/threeDots.svg","alt","icon",1,"icon"],["type","range","step","any",1,"slider",3,"ngModelChange","ngModel","min","max"]],template:function(i,o){1&i&&(p(0,"span",0),b(1),m(),p(2,"span",1)(3,"input",2),k("ngModelChange",function(s){return x(o.canvasElement.value,s)||(o.canvasElement.value=s),s}),m()(),p(4,"button",3),N("click",function(s){return o.threePointsClicked(s)}),A(5,"img",4),m(),p(6,"input",5),k("ngModelChange",function(s){return x(o.canvasElement.value,s)||(o.canvasElement.value=s),s}),m()),2&i&&(y(),gn("",o.canvasElement.key," = "),y(2),I("ngModel",o.canvasElement.value),y(3),I("ngModel",o.canvasElement.value),T("min",o.min)("max",o.max))},dependencies:[qe,Cn,Ui,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.text[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{height:30px;font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.text[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.span[_ngcontent-%COMP%]{--padding: 7px;--border: 1px;display:inline-flex;overflow:hidden;right:0;margin-right:0;padding-right:calc(2 * (var(--padding) + var(--border)))}.input[_ngcontent-%COMP%]{width:200px}.slider[_ngcontent-%COMP%]{width:100%;margin-top:16px}']})}return e})();class vo extends rr{draw(){}constructor(t,n){super(),this.componentType=A8,this.formulaDialogType=void 0,this._key=t,this._value=n,this.visible=!1}get value(){return this._value}set value(t){this._value=t,this.onChange.emit(t)}get key(){return this._key}set key(t){this._key=t,this.onChange.emit(t)}static getDefaultInstance(){return new vo("",0)}serialize(){return{data:{value:this.value,key:this.key},style:{color:this.color,visible:this.visible}}}loadFrom(t,n){const i=n.data;this.color=n.style.color,this.visible=n.style.visible,this.key=i.key,this.value=i.value}}class N8 extends iP{}class bi extends N8{pointerMove(t,n,i,o,r){t.translateX+=(o.x-i.x)/r.pointerCount,t.translateY+=(o.y-i.y)/r.pointerCount}click(t,n,i,o){t.setSelection(i,!o.ctrlKey)}}function Hd(e,t){if(void 0!==e&&void 0!==t){const n=t.y-e.y,i=e.x-t.x;return{a:n,b:i,c:n*e.x+i*e.y}}}function xv(e){if(void 0!==e&&(0!==e.a||0!==e.b))return 0===e.a?[{x:0,y:e.c/e.b},{x:1,y:e.c/e.b}]:[{x:e.c/e.a,y:0},{x:(e.c-e.b)/e.a,y:1}]}function Ov(e,t){const n=e.b,i=-e.a;return{a:n,b:i,c:n*t.x+i*t.y}}function Lc(e,t){if(void 0!==e&&void 0!==t)return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function Tv(e,t){const n=Hd(e,t);return void 0===n||void 0===e||void 0===t?[void 0,void 0]:xv(Ov(n,Lc(e,t)))??[void 0,void 0]}function Jx(e,t,n){if(void 0===e||void 0===t||void 0===n)return[[void 0,void 0],[void 0,void 0]];const o=Lc(e,t),r=Iv(t,n,o,ho(o,e));return[[e,r[0]],[e,r[1]]]}function Fs(e,t){const n=e.b*t.a-e.a*t.b;if(0===n)return;const o=(e.c*t.a-e.a*t.c)/n;return{y:o,x:0!==e.a?(e.c-e.b*o)/e.a:(t.c-t.b*o)/t.a}}function $d(e,t,n){if(0===e.a){if(0===e.b)return[void 0,void 0];const l=$d({a:e.b,b:e.a,c:e.c},{x:t.y,y:t.x},n);return[void 0===l[0]?void 0:{x:l[0].y,y:l[0].x},void 0===l[1]?void 0:{x:l[1].y,y:l[1].x}]}const i=(e.b/e.a)**2+1,o=-2*e.c*e.b/e.a**2-2*t.y+2*e.b*t.x/e.a,s=o**2-4*i*(e.c**2/e.a**2+t.x**2+t.y**2-n**2-2*e.c*t.x/e.a);if(s<0)return[void 0,void 0];if(0===s){const a=-o/(2*i);return[{x:(e.c-e.b*a)/e.a,y:a},void 0]}{const a=(-o-Math.sqrt(s))/(2*i),c=(-o+Math.sqrt(s))/(2*i);return[{x:(e.c-e.b*a)/e.a,y:a},{x:(e.c-e.b*c)/e.a,y:c}]}}function Iv(e,t,n,i){const o=v=>{const _=t**2-v**2;return _<0?[void 0,void 0]:0===_?[{x:0,y:v},void 0]:[{x:Math.sqrt(_),y:v},{x:-Math.sqrt(_),y:v}]},r=v=>void 0===v?Number.MAX_VALUE:Math.abs((v.x-n.x)**2+(v.y-n.y)**2-i*i);if(0!==e.x||0!==e.y)return Iv({x:0,y:0},t,{x:n.x-e.x,y:n.y-e.y},i).map(_=>{if(void 0!==_)return{x:_.x+e.x,y:_.y+e.y}});const s=n.x,a=n.y,c=i*i-t*t-s*s-a*a,l=s*s*4+a*a*4,u=4*c*a,h=u**2-4*l*(s*s*-4*(t*t)+c*c);if(0===l||h<0)return[void 0,void 0];if(0===h)return[o(-u/(2*l)).sort((C,w)=>r(C)-r(w))[0],void 0];const g=[...o((-u+Math.sqrt(h))/(2*l)),...o((-u-Math.sqrt(h))/(2*l))].sort((v,_)=>r(v)-r(_));return[g[0],g[1]]}function _o(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}let B8=(()=>{class e extends sr{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(n){this.dialogData.configuration.name=n,this.dialogData.configuration.label=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(n)}get abcForm(){const n=this.dialogData.getABCFormLine();if(void 0===n)return"kann nicht konstruiert werden";const i=100,o=Math.round(n.a*i)/i,r=Math.round(n.b*i)/i,s=Math.round(n.c*i)/i;return`${o.toLocaleString()} \xb7 x + ${r.toLocaleString()} \xb7 y = ${s.toLocaleString()}`}get dashed(){return!0===this.dialogData.configuration.dashed}set dashed(n){this.dialogData.configuration.dashed=n,this.dialogData.onChange.emit()}get latex(){return!this.dialogData.configuration.dontUseLaTeX}set latex(n){this.dialogData.configuration.dontUseLaTeX=!n,this.dialogData.onChange.emit()}get displayBlack(){return this.dialogData.configuration.displayBlackLabel??!1}set displayBlack(n){this.dialogData.configuration.displayBlackLabel=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}get labelSize(){return this.dialogData.configuration.labelSizeFactor??1}set labelSize(n){this.dialogData.configuration.labelSizeFactor=n,this.dialogData.onChange.emit()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-view-abstract-line-element"]],features:[z],decls:29,vars:6,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Allgemeine Geradenform:"),m(),p(3,"p",2),A(4,"span"),p(5,"input",3),k("ngModelChange",function(s){return x(o.name,s)||(o.name=s),s}),m(),b(6," : "),m(),p(7,"p",4)(8,"span"),b(9),m()(),p(10,"div",5)(11,"input",6),k("ngModelChange",function(s){return x(o.dashed,s)||(o.dashed=s),s}),m(),p(12,"label",7),b(13,"Gestrichelt anzeigen"),m()(),p(14,"div",8)(15,"input",9),k("ngModelChange",function(s){return x(o.latex,s)||(o.latex=s),s}),m(),p(16,"label",10),b(17,"Label als LaTeX rendern"),m()(),p(18,"div",11)(19,"input",12),k("ngModelChange",function(s){return x(o.displayBlack,s)||(o.displayBlack=s),s}),m(),p(20,"label",13),b(21,"Label schwarz anzeigen"),m()(),p(22,"div",14)(23,"label",15),b(24,"Labelgr\xf6\xdfe:"),m(),A(25,"br"),p(26,"input",16),k("ngModelChange",function(s){return x(o.labelSize,s)||(o.labelSize=s),s}),m()(),p(27,"button",17),N("click",function(){return o.dialog.close()}),b(28,"Schlie\xdfen"),m()()),2&i&&(y(5),I("ngModel",o.name),y(4),fe(o.abcForm),y(2),I("ngModel",o.dashed),y(4),I("ngModel",o.latex),y(4),I("ngModel",o.displayBlack),y(7),I("ngModel",o.labelSize))},dependencies:[qe,Ui,zi,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;-webkit-user-select:none;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;-webkit-user-select:none;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})}return e})();class wi extends zd{get point1(){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[0]}get point2(){return null==this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[1]}get pointsProvider(){return this._pointsProvider}set pointsProvider(t){this._pointsProvider=t,this.onChange.emit(t)}constructor(t,n,i={r:0,g:0,b:0},o,r=!0,s=3,a=!0){super(n),this.lineWidth=s,this.formulaDialogType=B8,this.resetTempListener=()=>{this._tempPoints=void 0},this.configuration.formula=o,this.configuration.showLabel=a,this._color=i,this._visible=r,this._pointsProvider=t}getDistance(t,n){const i=this.getClosestPointOnLineToPoint(t);if(void 0!==i)return ho(t,i)}getABCFormLine(){return Hd(this.point1,this.point2)}getClosestPointOnLineToPoint(t){const n=this.getABCFormLine();if(void 0!==n)return Fs(n,Ov(n,t))}}let Vc=(()=>{class e extends Wn{constructor(){super(),this.canvasElement=new _e(()=>[void 0,void 0],[],()=>({subType:"",els:[]}))}ngOnInit(){}get labelString(){const n=this.canvasElement.configuration.formula,i=this.canvasElement.configuration.label;return void 0!==i&&void 0!==n?n+" "+i:void 0!==i?i:void 0!==n?n:" "}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-geometric-formula"]],features:[z],decls:7,vars:3,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],["src","assets/threeDots.svg","alt","icon",1,"icon"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"app-color-circle",1),k("colorChange",function(s){return x(o.canvasElement.color,s)||(o.canvasElement.color=s),s})("visibleChange",function(s){return x(o.canvasElement.visible,s)||(o.canvasElement.visible=s),s}),m(),p(2,"p",2)(3,"span"),b(4),m()(),p(5,"button",3),N("click",function(s){return o.threePointsClicked(s)}),A(6,"img",4),m()()),2&i&&(y(),I("color",o.canvasElement.color)("visible",o.canvasElement.visible),y(3),fe(o.labelString))},dependencies:[or],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;-webkit-user-select:none;user-select:none;height:var(--buttonSize);line-height:var(--buttonSize)}']})}return e})();class Bt extends wi{draw(t){const n=this.point1,i=this.point2;void 0!==n&&void 0!==i&&!QS(n,i)&&(-1!==t.selection.indexOf(this)&&t.drawPath([n,i],{lineWidth:this.lineWidth*cr,color:_n(this._color,Uc),uniformSizeOnZoom:!0,lineDash:xn(this.configuration.dashed)}),t.drawPath([n,i],{lineWidth:this.lineWidth,color:this.color,uniformSizeOnZoom:!0,lineDash:xn(this.configuration.dashed)}))}getDistance(t,n){const i=this.getClosestPointOnLineToPoint(t),o=this.point1,r=this.point2;if(void 0!==i&&void 0!==o&&void 0!==r)return rt(i.x,o.x,r.x)&&rt(i.y,o.y,r.y)?ho(t,i):Math.min(ho(o,i),ho(r,i))}getPositionForLabel(t){const n=t.zoom,o=Lc(this.point1,this.point2);if(void 0!==o)return{x:o.x+15/n,y:o.y+15/n}}constructor(t,n,i,o={r:0,g:0,b:0},r,s=!0,a=3,c=!0){super(t,n,o,r,s,a,c),this.dataProvider=i,this.componentType=Vc}static getDefaultInstance(){return new Bt(()=>[void 0,void 0],[],()=>({p1:-1,p2:-1}))}serialize(){return{data:this.dataProvider(),style:{color:this.color,visible:this.visible,size:this.lineWidth}}}loadFrom(t,n){this.color=n.style.color,this.visible=n.style.visible,this.lineWidth=n.style.size??this.lineWidth;const i=n.data,o=t[i.p1],r=t[i.p2];o instanceof K&&r instanceof K&&(this.pointsProvider=()=>[o.point,r.point],this.dataProvider=()=>({p1:o.id,p2:r.id}),this.addDependency(o,r))}}function z8(e,t){if(1&e&&(p(0,"table")(1,"tr")(2,"td")(3,"p",15),b(4,"Radius:"),m()(),p(5,"td")(6,"p",16)(7,"span"),b(8),m()()()(),p(9,"tr")(10,"td")(11,"p",15),b(12,"Mittelpunkt:"),m()(),p(13,"td")(14,"p",16),b(15),m()()()()),2&e){const n=H();y(8),fe(n.radius),y(7),Ya("( ",n.pointX," | ",n.pointY," )")}}function U8(e,t){1&e&&(p(0,"div")(1,"p",16),b(2,"Kreis konnte nicht konstruiert werden."),m()())}let j8=(()=>{class e extends sr{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(n){this.dialogData.configuration.name=n,this.dialogData.configuration.label=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(n)}isDefined(){return void 0!==this.dialogData.point&&void 0!==this.dialogData.radius}get radius(){return(Math.round(100*this.dialogData.radius)/100).toLocaleString()}get pointX(){return(Math.round(100*this.dialogData.point.x)/100).toLocaleString()}get pointY(){return(Math.round(100*this.dialogData.point.y)/100).toLocaleString()}get latex(){return!this.dialogData.configuration.dontUseLaTeX}set latex(n){this.dialogData.configuration.dontUseLaTeX=!n,this.dialogData.onChange.emit()}get displayBlack(){return this.dialogData.configuration.displayBlackLabel??!1}set displayBlack(n){this.dialogData.configuration.displayBlackLabel=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}get labelSize(){return this.dialogData.configuration.labelSizeFactor??1}set labelSize(n){this.dialogData.configuration.labelSizeFactor=n,this.dialogData.onChange.emit()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-view-circle-element"]],features:[z],decls:24,vars:6,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],[4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"paragraph"],[1,"paragraph","maths","centered"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Kreis:"),m(),p(3,"p",2),A(4,"span"),p(5,"input",3),k("ngModelChange",function(s){return x(o.name,s)||(o.name=s),s}),m(),b(6," : "),m(),p(7,"div",4)(8,"input",5),k("ngModelChange",function(s){return x(o.latex,s)||(o.latex=s),s}),m(),p(9,"label",6),b(10,"Label als LaTeX rendern"),m()(),p(11,"div",7)(12,"input",8),k("ngModelChange",function(s){return x(o.displayBlack,s)||(o.displayBlack=s),s}),m(),p(13,"label",9),b(14,"Label schwarz anzeigen"),m()(),p(15,"div",10)(16,"label",11),b(17,"Labelgr\xf6\xdfe:"),m(),A(18,"br"),p(19,"input",12),k("ngModelChange",function(s){return x(o.labelSize,s)||(o.labelSize=s),s}),m()(),Re(20,z8,16,3,"table",13)(21,U8,3,0,"div",13),p(22,"button",14),N("click",function(){return o.dialog.close()}),b(23,"Schlie\xdfen"),m()()),2&i&&(y(5),I("ngModel",o.name),y(3),I("ngModel",o.latex),y(4),I("ngModel",o.displayBlack),y(7),I("ngModel",o.labelSize),y(),T("ngIf",o.isDefined()),y(),T("ngIf",!o.isDefined()))},dependencies:[gs,qe,Ui,zi,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;-webkit-user-select:none;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}td[_ngcontent-%COMP%]{padding-left:16px;padding-top:7px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;-webkit-user-select:none;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})}return e})();class Qt extends zd{get point(){return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),this._tempPoint}get pointProvider(){return this._pointProvider}set pointProvider(t){this._pointProvider=t,this.onChange.emit(t)}get radius(){return void 0===this._tempRadius&&(this._tempRadius=this._radiusProvider()),this._tempRadius}get radiusProvider(){return this._radiusProvider}set radiusProvider(t){this._radiusProvider=t,this.onChange.emit(t)}constructor(t,n,i,o,r={r:0,g:0,b:0},s,a=!0,c=3,l=!0){super(i),this.dataProvider=o,this.lineWidth=c,this.componentType=Vc,this.formulaDialogType=j8,this.resetTempListener=()=>{this._tempPoint=void 0,this._tempRadius=void 0},this.configuration.formula=s,this.configuration.showLabel=l,this._color=r,this._visible=a,this._pointProvider=t,this._radiusProvider=n}draw(t){const n=this.point,i=this.radius;void 0!==n&&void 0!==i&&(-1!==t.selection.indexOf(this)&&t.drawCircle(n,i,!0,{color:_i},{color:_n(this._color,Uc),uniformSizeOnZoom:!0,lineWidth:this.lineWidth*cr,lineDash:xn(this.configuration.dashed)}),t.drawCircle(n,i,!0,{color:_i},{color:this.color,uniformSizeOnZoom:!0,lineWidth:this.lineWidth,lineDash:xn(this.configuration.dashed)}))}getPositionForLabel(t){const n=15/t.zoom,i=this.point,o=this.radius;if(void 0!==i&&void 0!==o)return{x:i.x+o/Math.SQRT2+n,y:i.y+o/Math.SQRT2+n}}getDistance(t,n){const i=this.point,o=this.radius;if(void 0!==i&&void 0!==o)return Math.abs(ho(i,t)-o)}static getDefaultInstance(){return new Qt(()=>{},()=>{},[],()=>({center:-1,scdPoint:-1}))}serialize(){return{style:{color:this.color,size:this.lineWidth,visible:this.visible},data:this.dataProvider()}}loadFrom(t,n){if(void 0!==n.data.center&&void 0!==n.data.scdPoint){const i=t[n.data.center],o=t[n.data.scdPoint];i instanceof K&&o instanceof K&&(this.pointProvider=()=>i.point,this.radiusProvider=()=>function j4(e,t){if(void 0!==e&&void 0!==t)return ho(e,t)}(i.point,o.point),this.dataProvider=()=>({center:i.id,scdPoint:o.id}),this.addDependency(i,o)),this.color=n.style.color,this.lineWidth=n.style.size??this.lineWidth,this.visible=n.style.visible}}}const e1="angle_bisector",kv="bisection",t1="connection",n1="orthogonal",i1="parallel",Av="tangens";class _e extends wi{draw(t){const n=this.point1,i=this.point2;if(void 0!==n&&void 0!==i&&!QS(n,i)){const o=t.range,r=this.getABCFormLine();let s,a;0===r.a?(s={x:o.x,y:r.c/r.b},a={x:o.x+o.width,y:r.c/r.b}):r.a>r.b||0===r.b?(s={x:(r.c-r.b*o.y)/r.a,y:o.y},a={x:(r.c-r.b*(o.y+o.height))/r.a,y:o.y+o.height}):(s={x:o.x,y:(r.c-r.a*o.x)/r.b},a={x:o.x+o.width,y:(r.c-r.a*(o.x+o.width))/r.b}),-1!==t.selection.indexOf(this)&&t.drawPath([s,a],{lineWidth:this.lineWidth*cr,uniformSizeOnZoom:!0,color:_n(this._color,Uc),lineDash:xn(this.configuration.dashed)}),t.drawPath([s,a],{lineWidth:this.lineWidth,uniformSizeOnZoom:!0,color:this._color,lineDash:xn(this.configuration.dashed)})}}getPositionForLabel(t){const n=Gn(t.range),i=50/t.zoom,o=this.getABCFormLine();if(void 0===o)return;const r={x:n.x+i,y:n.y+i,width:n.width-2*i,height:n.height-2*i},s=Fs(o,{a:0,b:1,c:r.y}),a=Fs(o,{a:0,b:1,c:r.y+r.height}),c=void 0!==a&&rt(a.x,r.x,r.x+r.width),l=Fs(o,{a:1,b:0,c:r.x+r.width}),u=void 0!==s&&rt(s.x,r.x,r.x+r.width);return void 0!==l&&rt(l.y,r.y,r.y+r.height)?l:c&&u?a.x>s.x?a:s:c?a:u?s:void 0}constructor(t,n,i,o={r:0,g:0,b:0},r,s=!0,a=3,c=!0){super(t,n,o,r,s,a,c),this.subTypeAndDataProvider=i,this.componentType=Vc}static createAngleBisector(t,n,i){return new _e(()=>function V8(e,t,n){const i=Hd(t,e),o=Hd(n,e);if(void 0===i||void 0===e||void 0===t||void 0===n||void 0===o)return[void 0,void 0];const r=t.y-e.y,s=n.y-e.y;let a=Math.sign(r*s);a=0===a?Math.sign(r+s):a;const c=a>0?0:1;return Tv($d(i,e,1)[0],$d(o,e,1)[c])}(t.point,n.point,i.point),[t,n,i],()=>({subType:e1,els:[t.id,n.id,i.id]}),bt,"Winkelhalbierende")}static createBisectionByPoints(t,n){return new _e(()=>Tv(t.point,n.point),[t,n],()=>({subType:kv,els:[t.id,n.id]}),bt,"Mittelsenkrechte")}static createBisectionByLineSegment(t){return new _e(()=>function L8(e){return Tv(e.point1,e.point2)}(t),[t],()=>({subType:kv,els:[t.id]}),bt,"Mittelsenkrechte")}static createConnection(t,n){return new _e(()=>[t.point,n.point],[t,n],()=>({subType:t1,els:[t.id,n.id]}),bt,"Verbindungsgerade")}static createOrthogonal(t,n){return new _e(()=>{const i=n.getABCFormLine(),o=t.point;if(void 0===i||void 0===o)return[void 0,void 0];const r=Ov(i,o);if(n instanceof Bt){const s=Fs(i,r),a=n.point1,c=n.point2;if(void 0===s||void 0===a||void 0===c)return[void 0,void 0];if(!rt(s.x,a.x,c.x)||!rt(s.y,a.y,c.y))return[void 0,void 0]}return xv(r)??[void 0,void 0]},[t,n],()=>({subType:n1,els:[t.id,n.id]}),bt,"Lot")}static createParallel(t,n){return new _e(()=>function R8(e,t){return void 0===e||void 0===t?[void 0,void 0]:xv({a:e.a,b:e.b,c:e.a*t.x+e.b*t.y})??[void 0,void 0]}(n.getABCFormLine(),t.point),[t,n],()=>({subType:i1,els:[t.id,n.id]}),bt,"Parallele")}static createTangens(t,n){return[new _e(()=>Jx(t.point,n.point,n.radius)[0],[t,n],()=>({subType:Av,els:[t.id,n.id],index:0}),bt,"Tangente"),new _e(()=>Jx(t.point,n.point,n.radius)[1],[t,n],()=>({subType:Av,els:[t.id,n.id],index:1}),bt,"Tangente")]}static getDefaultInstance(){return new _e(()=>[void 0,void 0],[],()=>({subType:"",els:[]}))}serialize(){const t=this.subTypeAndDataProvider();return{data:{els:t.els,index:t.index},subType:t.subType,style:{color:this.color,size:this.lineWidth,visible:this.visible}}}loadFrom(t,n,i){const o=n.data,r=[];for(let a of o.els){const c=t[a];void 0!==c&&this.addDependency(c),r.push(c)}let s;if(this.color=n.style.color,this.visible=n.style.visible,this.lineWidth=n.style.size??this.lineWidth,n.subType===e1&&3===r.length&&r[0]instanceof K&&r[1]instanceof K&&r[2]instanceof K)s=_e.createAngleBisector(r[0],r[1],r[2]);else if(n.subType===kv)if(1===r.length&&r[0]instanceof Bt)s=_e.createBisectionByLineSegment(r[0]);else{if(!(2===r.length&&r[0]instanceof K&&r[1]instanceof K))return;s=_e.createBisectionByPoints(r[0],r[1])}else if(n.subType===t1&&2===r.length&&r[0]instanceof K&&r[1]instanceof K)s=_e.createConnection(r[0],r[1]);else if(n.subType===n1&&2===r.length&&r[0]instanceof K&&r[1]instanceof wi)s=_e.createOrthogonal(r[0],r[1]);else if(n.subType===i1&&2===r.length&&r[0]instanceof K&&r[1]instanceof wi)s=_e.createParallel(r[0],r[1]);else{if(!(n.subType===Av&&2===r.length&&r[0]instanceof K&&r[1]instanceof Qt))return;s=_e.createTangens(r[0],r[1])[o.index??0]}this.pointsProvider=s.pointsProvider,this.subTypeAndDataProvider=s.subTypeAndDataProvider}}const H8=e=>({noMargin:e});let Gd=(()=>{class e{constructor(){this._from=0,this.fromChange=new Ne,this._to=0,this.toChange=new Ne,this.noMargin=!1}get fromForTemplate(){return this._from}set fromForTemplate(n){this._from=n,this.fromChange.emit(n)}set from(n){this._from=n}get toForTemplate(){return this._to}set toForTemplate(n){this._to=n,this.toChange.emit(n)}set to(n){this._to=n}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-interval"]],inputs:{from:"from",to:"to",noMargin:"noMargin"},outputs:{fromChange:"fromChange",toChange:"toChange"},decls:6,vars:5,consts:[[1,"maths",3,"ngClass"],["step","any","type","number","title","Von (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"],["step","any","type","number","title","Bis (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"]],template:function(i,o){1&i&&(p(0,"p",0),b(1," ["),p(2,"input",1),k("ngModelChange",function(s){return x(o.fromForTemplate,s)||(o.fromForTemplate=s),s}),m(),b(3,"; "),p(4,"input",2),k("ngModelChange",function(s){return x(o.toForTemplate,s)||(o.toForTemplate=s),s}),m(),b(5,"]\n"),m()),2&i&&(T("ngClass",Ct(3,H8,o.noMargin)),y(2),I("ngModel",o.fromForTemplate),y(2),I("ngModel",o.toForTemplate))},dependencies:[Un,qe,Cn,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.input[_ngcontent-%COMP%]{width:50px;display:unset}.noMargin[_ngcontent-%COMP%]{margin:0}']})}return e})();function $8(e,t){if(1&e&&(p(0,"span"),b(1," von "),p(2,"span",12),b(3),m()()),2&e){const n=H(2);y(3),fe(n.canvasElement.graph.func.name)}}function G8(e,t){if(1&e&&(p(0,"p",10),b(1,"Bestimmtes Integral "),Re(2,$8,4,1,"span",11),m()),2&e){const n=H();y(2),T("ngIf",null==n.canvasElement.graph.func?null:n.canvasElement.graph.func.name)}}function W8(e,t){if(1&e&&(p(0,"span"),b(1," von "),p(2,"span",12),b(3),m()()),2&e){const n=H(2);y(3),Ya("",n.canvasElement.graph.func.name,", ",n.canvasElement.secondGraph.func.name,"")}}function q8(e,t){if(1&e&&(p(0,"p",10),b(1,"Fl\xe4che zwischen Graphen "),Re(2,W8,4,2,"span",11),m()),2&e){const n=H();y(2),T("ngIf",(null==n.canvasElement.graph.func?null:n.canvasElement.graph.func.name)&&(null==n.canvasElement.secondGraph.func?null:n.canvasElement.secondGraph.func.name))}}let Y8=(()=>{class e extends Wn{static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ue(e)))(o||e)}})();static#t=this.\u0275cmp=L({type:e,selectors:[["app-definite-integral-formula"]],features:[z],decls:16,vars:9,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],["class","paragraph description",4,"ngIf"],[1,"iconButton","depositionTop","floatRight",3,"click"],["src","assets/threeDots.svg","alt","icon",1,"icon"],[1,"paragraph","intervalParagraph"],[1,"interval",3,"fromChange","toChange","noMargin","from","to"],[1,"paragraph"],["min","0","step","any","type","number","title","Schrittweite der Integralbestimmung",1,"input",3,"ngModelChange","ngModel"],["title","N\xe4herungsweise bestimmter Wert",1,"maths"],[1,"paragraph","description"],[4,"ngIf"],[1,"maths"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"app-color-circle",1),k("colorChange",function(s){return x(o.canvasElement.color,s)||(o.canvasElement.color=s),s})("visibleChange",function(s){return x(o.canvasElement.visible,s)||(o.canvasElement.visible=s),s}),m(),Re(2,G8,3,1,"p",2)(3,q8,3,1,"p",2),p(4,"button",3),N("click",function(s){return o.threePointsClicked(s)}),A(5,"img",4),m(),p(6,"p",5),b(7,"Intervall: "),p(8,"app-interval",6),k("fromChange",function(s){return x(o.canvasElement.from,s)||(o.canvasElement.from=s),s})("toChange",function(s){return x(o.canvasElement.to,s)||(o.canvasElement.to=s),s}),m()(),p(9,"p",7),b(10,"Schrittweite: "),p(11,"input",8),k("ngModelChange",function(s){return x(o.canvasElement.h,s)||(o.canvasElement.h=s),s}),m()(),p(12,"p",7),b(13,"\u2192 "),p(14,"span",9),b(15),m()()()),2&i&&(y(),I("color",o.canvasElement.color)("visible",o.canvasElement.visible),y(),T("ngIf",void 0===o.canvasElement.secondGraph),y(),T("ngIf",void 0!==o.canvasElement.secondGraph),y(5),T("noMargin",!0),I("from",o.canvasElement.from)("to",o.canvasElement.to),y(3),I("ngModel",o.canvasElement.h),y(4),fe(o.canvasElement.value.toLocaleString()))},dependencies:[gs,qe,Cn,Ye,kd,We,Gd,or],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.interval[_ngcontent-%COMP%]{display:inline-block}.intervalParagraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}.input[_ngcontent-%COMP%]{width:75px;display:unset}']})}return e})();class Vs extends rr{get value(){return this._value}set value(t){this._value=t}get graph(){return this._graph}set graph(t){this._graph=t,this.onChange.emit(t)}get secondGraph(){return this._secondGraph}set secondGraph(t){this._secondGraph=t,this.onChange.emit(t)}get stroke(){return this._stroke}set stroke(t){this._stroke=t,this.onChange.emit(t)}get strokeWidth(){return this._strokeWidth}set strokeWidth(t){this._strokeWidth=t,this.onChange.emit(t)}get h(){return this._h}set h(t){this._h=this.correctH(t),this.onChange.emit(this._h)}correctH(t){return t<0?t=-t:t||(t=1),t}get from(){return this._from}set from(t){this._from=Math.min(t,this.to),this.onChange.emit(this._from)}get to(){return this._to}set to(t){this._to=Math.max(t,this.from),this.onChange.emit(this._to)}constructor(t,n,i,o,r=1,s=pe,a=_i,c=0,l=!0){super(),this.componentType=Y8,this.formulaDialogType=void 0,this._value=0,this.rects=[],this._h=1,this._graph=t,this._secondGraph=n,this._color=s,this._stroke=a,this._strokeWidth=c,this._visible=l,this._h=r,this._from=i,this._to=o}reload(t){let n=[],i=0;const o=(a,c)=>{if(0!==c&&void 0!==this.graph.func)try{const l=this.graph.func.evaluate(a,t),u=this.secondGraph?.func?.evaluate(a,t)??0;isFinite(l)&&isFinite(u)&&(i+=c*(l-u),n.push({x:a,y:u,width:c,height:l-u}))}catch{}};let r=this.from;for(;r<=this.to-this.h;r+=this.h)o(r,this.h);const s=this.to-r;o(this.to-s,s),n=n.map(a=>Gn(a)),this.rects=n,this.value=i}draw(t){this.reload(t.variables);const n=-1!==t.selection.indexOf(this),i=t.range,o=_n(this.color,n?.5:.3);for(let r of this.rects){const s=U4(r,i);s&&t.drawRect(s,!1,{color:o},{color:this.stroke,uniformSizeOnZoom:!1,lineWidth:this.strokeWidth})}}getDistance(t,n){return Math.min(...this.rects.map(i=>ZS(t,i)))}static getDefaultInstance(){return new Vs(void 0,void 0,0,0)}serialize(){return{data:{graph:this.graph.id,secondGraph:void 0===this.secondGraph?void 0:this.secondGraph.id,h:this.h,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}loadFrom(t,n){if(void 0!==n.data.graph&&void 0!==n.data.h&&void 0!==n.data.from&&void 0!==n.data.to){const i=t[n.data.graph],o=t[n.data.secondGraph];i instanceof pt&&(this.graph=i),(o instanceof pt||void 0===o)&&(this.secondGraph=o),"number"==typeof n.data.h&&(this.h=n.data.h),"number"==typeof n.data.from&&(this.from=n.data.from),"number"==typeof n.data.to&&(this.to=n.data.to)}this.stroke=n.style.stroke??_i,this.strokeWidth=n.style.strokeWidth??0,this.color=n.style.color,this.visible=n.style.visible}}const Bs="intersection_point",Nv="middle_point";class Ee extends K{get x(){return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),this._tempPoint?.x}get y(){return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),this._tempPoint?.y}get pointProvider(){return this._pointProvider}set pointProvider(t){this._pointProvider=t,this.onChange.emit(t)}constructor(t,n,i,o=pe,r,s=!0){super({x:0,y:0},o,!0,n,s),this.subTypeAndDataProvider=i,this.resetTempListener=()=>{this._tempPoint=void 0},this._pointProvider=t}static createMiddlePointByPoints(t,n){return new Ee(()=>Lc(t.point,n.point),[t,n],()=>({subType:Nv,el1:t.id,el2:n.id}),bt)}static createMiddlePointByLineSegment(t){return new Ee(()=>function F8(e){return Lc(e.point1,e.point2)}(t),[t],()=>({subType:Nv,el1:t.id}),bt)}static createIntersectionPoints(t,n){if(t instanceof wi&&n instanceof wi)return[new Ee(()=>{const i=t.getABCFormLine(),o=n.getABCFormLine();if(void 0===i||void 0===o)return;const r=Fs(i,o);if(void 0!==r){if(t instanceof Bt){const s=t.point1,a=t.point2;if(void 0===s||void 0===a||!rt(r.x,s.x,a.x)||!rt(r.y,s.y,a.y))return}if(n instanceof Bt){const s=n.point1,a=n.point2;if(void 0===s||void 0===a||!rt(r.x,s.x,a.x)||!rt(r.y,s.y,a.y))return}return r}},[t,n],()=>({subType:Bs,el1:t.id,el2:n.id}),bt)];if(t instanceof Qt&&n instanceof wi){const i=t;t=n,n=i}if(t instanceof wi&&n instanceof Qt){const i=o=>()=>{const r=t.getABCFormLine(),s=n.point,a=n.radius;if(void 0===r||void 0===s||void 0===a)return;const c=$d(r,s,a)[o];if(void 0!==c){if(t instanceof Bt){const l=t.point1,u=t.point2;return void 0===l||void 0===u?void 0:rt(c.x,l.x,u.x)&&rt(c.y,l.y,u.y)?c:void 0}return c}};return[new Ee(i(0),[t,n],()=>({subType:Bs,el1:t.id,el2:n.id,index:0}),bt),new Ee(i(1),[t,n],()=>({subType:Bs,el1:t.id,el2:n.id,index:1}),bt)]}if(t instanceof Qt&&n instanceof Qt){const i=o=>()=>{const r=t.point,s=t.radius,a=n.point,c=n.radius;if(void 0!==r&&void 0!==s&&void 0!==a&&void 0!==c)return Iv(r,s,a,c)[o]};return[new Ee(i(0),[t,n],()=>({subType:Bs,el1:t.id,el2:n.id,index:0}),bt),new Ee(i(1),[t,n],()=>({subType:Bs,el1:t.id,el2:n.id,index:1}),bt)]}return[]}static getDefaultInstance(){return new Ee(()=>{},[],()=>({subType:"",el1:-1}))}serialize(){const t=this.subTypeAndDataProvider();return{data:{el1:t.el1,el2:t.el2,index:t.index},subType:t.subType,style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}loadFrom(t,n,i){const o=n.data,r=t[o.el1],s=void 0===o.el2?void 0:t[o.el2];if(void 0!==r&&this.addDependency(r),void 0!==s&&this.addDependency(s),this.loadStyle(n.style),n.subType===Nv){if(r instanceof K&&s instanceof K){const a=Ee.createMiddlePointByPoints(r,s);this.pointProvider=a.pointProvider,this.subTypeAndDataProvider=a.subTypeAndDataProvider}else if(r instanceof Bt){const a=Ee.createMiddlePointByLineSegment(r);this.pointProvider=a.pointProvider,this.subTypeAndDataProvider=a.subTypeAndDataProvider}}else if(n.subType===Bs&&(r instanceof wi||r instanceof Qt)&&(s instanceof wi||s instanceof Qt)){const a=Ee.createIntersectionPoints(r,s)[o.index??0];this.pointProvider=a.pointProvider,this.subTypeAndDataProvider=a.subTypeAndDataProvider}}}let Z8=(()=>{class e extends sr{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(n){this.dialogData.configuration.name=n,this.dialogData.configuration.label=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(n)}get angle(){return(Math.floor(1e3*this.dialogData.angle)/1e3).toLocaleString()}get dashed(){return!0===this.dialogData.configuration.dashed}set dashed(n){this.dialogData.configuration.dashed=n,this.dialogData.onChange.emit()}get latex(){return!this.dialogData.configuration.dontUseLaTeX}set latex(n){this.dialogData.configuration.dontUseLaTeX=!n,this.dialogData.onChange.emit()}get displayBlack(){return this.dialogData.configuration.displayBlackLabel??!1}set displayBlack(n){this.dialogData.configuration.displayBlackLabel=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}get labelSize(){return this.dialogData.configuration.labelSizeFactor??1}set labelSize(n){this.dialogData.configuration.labelSizeFactor=n,this.dialogData.onChange.emit()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-view-angle-element"]],features:[z],decls:34,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],[1,"rangeDiv","sizeDiv"],["for","si"],["id","si","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Winkel:"),m(),p(3,"p",2),A(4,"span"),p(5,"input",3),k("ngModelChange",function(s){return x(o.name,s)||(o.name=s),s}),m(),b(6," : "),m(),p(7,"p",4)(8,"span"),b(9),m()(),p(10,"div",5)(11,"input",6),k("ngModelChange",function(s){return x(o.dashed,s)||(o.dashed=s),s}),m(),p(12,"label",7),b(13,"Gestrichelt anzeigen"),m()(),p(14,"div",8)(15,"input",9),k("ngModelChange",function(s){return x(o.latex,s)||(o.latex=s),s}),m(),p(16,"label",10),b(17,"Label als LaTeX rendern"),m()(),p(18,"div",11)(19,"input",12),k("ngModelChange",function(s){return x(o.displayBlack,s)||(o.displayBlack=s),s}),m(),p(20,"label",13),b(21,"Label schwarz anzeigen"),m()(),p(22,"div",14)(23,"label",15),b(24,"Labelgr\xf6\xdfe:"),m(),A(25,"br"),p(26,"input",16),k("ngModelChange",function(s){return x(o.labelSize,s)||(o.labelSize=s),s}),m()(),p(27,"div",17)(28,"label",18),b(29,"Darstellungsgr\xf6\xdfe:"),m(),A(30,"br"),p(31,"input",19),k("ngModelChange",function(s){return x(o.dialogData.size,s)||(o.dialogData.size=s),s}),m()(),p(32,"button",20),N("click",function(){return o.dialog.close()}),b(33,"Schlie\xdfen"),m()()),2&i&&(y(5),I("ngModel",o.name),y(4),gn("",o.angle,"\xb0"),y(2),I("ngModel",o.dashed),y(4),I("ngModel",o.latex),y(4),I("ngModel",o.displayBlack),y(7),I("ngModel",o.labelSize),y(5),I("ngModel",o.dialogData.size))},dependencies:[qe,Ui,zi,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;-webkit-user-select:none;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;-webkit-user-select:none;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{width:100%}']})}return e})();class ar extends rr{get points(){return this._points.slice()}set points(t){this._points=t.slice(),this.onChange.emit()}get size(){return this._size}set size(t){this._size=t,this.onChange.emit(t)}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.onChange.emit(t)}constructor(t,n=pe,i=!0,o=50,r=3,s=!0){super(),this._size=o,this._lineWidth=r,this.componentType=Vc,this.formulaDialogType=Z8,this._color=n,this._visible=i,this._points=t,this.configuration.formula="Winkel",this.configuration.showLabel=s}get angle(){if(3!==this.points.length)return Number.NaN;const t=this.points[0].point,n=this.points[1].point,i=this.points[2].point;if(t&&n&&i){const o={x:t.x-n.x,y:t.y-n.y},r={x:i.x-n.x,y:i.y-n.y},s={x:0,y:0},a=(o.x*r.x+o.y*r.y)/(_o(s,o)*_o(s,r));return Math.acos(a)/Math.PI*180}return Number.NaN}get angles(){if(3===this._points.length){const t=this._points[0].point,n=this._points[1].point,i=this._points[2].point;if(void 0!==t&&void 0!==n&&void 0!==i){const o={x:1,y:0},r={x:0,y:0},s=(h,f)=>h.x*f.x+h.y*f.y,a=(h,f)=>Math.acos(s(h,f)/_o(r,h)/_o(r,f)),l={x:i.x-n.x,y:i.y-n.y};let u=a(o,{x:t.x-n.x,y:t.y-n.y}),d=a(o,l);return t.y>n.y&&(u=-u),i.y>n.y&&(d=-d),[u,d]}}}serialize(){return{data:{points:this.points.map(t=>t.id)},style:{color:this.color,visible:this.visible,size:this.size,strokeWidth:this.lineWidth}}}loadFrom(t,n,i){this.points=n.data.points.map(r=>t[r]).filter(r=>r instanceof K),this.color=n.style.color,this.visible=n.style.visible,this.lineWidth=n.style.strokeWidth??this.lineWidth,this.size=n.style.size??this.size}draw(t){const n=this.angles,i=this._points;if(n&&3===i.length){const o=i[1].point;void 0!==o&&(t.drawCircleSector(o,this.size,n[1],n[0],!0,{color:_n(this.color,.3),uniformSizeOnZoom:!0},{color:this.color,lineWidth:this.lineWidth,lineDash:this.configuration.dashed?Bm:void 0,uniformSizeOnZoom:!0}),-1!==t.selection.indexOf(this)&&t.drawCircleSector(o,this.size/t.zoom,n[1],n[0],!0,{color:_i,uniformSizeOnZoom:!0},{color:_n(this.color,.3),lineWidth:this.lineWidth*cr,lineDash:this.configuration.dashed?Bm:void 0,uniformSizeOnZoom:!0}))}}static getDefaultInstance(){return new ar([])}getPositionForLabel(t){if(3===this._points.length){const i=this._points[0].point,o=this._points[1].point,r=this._points[2].point;if(void 0!==i&&void 0!==o&&void 0!==r){const s={x:i.x-o.x,y:i.y-o.y},a={x:r.x-o.x,y:r.y-o.y},c={x:s.x+a.x,y:s.y+a.y},l=this.size/t.zoom/2/_o({x:0,y:0},c),u={x:c.x*l,y:c.y*l};return{x:u.x+o.x,y:u.y+o.y}}}}getDistance(t,n){const i=this.size/n.zoom;if(3===this._points.length){const o=this._points[0].point,r=this._points[1].point,s=this._points[2].point;if(void 0!==o&&void 0!==r&&void 0!==s){const a={x:1,y:0},c={x:0,y:0},l=(C,w)=>C.x*w.x+C.y*w.y,u=(C,w)=>Math.acos(l(C,w)/_o(c,C)/_o(c,w)),h={x:s.x-r.x,y:s.y-r.y};let f=u(a,{x:o.x-r.x,y:o.y-r.y}),g=u(a,h);const v={x:t.x-r.x,y:t.y-r.y};let _=u(a,v);if(o.y>r.y&&(f=-f+2*Math.PI),s.y>r.y&&(g=-g+2*Math.PI),t.y>r.y&&(_=-_+2*Math.PI),_o(c,v)<=i&&(g<_&&f>_||g>_&&f>_&&g>f||f<_&&g<_&&g>f))return 0}}return Number.MAX_VALUE}}const o1=e=>({error:e});let Q8=(()=>{class e extends Wn{constructor(){super(),this.canvasElement=Co.getDefaultInstance()}get name(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}get errorMessageX(){return this.canvasElement.xErrorText}get errorMessageY(){return this.canvasElement.yErrorText}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-compiled-point-formula"]],features:[z],decls:14,vars:13,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],["src","assets/threeDots.svg","alt","icon",1,"icon"]],template:function(i,o){if(1&i&&(p(0,"div",0)(1,"app-color-circle",1),k("colorChange",function(s){return x(o.canvasElement.color,s)||(o.canvasElement.color=s),s})("visibleChange",function(s){return x(o.canvasElement.visible,s)||(o.canvasElement.visible=s),s}),m(),p(2,"div")(3,"p",2),A(4,"span"),b(5),p(6,"span")(7,"input",3),k("ngModelChange",function(s){return x(o.canvasElement.xText,s)||(o.canvasElement.xText=s),s}),m()(),b(8," | "),p(9,"span")(10,"input",3),k("ngModelChange",function(s){return x(o.canvasElement.yText,s)||(o.canvasElement.yText=s),s}),m()(),b(11," ) "),m()(),p(12,"button",4),N("click",function(s){return o.threePointsClicked(s)}),A(13,"img",5),m()()),2&i){let r,s;y(),I("color",o.canvasElement.color)("visible",o.canvasElement.visible),y(4),gn(" ",o.name,"( "),y(2),T("ngClass",Ct(9,o1,void 0!==o.errorMessageX))("title",null!==(r=o.errorMessageX)&&void 0!==r?r:""),I("ngModel",o.canvasElement.xText),y(3),T("ngClass",Ct(11,o1,void 0!==o.errorMessageY))("title",null!==(s=o.errorMessageY)&&void 0!==s?s:""),I("ngModel",o.canvasElement.yText)}},dependencies:[Un,qe,Ye,We,or],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:100px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;-webkit-user-select:none;user-select:none}input.error[_ngcontent-%COMP%]{background:#fcc!important}']})}return e})();class Co extends Ee{constructor(t,n=pe,i,o=!0){super(null,[],null,n,i,o),this.parseAndValidateProvider=t,this.componentType=Q8,this._xText="0",this._yText="0",this.evaluate=()=>{if((this.error||void 0===this._xOperation||void 0===this._yOperation)&&this.reparse(),!this.error&&void 0!==this._xOperation&&void 0!==this._yOperation)try{return{x:this._xOperation.evaluate(this._tempVariables),y:this._yOperation.evaluate(this._tempVariables)}}catch{return}},this.resetTempListener=r=>{this._tempPoint=void 0,void 0!==r&&(this._tempVariables=r.variables??{})},this._pointProvider=this.evaluate}get xText(){return this._xText}set xText(t){this._xText=t,this.reparseX(),this.onChange.emit(t)}get yText(){return this._yText}set yText(t){this._yText=t,this.reparseY(),this.onChange.emit(t)}get xErrorText(){return this._xErrorText}get xError(){return void 0!==this._xErrorText}get yErrorText(){return this._yErrorText}get yError(){return void 0!==this._yErrorText}get error(){return this.yError||this.xError}get xOperation(){return this._xOperation}get yOperation(){return this._yOperation}reparseX(){const t=this.parseAndValidateProvider(this._xText);return t instanceof Vt?(this._xOperation=t,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=t,!1)}reparseY(){const t=this.parseAndValidateProvider(this._yText);return t instanceof Vt?(this._yOperation=t,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=t,!1)}reparse(){const t=this.reparseX(),n=this.reparseY();return t&&n}serialize(){return{data:{xText:this.xText,yText:this.yText},style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}loadFrom(t,n,i){const o=n.data;this.loadStyle(n.style),this._xText=o.xText,this._yText=o.yText}static getDefaultInstance(){return new Co(()=>{})}static getDefaultInstanceWithDrawerService(t){return new Co(n=>t.parseAndValidateOperation(n))}draw(t){super.draw(t)}}const Wd=e=>({error:e});let X8=(()=>{class e extends Wn{constructor(n){super(),this.drawerService=n,this.canvasElement=yo.getDefaultInstance(n)}get name(){return this.canvasElement.configuration.name?" "+this.canvasElement.configuration.name:""}get contextMenu(){return{elements:()=>[{header:"Duplizieren",icon:"content_copy",disabled:this.canvasElement.error,click:()=>{this.duplicate()},title:"Diese Funktion duplizieren."}],additionalEvent:this.threePointsClickedEvent}}duplicate(){const n=this.canvasElement.clone();this.drawerService.addCanvasElements(n)}get errorMessageX(){return this.canvasElement.xErrorText}get errorMessageY(){return this.canvasElement.yErrorText}get errorMessageBottom(){return this.canvasElement.bottomErrorText}get errorMessageTop(){return this.canvasElement.topErrorText}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-curve-formula"]],features:[z],decls:51,vars:25,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph","description"],[1,"iconButton","depositionTop","floatRight",3,"click"],["src","assets/threeDots.svg","alt","icon",1,"icon"],[1,"alignEnd","paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],["autocomplete","off","type","text","step","any",1,"input","parameter",3,"ngModelChange","ngModel"],["autocomplete","off","type","number","step","any",1,"input","steps",3,"ngModelChange","ngModel"]],template:function(i,o){if(1&i&&(p(0,"div",0)(1,"app-color-circle",1),k("colorChange",function(s){return x(o.canvasElement.color,s)||(o.canvasElement.color=s),s})("visibleChange",function(s){return x(o.canvasElement.visible,s)||(o.canvasElement.visible=s),s}),m(),p(2,"div")(3,"p",2),A(4,"span"),b(5),m(),p(6,"button",3),N("click",function(s){return o.threePointsClicked(s)}),A(7,"img",4),m(),p(8,"table")(9,"tr")(10,"td")(11,"p",5),b(12,"x = "),m()(),p(13,"td")(14,"span")(15,"input",6),k("ngModelChange",function(s){return x(o.canvasElement.xText,s)||(o.canvasElement.xText=s),s}),m()()()(),p(16,"tr")(17,"td")(18,"p",5),b(19,"y = "),m()(),p(20,"td")(21,"span")(22,"input",6),k("ngModelChange",function(s){return x(o.canvasElement.yText,s)||(o.canvasElement.yText=s),s}),m()()()(),p(23,"tr")(24,"td")(25,"p",5),b(26,"Parameter: "),m()(),p(27,"td")(28,"span")(29,"input",7),k("ngModelChange",function(s){return x(o.canvasElement.parameter,s)||(o.canvasElement.parameter=s),s}),m()()()(),p(30,"tr")(31,"td")(32,"p",5),b(33,"Schritte: "),m()(),p(34,"td")(35,"span")(36,"input",8),k("ngModelChange",function(s){return x(o.canvasElement.steps,s)||(o.canvasElement.steps=s),s}),m()()()(),p(37,"tr")(38,"td")(39,"p",5),b(40,"Untere Grenze: "),m()(),p(41,"td")(42,"span")(43,"input",6),k("ngModelChange",function(s){return x(o.canvasElement.bottomText,s)||(o.canvasElement.bottomText=s),s}),m()()()(),p(44,"tr")(45,"td")(46,"p",5),b(47,"Obere Grenze: "),m()(),p(48,"td")(49,"span")(50,"input",6),k("ngModelChange",function(s){return x(o.canvasElement.topText,s)||(o.canvasElement.topText=s),s}),m()()()()()()()),2&i){let r,s,a,c;y(),I("color",o.canvasElement.color)("visible",o.canvasElement.visible),y(4),gn(" Kurve",o.name,": "),y(10),T("ngClass",Ct(17,Wd,void 0!==o.errorMessageX))("title",null!==(r=o.errorMessageX)&&void 0!==r?r:""),I("ngModel",o.canvasElement.xText),y(7),T("ngClass",Ct(19,Wd,void 0!==o.errorMessageY))("title",null!==(s=o.errorMessageY)&&void 0!==s?s:""),I("ngModel",o.canvasElement.yText),y(7),I("ngModel",o.canvasElement.parameter),y(7),I("ngModel",o.canvasElement.steps),y(7),T("ngClass",Ct(21,Wd,void 0!==o.errorMessageBottom))("title",null!==(a=o.errorMessageBottom)&&void 0!==a?a:""),I("ngModel",o.canvasElement.bottomText),y(7),T("ngClass",Ct(23,Wd,void 0!==o.errorMessageTop))("title",null!==(c=o.errorMessageTop)&&void 0!==c?c:""),I("ngModel",o.canvasElement.topText)}},dependencies:[Un,qe,Cn,Ye,We,or],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.input[_ngcontent-%COMP%]{width:150px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;-webkit-user-select:none;user-select:none;margin-bottom:0}.alignEnd[_ngcontent-%COMP%]{text-align:end}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}input.error[_ngcontent-%COMP%]{background:#fcc!important}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}']})}return e})(),K8=(()=>{class e extends sr{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(n){this.dialogData.configuration.name=n,this.dialogData.configuration.label=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(n)}get dashed(){return!0===this.dialogData.configuration.dashed}set dashed(n){this.dialogData.configuration.dashed=n,this.dialogData.onChange.emit()}get latex(){return!this.dialogData.configuration.dontUseLaTeX}set latex(n){this.dialogData.configuration.dontUseLaTeX=!n,this.dialogData.onChange.emit()}get displayBlack(){return this.dialogData.configuration.displayBlackLabel??!1}set displayBlack(n){this.dialogData.configuration.displayBlackLabel=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}get labelSize(){return this.dialogData.configuration.labelSizeFactor??1}set labelSize(n){this.dialogData.configuration.labelSizeFactor=n,this.dialogData.onChange.emit()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-view-curve-element"]],features:[z],decls:26,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Kurve:"),m(),p(3,"p",2),A(4,"span"),p(5,"input",3),k("ngModelChange",function(s){return x(o.name,s)||(o.name=s),s}),m(),b(6," : "),m(),p(7,"div",4)(8,"input",5),k("ngModelChange",function(s){return x(o.dashed,s)||(o.dashed=s),s}),m(),p(9,"label",6),b(10,"Gestrichelt anzeigen"),m()(),p(11,"div",7)(12,"input",8),k("ngModelChange",function(s){return x(o.latex,s)||(o.latex=s),s}),m(),p(13,"label",9),b(14,"Label als LaTeX rendern"),m()(),p(15,"div",10)(16,"input",11),k("ngModelChange",function(s){return x(o.displayBlack,s)||(o.displayBlack=s),s}),m(),p(17,"label",12),b(18,"Label schwarz anzeigen"),m()(),p(19,"div",13)(20,"label",14),b(21,"Labelgr\xf6\xdfe:"),m(),A(22,"br"),p(23,"input",15),k("ngModelChange",function(s){return x(o.labelSize,s)||(o.labelSize=s),s}),m()(),p(24,"button",16),N("click",function(){return o.dialog.close()}),b(25,"Schlie\xdfen"),m()()),2&i&&(y(5),I("ngModel",o.name),y(3),I("ngModel",o.dashed),y(4),I("ngModel",o.latex),y(4),I("ngModel",o.displayBlack),y(7),I("ngModel",o.labelSize))},dependencies:[qe,Ui,zi,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;-webkit-user-select:none;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;-webkit-user-select:none;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})}return e})();class yo extends rr{constructor(t,n=pe,i=3,o,r=!0,s=!0){super(),this.parseAndValidateProvider=t,this.componentType=X8,this.formulaDialogType=K8,this._parameter="t",this._steps=1e3,this._xText="0",this._yText="0",this._bottomText="0",this._topText="1",this._color=n,this._lineWidth=i,this.configuration.name=o,this.configuration.showLabel=s,this.svgLabel=void 0,this._visible=r}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.onChange.emit(t)}get dashed(){return 1==this.configuration.dashed}set dashed(t){this.configuration.dashed=t,this.onChange.emit(t)}get parameter(){return this._parameter}set parameter(t){this._parameter=t,this.onChange.emit(t)}get steps(){return this._steps}set steps(t){this._steps=Math.floor(Math.abs(t)),this.onChange.emit(t)}get xText(){return this._xText}set xText(t){this._xText=t,this.reparseX(),this.onChange.emit(t)}get xError(){return void 0!==this._xErrorText}get xErrorText(){return this._xErrorText}get xOperation(){return this._xOperation}get yText(){return this._yText}set yText(t){this._yText=t,this.reparseY(),this.onChange.emit(t)}get yError(){return void 0!==this._yErrorText}get yErrorText(){return this._yErrorText}get yOperation(){return this._yOperation}get bottomText(){return this._bottomText}set bottomText(t){this._bottomText=t,this.reparseBottom(),this.onChange.emit(t)}get bottomError(){return void 0!==this._bottomErrorText}get bottomErrorText(){return this._bottomErrorText}get bottomOperation(){return this._bottomOperation}get topText(){return this._topText}set topText(t){this._topText=t,this.reparseTop(),this.onChange.emit(t)}get topError(){return void 0!==this._topErrorText}get topErrorText(){return this._topErrorText}get topOperation(){return this._topOperation}get error(){return this.topError||this.bottomError||this.yError||this.xError}reparseX(){const t=this.parseAndValidateProvider(this._xText,[this.parameter]);return t instanceof Vt?(this._xOperation=t,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=t,!1)}reparseY(){const t=this.parseAndValidateProvider(this._yText,[this.parameter]);return t instanceof Vt?(this._yOperation=t,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=t,!1)}reparseBottom(){const t=this.parseAndValidateProvider(this._bottomText,[]);return t instanceof Vt?(this._bottomOperation=t,this._bottomErrorText=void 0,!0):(this._bottomOperation=void 0,this._bottomErrorText=t,!1)}reparseTop(){const t=this.parseAndValidateProvider(this._topText,[]);return t instanceof Vt?(this._topOperation=t,this._topErrorText=void 0,!0):(this._topOperation=void 0,this._topErrorText=t,!1)}reparse(){const t=this.reparseX(),n=this.reparseY(),i=this.reparseBottom(),o=this.reparseTop();return t&&n&&i&&o}parseIfNecessary(){void 0===this.bottomOperation&&this.reparseBottom(),void 0===this.topOperation&&this.reparseTop(),void 0===this.xOperation&&this.reparseX(),void 0===this.yOperation&&this.reparseY()}draw(t){const n=this.getPoints(t);if(void 0!==n){const i=_n(this._color,Uc),o=this.lineWidth*cr;t.drawPath(n,{lineWidth:this.lineWidth,color:this.color,uniformSizeOnZoom:!0,lineDash:xn(this.dashed)}),-1!==t.selection.indexOf(this)&&t.drawPath(n,{lineWidth:o,color:i,uniformSizeOnZoom:!0,lineDash:xn(this.dashed)})}}getPoints(t){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){const n=t.variables;let i=this.bottomOperation.evaluate(n),o=this.topOperation.evaluate(n);if(o<i){const c=i;i=o,o=c}const r=[],s=this.steps,a=(o-i)/s;for(let c=0;c<=s;c++){const l=i+a*c;try{n[this.parameter]=l;const u=this.xOperation.evaluate(n),d=this.yOperation.evaluate(n);r.push({x:u,y:d})}catch{}}return r}}loadFrom(t,n,i){const o=n.data;this._xText=o.xText,this._yText=o.yText,this._bottomText=o.bottomText,this._topText=o.topText,this._parameter=o.parameter,this._steps=o.steps,this._color=n.style.color,this._lineWidth=n.style.size??3,this._visible=n.style.visible,this.onChange.emit()}serialize(){return{data:{xText:this.xText,yText:this.yText,parameter:this.parameter,bottomText:this.bottomText,topText:this.topText,steps:this.steps},style:{color:this.color,size:this.lineWidth,visible:this.visible}}}static getDefaultInstance(t){return new yo((n,i)=>t.parseAndValidateOperation(n,!0,i))}getDistance(t,n){const i=this.getPoints(n);if(void 0===i)return;const o=i.map(s=>ho(s,t));if(0===o.length)return;let r=o[0];for(let s=1;s<o.length;s++)o[s]<r&&(r=o[s]);return r}getPositionForLabel(t){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){const i=t.variables;let o=this.bottomOperation.evaluate(i),r=this.topOperation.evaluate(i);i[this.parameter]=(o+r)/2;try{const s=this.xOperation.evaluate(i),a=this.yOperation.evaluate(i);return{x:s+15/t.zoom,y:a+15/t.zoom}}catch{}}}clone(){const t=new yo(this.parseAndValidateProvider,this.color,this.lineWidth,void 0,this.visible);return t._steps=this._steps,t._parameter=this._parameter,t._xText=this._xText,t._yText=this._yText,t._bottomText=this._bottomText,t._topText=this._topText,t.configuration={...this.configuration},t}}let J8=(()=>{class e extends sr{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(n){this.dialogData.configuration.name=n,this.dialogData.configuration.label=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(n)}get dashed(){return!0===this.dialogData.configuration.dashed}set dashed(n){this.dialogData.configuration.dashed=n,this.dialogData.onChange.emit()}get latex(){return!this.dialogData.configuration.dontUseLaTeX}set latex(n){this.dialogData.configuration.dontUseLaTeX=!n,this.dialogData.onChange.emit()}get displayBlack(){return this.dialogData.configuration.displayBlackLabel??!1}set displayBlack(n){this.dialogData.configuration.displayBlackLabel=n,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}get labelSize(){return this.dialogData.configuration.labelSizeFactor??1}set labelSize(n){this.dialogData.configuration.labelSizeFactor=n,this.dialogData.onChange.emit()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-view-shape-element"]],standalone:!0,features:[z,Pe],decls:26,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Polygon:"),m(),p(3,"p",2),A(4,"span"),p(5,"input",3),k("ngModelChange",function(s){return x(o.name,s)||(o.name=s),s}),m(),b(6," : "),m(),p(7,"div",4)(8,"input",5),k("ngModelChange",function(s){return x(o.dashed,s)||(o.dashed=s),s}),m(),p(9,"label",6),b(10,"Gestrichelt anzeigen"),m()(),p(11,"div",7)(12,"input",8),k("ngModelChange",function(s){return x(o.latex,s)||(o.latex=s),s}),m(),p(13,"label",9),b(14,"Label als LaTeX rendern"),m()(),p(15,"div",10)(16,"input",11),k("ngModelChange",function(s){return x(o.displayBlack,s)||(o.displayBlack=s),s}),m(),p(17,"label",12),b(18,"Label schwarz anzeigen"),m()(),p(19,"div",13)(20,"label",14),b(21,"Labelgr\xf6\xdfe:"),m(),A(22,"br"),p(23,"input",15),k("ngModelChange",function(s){return x(o.labelSize,s)||(o.labelSize=s),s}),m()(),p(24,"button",16),N("click",function(){return o.dialog.close()}),b(25,"Schlie\xdfen"),m()()),2&i&&(y(5),I("ngModel",o.name),y(3),I("ngModel",o.dashed),y(4),I("ngModel",o.latex),y(4),I("ngModel",o.displayBlack),y(7),I("ngModel",o.labelSize))},dependencies:[As,qe,Ui,zi,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;-webkit-user-select:none;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;-webkit-user-select:none;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{width:100%}']})}return e})();class Bc extends zd{get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.onChange.emit(t)}getPointAt(t){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[t]}get points(){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints.slice()}get pointsProvider(){return this._pointsProvider}set pointsProvider(t){this._pointsProvider=t,this.onChange.emit(t)}constructor(t,n,i,o={r:0,g:0,b:0},r,s=!0,a=3,c=!0){super(n),this.dataProvider=i,this._lineWidth=a,this.componentType=Vc,this.formulaDialogType=J8,this.resetTempListener=()=>{this._tempPoints=void 0},this.configuration.formula=r,this.configuration.showLabel=c,this._color=o,this._visible=s,this._pointsProvider=t}serialize(){return{data:this.dataProvider(),style:{color:this._color,visible:this._visible,strokeWidth:this._lineWidth}}}loadFrom(t,n,i){const o=n.data,r=[];for(let s of o.points){const a=t[s];void 0!==a&&a instanceof K&&(this.addDependency(a),r.push(a))}this.pointsProvider=()=>r.map(s=>s.point),this.dataProvider=()=>({points:r.map(s=>s.id)}),this.color=n.style.color,this.visible=n.style.visible,this.lineWidth=n.style.strokeWidth??this.lineWidth}draw(t){const n=this.points;if(0===n.length)return;for(let r of n)if(void 0===r)return;n.push(n[0]);const i=-1!==t.selection.indexOf(this),o=_n(this.color,i?.5:.3);t.drawPath(n,{lineWidth:this.lineWidth,color:this.color,lineDash:xn(this.configuration.dashed),uniformSizeOnZoom:!0},{color:o}),-1!==t.selection.indexOf(this)&&t.drawPath(n,{lineWidth:this.lineWidth*cr,color:_n(this.color,.3),uniformSizeOnZoom:!0,lineDash:xn(this.configuration.dashed)})}static getDefaultInstance(){return new Bc(()=>[],[],()=>({points:[]}))}pointInPolygon(t){const n=this.points;if(0===n.length)return!1;for(let s of n)if(void 0===s)return!1;let i=n,o=!1;const r=n.length;for(let s=0,a=r-1;s<r;a=s++){const c=i[s].x,l=i[s].y,d=i[a].y;l>t.y!=d>t.y&&t.x<(i[a].x-c)*(t.y-l)/(d-l)+c&&(o=!o)}return o}getDistance(t,n){function i(c,l,u){const f=u.x-l.x,g=u.y-l.y,_=f*f+g*g,C=0!==_?((c.x-l.x)*f+(c.y-l.y)*g)/_:-1;let w,O;C<0?(w=l.x,O=l.y):C>1?(w=u.x,O=u.y):(w=l.x+C*f,O=l.y+C*g);const V=c.x-w,W=c.y-O;return Math.sqrt(V*V+W*W)}const r=this.points;if(0===r.length)return;for(let c of r)if(void 0===c)return;let s=r;return this.pointInPolygon(t)?0:function o(c,l){let u=1/0;const d=l.length;for(let h=0;h<d;h++){const v=i(c,l[h],l[(h+1)%d]);v<u&&(u=v)}return u}(t,s)}getPositionForLabel(t){const n=this.points;if(0===n.length)return;for(let r of n)if(void 0===r)return;let i=n;const o=r=>{let s=0;for(let a of r)s+=a;return s};return{x:o(i.map(r=>r.x))/i.length,y:o(i.map(r=>r.y))/i.length}}}const s1="definite_integral",a1="dependency_points",c1="linesegment",u1="dynamic_point",d1="compiled_point",p1="variable",v1="polygon";function n6(e){return e instanceof pt?"graph":e instanceof _e?"line":e instanceof Qt?"circle":e instanceof Vs?s1:e instanceof Co?d1:e instanceof Pt?a1:e instanceof Bt?c1:e instanceof Ee?u1:e instanceof K?"point":e instanceof vo?p1:e instanceof ar?"angle":e instanceof yo?"curve":e instanceof Bc?v1:"undefined"}const _1="serialized",C1=['"Cambria Math"',"Cambria",'"CMU Serif"',"serif"],y1="Ung\xfcltige Eingabe.",b1="Referenz einer unbekannten Funktion.";let Tn=(()=>{class e extends Sx{get mode(){return this._mode}set mode(n){this._mode=n,this.onModeChanged.emit(n)}getModeForPointerType(n){return this._mode}get backgroundColor(){return this._backgroundColor}set backgroundColor(n){this._backgroundColor=n,this.onBackgroundColorChanged.emit(n)}addCanvasElements(...n){for(let i of n)this._canvasElements.push(i),i.onChange.addListener(this.canvasElementOnChangeListener),i.onAdd.emit(this);this.onCanvasElementChanged.emit(n)}removeCanvasElements(...n){let i=!0;for(let o of n){const r=this._canvasElements.indexOf(o);r>=0?(this._canvasElements.splice(r,1),o.onChange.removeListener(this.canvasElementOnChangeListener),o.onRemove.emit(this)):i=!1}return this.onCanvasElementChanged.emit(n),i}emptyCanvasElements(){for(let n of this._canvasElements)n.onChange.removeListener(this.canvasElementOnChangeListener),n.onRemove.emit(this);this._canvasElements=[],this.onCanvasElementChanged.emit()}get canvasElements(){return this._canvasElements.slice()}addMetaDrawer(n){this._metaDrawers.push(n),this.onMetaDrawersChanged.emit(n)}removeMetaDrawer(n){const i=this._metaDrawers.indexOf(n);return i>=0&&(this._metaDrawers.splice(i,1),this.onMetaDrawersChanged.emit(n),!0)}emptyMetaDrawers(){this._metaDrawers=[],this.onMetaDrawersChanged.emit()}get metaDrawers(){return this._metaDrawers.slice()}set translateX(n){this._transformations.translateX=n,this.onTransformationsChanged.emit(n)}get translateX(){return this._transformations.translateX}set translateY(n){this._transformations.translateY=n,this.onTransformationsChanged.emit(n)}get translateY(){return this._transformations.translateY}set zoom(n){this._transformations.zoom=n,this.onTransformationsChanged.emit(n)}get zoom(){return this._transformations.zoom}get transformations(){return{translateX:this.translateX,translateY:this.translateY,zoom:this.zoom}}set transformations(n){this._transformations.zoom=n.zoom,this._transformations.translateX=n.translateX,this._transformations.translateY=n.translateY,this.onTransformationsChanged.emit(n)}get showGrid(){return this._showGrid}set showGrid(n){this._showGrid=n,this.onCanvasConfigChanged.emit(this.canvasConfig)}get showGridNumbers(){return this._showGridNumbers}set showGridNumbers(n){this._showGridNumbers=n,this.onCanvasConfigChanged.emit(this.canvasConfig)}get drawPointsEqually(){return this._drawPointsEqually}set drawPointsEqually(n){this._drawPointsEqually=!0===n,this.onCanvasConfigChanged.emit(this.canvasConfig)}get drawNewLabels(){return this._drawNewLabels}set drawNewLabels(n){this._drawNewLabels=n,this.onCanvasConfigChanged.emit(this.canvasConfig)}get canvasConfig(){return{showNumbers:this.showGridNumbers,showGrid:this.showGrid,drawPointsEqually:this.drawPointsEqually,drawNewLabels:this.drawNewLabels}}constructor(){super(),this._mode=new bi,this._backgroundColor={r:255,g:255,b:255},this._canvasElements=[],this._metaDrawers=[],this._transformations={translateX:7,translateY:-5,zoom:100},this._showGrid=!0,this._showGridNumbers=!0,this._drawPointsEqually=!1,this._drawNewLabels=!0,this.selection=new Mx,this.onBackgroundColorChanged=new le,this.onCanvasElementChanged=new le,this.onMetaDrawersChanged=new le,this.onTransformationsChanged=new le,this.onCanvasConfigChanged=new le,this.onBeforeRedraw=new le,this.onBeforeElementsDraw=new le,this.onAfterRedraw=new le,this.onModeChanged=new le,this.canvasElementOnChangeListener=n=>{this.onCanvasElementChanged.emit(n)},this.emptyCacheListener=()=>{this.funcCache.empty()},this.saveListener=()=>{localStorage[_1]=JSON.stringify(this.serialize())},this.funcCache=new jm,this.funcProvider=n=>{let i=this.funcCache.getItem(n);if(i)return i;for(let o of this.graphs)if(void 0!==o.func&&Vd(n)===Vd(o.func.name)){let r=o.func,s=Bd(r.name),a=Bd(n);if(s>a)continue;for(let c=0;c<a-s;c++)r=r.derive();return this.funcCache.setItem(n,r),r}},this.addMetaDrawer(new l8),this.onBackgroundColorChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.redrawListener),this.onTransformationsChanged.addListener(this.redrawListener),this.onMetaDrawersChanged.addListener(this.redrawListener),this.onCanvasConfigChanged.addListener(this.redrawListener),this.onModeChanged.addListener(this.redrawListener),this.selection.onSelectionChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onAfterRedraw.addListener(this.saveListener)}get renderingContext(){return this.getRenderingContextFor(this.canvas?.ctx,this._transformations)}getRenderingContextFor(n,i){return new wx(n,i,this.selection.toArray(),void 0,(o,r)=>void 0===r?.transformColor?o:r.transformColor(o),this.getVariables(),this.canvasConfig)}redraw(){this.canvas&&this.canvas.canvasEl&&this.canvas.wrapperEl&&this.canvas.ctx&&(this.onBeforeRedraw.emit(),this.drawToCanvas(this.canvas.canvasEl,this.canvas.wrapperEl.getBoundingClientRect(),this._transformations,!0),this.onAfterRedraw.emit())}tex2svg(n,i=pe){const o=MathJax.tex2svg(n).firstElementChild;return o.setAttributeNS(null,"color",Rt(i)),o}drawToCanvas(n,i,o,r=!1){const s=o.resolutionFactor??1,a=n.getContext("2d");a.canvas.width=i.width*s,a.canvas.height=i.height*s,a.fillStyle=Rt(this.backgroundColor),a.fillRect(0,0,n.width,n.height);let l,c=this.getRenderingContextFor(a,o);this.onBeforeElementsDraw.emit(c);for(let u of this._metaDrawers)u.draw(c);if(this.drawPointsEqually)l=this._canvasElements;else{const u=this._canvasElements.filter(f=>f instanceof K),d=this._canvasElements.filter(f=>f instanceof ar),h=this._canvasElements.filter(f=>!(f instanceof K||f instanceof ar));l=d.concat(h).concat(u)}for(let u of l)if(c.config&&r&&(c.config.transformColor=u.visible?void 0:this.mode?.transformInvisibleColor),u.visible||c.config?.transformColor){u.draw(c);const d=this.getLabelPoint(u,c),h=u.configuration.label;if(void 0!==d&&void 0!==h&&""!==h){const f=u.configuration.displayBlackLabel?pe:u.color,v=u.configuration.labelSizeFactor??1,_=()=>{c.drawText(h,d,{fontSize:[18*v,"pt"],fontFamily:C1,color:f,uniformSizeOnZoom:!0},{uniformSizeOnZoom:!0,color:this.selection.contains(u)?_n(f,.2):Vm,lineWidth:3})};if(MathJax&&!u.configuration.dontUseLaTeX)try{const C=w=>{c.drawImage(w,d,w.naturalWidth*v,w.naturalHeight*v,!0)};if(void 0===u.svgLabel){const w=this.tex2svg(h,f);let O=document.createElement("img");O.src="data:image/svg+xml;base64,"+btoa('<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n'+w.outerHTML),O.onload=V=>{u.svgLabel=V.target??void 0,u.svgLabel?C(u.svgLabel):_()}}else C(u.svgLabel)}catch{u.svgLabel=void 0,console.log("nenenenenene"),_()}else _()}}}zoomToBy(n,i){let o_y=-n.y/this.zoom*(1-1/i);this._transformations.translateX-=n.x/this.zoom*(1-1/i),this._transformations.translateY-=o_y,this.zoom*=i}get graphs(){return this.canvasElements.filter(n=>n instanceof pt)}get points(){return this.canvasElements.filter(n=>n instanceof K)}parseAndValidateOperation(n,i=!0,o=[]){try{let r=new Xx(n,this.funcProvider).parse();try{let s=Mv(r);if(i)for(let a of s.variableNames)-1===o.indexOf(a)&&this.addVariable(a);return r}catch{return b1}}catch{return y1}}parseAndValidateFunc(n,i=!0){try{let o=new k8(n,this.funcProvider).parse();try{if(zx(o))return"Eine Funktion darf nicht auf sich selbst verweisen.";let r=function t8(e){return Mv(e.operation)}(o);if(i)for(let s of r.variableNames)s!==o.variable&&(void 0!==o.variable||"x"!==s)&&this.addVariable(s);return o}catch{return b1}}catch{return y1}}get parseAndValidateProviderGraph(){return n=>this.parseAndValidateFunc(n)}addVariable(n,i=!0){if(!this.hasVariable(n)){const o=new vo(n,0);let r=()=>{let s=!1;for(let a of this.canvasElements)if(a instanceof pt?s=s||void 0!==a.func&&a.func.variable!==o.key&&(void 0!==a.func.variable||"x"!==o.key)&&yi(a.func,o.key):a instanceof Co?s=s||yi(a.xOperation,o.key)||yi(a.yOperation,o.key):a instanceof yo&&(s=s||yi(a.topOperation,o.key)||yi(a.bottomOperation,o.key),s=s||a.parameter!==o.key&&yi(a.xOperation,o.key),s=s||a.parameter!==o.key&&yi(a.yOperation,o.key)),s)return;s||(this.onCanvasElementChanged.removeListener(r),this.removeCanvasElements(o))};return this.addCanvasElements(o),i&&this.onCanvasElementChanged.addListener(r),o}}getNewColor(){return function Q4(e,t,n){let i=t.slice(),o=0,r=s=>n(e[o%e.length],s);for(;Um(i,r);o++){const s=Y4(i,r);i.splice(s,1)}return e[o%e.length]}(_d,this.canvasElements.map(n=>n.color),(n,i)=>vd(n,i))}getVariables(){let n={};for(let i of this.canvasElements)i instanceof vo&&(n[i.key]=i.value);return n}hasVariable(n){for(let i of this.canvasElements)if(i instanceof vo&&i.key===n)return!0;return!1}getLabelPoint(n,i){const o=n.getPositionForLabel(i);if(void 0!==o&&void 0!==n.configuration.label&&n.configuration.showLabel){if(i.config?.drawNewLabels){const r=i.zoom,s={x:n.labelTranslate.x/r,y:n.labelTranslate.y/r};return{x:o.x+s.x,y:o.y+s.y}}{const r=i.range,s={x:Math.abs(r.width)*n.labelTranslate.x,y:Math.abs(r.height)*n.labelTranslate.y};return{x:o.x+s.x,y:o.y+s.y}}}}getSelection(n,i=(()=>!0),o=!0){let s,a,r=this.renderingContext;const c=u=>{const d=this.getLabelPoint(u,r);if(void 0===u.configuration.label||void 0===d)return;const h=u.configuration.labelSizeFactor??1;let f=0,g=0;return u.configuration.dontUseLaTeX||void 0===u.svgLabel?(f=r.measureText(u.configuration.label,{fontSize:[18,"pt"],fontFamily:C1,color:pe,uniformSizeOnZoom:!0}).width/r.zoom*h,g=18/r.zoom*h):(f=u.svgLabel.width/r.zoom*h,g=-u.svgLabel.height/r.zoom*h),ZS(n,{...d,width:f,height:g})};for(let u of this.canvasElements){const d=H4(u.getDistance(n,r),c(u));if(null!=d&&isFinite(d)&&i(u)&&(u.visible||!o)){let h=void 0===s;h=h||d<=s,h&&(s=d,a=u)}}return void 0!==s&&10<s*this.zoom&&(a=void 0,s=void 0),a}setSelection(n,i=!0,o=(()=>!0)){const r=this.getSelection(n,o);i?this.selection.set(r):this.selection.alternate(r)}serialize(){return function e6(e){const t=[];for(let n of e.canvasElements){const o={...n.serialize(),id:n.id,configuration:n.configuration,type:n6(n),translateLabel:n.labelTranslate};t.push(o)}return{canvasElements:t,backgroundColor:e.backgroundColor,transformations:e.transformations,showGrid:e.showGrid,showGridNumbers:e.showGridNumbers,drawPointsEqually:e.drawPointsEqually,drawNewLabels:e.drawNewLabels}}(this)}loadFrom(n){!function i6(e,t){e.showGridNumbers=t.showGridNumbers,e.showGrid=t.showGrid,e.drawPointsEqually=t.drawPointsEqually,e.transformations=t.transformations,e.backgroundColor=t.backgroundColor,e.drawNewLabels=t.drawNewLabels??!1,e.emptyCanvasElements();const n={};for(let i of t.canvasElements){let o;"circle"===i.type?o=Qt.getDefaultInstance():i.type===s1?o=Vs.getDefaultInstance():i.type===d1?o=Co.getDefaultInstanceWithDrawerService(e):i.type===a1?o=Pt.getDefaultInstance(e):i.type===c1?o=Bt.getDefaultInstance():"graph"===i.type?o=pt.getDefaultInstance(e):i.type===u1?o=Ee.getDefaultInstance():"point"===i.type?o=K.getDefaultInstance():"line"===i.type?o=_e.getDefaultInstance():i.type===p1?o=vo.getDefaultInstance():"angle"===i.type?o=ar.getDefaultInstance():"curve"===i.type?o=yo.getDefaultInstance(e):i.type===v1&&(o=Bc.getDefaultInstance()),void 0!==o&&(o.configuration=i.configuration,o.labelTranslate=i.translateLabel,o.svgLabel=void 0,n[i.id]=o)}for(let i of t.canvasElements){const o=n[i.id];void 0!==o&&o.loadFrom(n,i,e)}e.addCanvasElements(...Object.values(n).filter(i=>void 0!==i));for(let i of e.graphs)i.reparseIfNecessary();e.redraw()}(this,n)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const r6=e=>({notLast:e});function s6(e,t){if(1&e&&(p(0,"span"),b(1," von "),p(2,"span",12),b(3),m()()),2&e){const n=H(2);y(3),fe(n.dialogData.description[1]())}}function a6(e,t){if(1&e){const n=mt();p(0,"div",15)(1,"p",16),b(2),m(),p(3,"button",17),N("click",function(){const o=ae(n).$implicit;return ce(H(3).addPointToDrawerService(o))}),A(4,"img",18),m()()}if(2&e){const n=t.$implicit;T("ngClass",Ct(3,r6,!t.last)),y(2),Ya("(",n.x.toLocaleString(),"|",n.y.toLocaleString(),")")}}function c6(e,t){if(1&e&&(p(0,"div",13)(1,"p",4),b(2,"Ergebnisse:"),m(),Re(3,a6,5,5,"div",14),m()),2&e){const n=H(2);y(3),T("ngForOf",n.dialogData.points)}}function l6(e,t){1&e&&(p(0,"div",19),b(1,"Es wurden keine Elemente gefunden."),m())}function u6(e,t){if(1&e){const n=mt();p(0,"div",1)(1,"p",2),b(2),Re(3,s6,4,1,"span",3),m(),p(4,"p",4),b(5,"Im Intervall"),m(),p(6,"p",5)(7,"app-interval",6),k("fromChange",function(o){ae(n);const r=H();return x(r.dialogData.from,o)||(r.dialogData.from=o),ce(o)})("toChange",function(o){ae(n);const r=H();return x(r.dialogData.to,o)||(r.dialogData.to=o),ce(o)}),m()(),p(8,"p",4),b(9,"mit der Suchtiefe:"),m(),p(10,"p",7)(11,"input",8),k("ngModelChange",function(o){ae(n);const r=H();return x(r.dialogData.depth,o)||(r.dialogData.depth=o),ce(o)}),m()(),Re(12,c6,4,1,"div",9)(13,l6,2,0,"div",10),p(14,"button",11),N("click",function(){return ae(n),ce(H().dialog.close())}),b(15,"Schlie\xdfen"),m()()}if(2&e){const n=H();y(2),gn(" ",n.dialogData.description[0],""),y(),T("ngIf",void 0!==n.dialogData.description[1]()),y(4),I("from",n.dialogData.from)("to",n.dialogData.to),y(4),I("ngModel",n.dialogData.depth),y(),T("ngIf",0!==n.dialogData.size),y(),T("ngIf",0===n.dialogData.size)}}let d6=(()=>{class e extends sr{constructor(n){super(),this.drawerService=n}addPointToDrawerService(n){this.drawerService.addCanvasElements(new K(n,this.drawerService.getNewColor()))}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-dependency-point-elements-dialog"]],features:[z],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"paragraph","heading"],[4,"ngIf"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],[1,"centered","maths"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["class","pointWrappers",4,"ngIf"],["class","paragraph defaultMargin pointsNotFoundMessage",4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"maths"],[1,"pointWrappers"],["class","point",3,"ngClass",4,"ngFor","ngForOf"],[1,"point",3,"ngClass"],[1,"maths","paragraph","pointParagraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],["src","assets/plus.svg","alt","icon",1,"icon"],[1,"paragraph","defaultMargin","pointsNotFoundMessage"]],template:function(i,o){1&i&&Re(0,u6,16,7,"div",0),2&i&&T("ngIf",void 0!==o.dialogData)},dependencies:[Un,ps,gs,qe,Cn,Ye,We,Gd],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.defaultMargin[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}.pointParagraph[_ngcontent-%COMP%]{line-height:46px;margin-top:0;margin-bottom:0}.maths[_ngcontent-%COMP%]{font-size:16pt!important}.point[_ngcontent-%COMP%]{width:290px;padding:7px}.notLast[_ngcontent-%COMP%]{border-bottom:1px solid #dfd7d2}.pointWrappers[_ngcontent-%COMP%]{margin-bottom:16px;max-height:400px;overflow-y:auto}.input[_ngcontent-%COMP%]{width:50px;display:unset}.pointsNotFoundMessage[_ngcontent-%COMP%]{width:290px;padding:7px}']})}return e})();const zc="__dependencyPointElements__",w1="intersectionpoints",M1="zeropoints",D1="extremumpoints",E1="inflectionpoints";class Pt extends rr{get points(){return this.pointElements.map(t=>t.point)}get stroke(){return this._stroke}set stroke(t){this._stroke=t,this.onChange.emit(zc)}get strokeWidth(){return this._strokeWidth}set strokeWidth(t){this._strokeWidth=t,this.onChange.emit(zc)}get radius(){return this._radius}set radius(t){this._radius=t,this.onChange.emit(zc)}get size(){return this.pointElements.length}get from(){return this._from}set from(t){this._from=t,this.onChange.emit(t)}get to(){return this._to}set to(t){this._to=t,this.onChange.emit(t)}get depth(){return this._depth}set depth(t){this._depth=t,this.onChange.emit(t)}constructor(t,n,i,o,r,s,a,c,l=pe,u=!0,d,h=!0){super(),this.drawerService=t,this.pointsProvider=n,this.dependencyStillActive=s,this.description=a,this.subTypeAndGraphsProvider=c,this.firstInit=d,this.componentType=J$,this.formulaDialogType=d6,this.pointElements=[],this.initializedYet=!1,this.correctVersion=0,this.drawnVersion=0,this._stroke={r:100,g:100,b:100},this._strokeWidth=3,this._radius=5,this.reloadListener=f=>{f!==zc&&f!==this&&this.reload().catch(g=>console.error(g))},this.removeListener=()=>{this.drawerService.onCanvasElementChanged.removeListener(this.reloadListener)},this._color=l,this._visible=u,this._from=i,this._to=o,this._depth=r,h&&(this.onRemove.addListener(this.removeListener),this.drawerService.onCanvasElementChanged.addListener(this.reloadListener))}reload(){var t=this;return Us(function*(){if(t.dependencyStillActive())return t.correctVersion++,new Promise((n,i)=>{setTimeout(()=>{try{const o=t.pointsProvider(t.from,t.to,t.depth);if(!t.initializedYet&&t.firstInit&&t.firstInit(o),t.initializedYet=!0,t.pointElements.length<o.length){const r=o.length-t.pointElements.length;for(let s=0;s<r;s++)t.createPointElement()}else if(t.pointElements.length>o.length){const r=t.pointElements.length-o.length;for(let s=0;s<r;s++)t.pointElements.pop()}for(let r=0;r<o.length;r++)t.pointElements[r].forceSetPoint(o[r]);t.drawnVersion++,t.onChange.emit(zc),n()}catch(o){t.drawnVersion++,i(o)}})});t.drawerService.removeCanvasElements(t)})()}createPointElement(t={x:0,y:0}){const n=new K(t,this.color,!0);return n.radius=this.radius,n.stroke=this.stroke,n.strokeWidth=this.strokeWidth,this.pointElements.push(n),n}draw(t){if(this.correctVersion===this.drawnVersion){const n=-1!==t.selection.indexOf(this);for(let i of this.pointElements)i.color=this.color,i.radius=this.radius,i.stroke=this.stroke,i.strokeWidth=this.strokeWidth,i.selected=n,i.draw(t)}}getDistance(t,n){return Math.min(...this.pointElements.map(i=>i.getDistance(t,n)).filter(i=>void 0!==i))}static createIntersectionPoints(t,n,i,o,r,s,a,c,l=!0){a=a??t.getNewColor();const u=wv+0;return new Pt(t,(d,h,f)=>{if(void 0===n.func)return[];const g=C=>w=>{if(void 0===C.func)throw"can't use bad function";let O=C.func;const he=Bd(w)-(C.func.name?Bd(C.func.name):0);if(he<0)throw"can't integrate";for(let je=0;je<he;je++)O=O.derive();return O},v=new Hi(new $i(new Gi(n.func?.name??"",g(n),new On(u)),new Gi(i.func?.name??"",g(i),new On(u))),void 0,"x"),_=t.getVariables();return Rc(v,_,d,h,f).map(C=>({x:C,y:n.func.evaluate(C,_)}))},o,r,s,()=>{let d=!1,h=!1;for(let f of t.canvasElements)f===n?d=!0:f===i&&(h=!0);return d&&h},["Schnittpunkte",()=>void 0!==n.func&&n.func.name&&i.func?.name?`${n.func.name}, ${i.func.name}`:void 0],()=>({graph:n.id,secondGraph:i.id,subType:w1}),a,!0,c,l)}static createZeroPoints(t,n,i,o,r,s,a=!0){return Pt.createDependencyPointElements(t,n,(c,l,u)=>void 0===n.func?[]:function i8(e,t,n,i,o){return Rc(e,t,n,i,o).map(r=>({x:r,y:e.evaluate(r,t)}))}(n.func,t.getVariables(),c,l,u),i,o,r,M1,"Nullpunkt",s,a)}static createExtremumPoints(t,n,i,o,r,s,a=!0){return n.func.derive(),Pt.createDependencyPointElements(t,n,(c,l,u)=>void 0===n.func?[]:function o8(e,t,n,i,o){return jx(e,t,n,i,o).map(r=>({x:r,y:e.evaluate(r,t)}))}(n.func,t.getVariables(),c,l,u),i,o,r,D1,"Extrempunkt",s,a)}static createInflectionPoints(t,n,i,o,r,s,a=!0){return n.func.derive(),Pt.createDependencyPointElements(t,n,(c,l,u)=>void 0===n.func?[]:function s8(e,t,n,i,o){return function r8(e,t,n,i,o){return jx(e.derive(),t,n,i,o)}(e,t,n,i,o).map(r=>({x:r,y:e.evaluate(r,t)}))}(n.func,t.getVariables(),c,l,u),i,o,r,E1,"Wendepunkt",s,a)}static createDependencyPointElements(t,n,i,o,r,s,a,c,l,u=!0){return new Pt(t,i,o,r,s,function U$(e,t){return()=>{for(let n of e.canvasElements)if(n===t)return!0;return!1}}(t,n),function j$(e,t){return[e,()=>t.func?.name]}(`${c}e`,n),()=>({graph:n.id,subType:a}),n.color,!0,l,u)}static getDefaultInstance(t){return new Pt(t,()=>[],0,0,1,()=>!0,["",()=>{}],()=>({subType:"",graph:-1}),pe,!0,void 0,!0)}serialize(){const t=this.subTypeAndGraphsProvider();return{subType:t.subType,data:{graph:t.graph,secondGraph:t.secondGraph,depth:this.depth,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,size:this.radius,visible:this.visible}}}loadFrom(t,n){const i=n.data;this.color=n.style.color,this.stroke=n.style.stroke,this.radius=n.style.size,this.strokeWidth=n.style.strokeWidth,this.visible=n.style.visible,this.depth=i.depth,this.from=i.from,this.to=i.to;const o=t[i.graph],r=void 0===i.secondGraph?void 0:t[i.secondGraph];let s;if(n.subType===w1&&o instanceof pt&&r instanceof pt)s=Pt.createIntersectionPoints(this.drawerService,o,r,i.from,i.to,i.depth,void 0,void 0,!1);else if(n.subType===M1&&o instanceof pt)s=Pt.createZeroPoints(this.drawerService,o,i.from,i.to,i.depth,void 0,!1);else if(n.subType===D1&&o instanceof pt)s=Pt.createExtremumPoints(this.drawerService,o,i.from,i.to,i.depth,void 0,!1);else{if(!(n.subType===E1&&o instanceof pt))throw"not known subtype";s=Pt.createInflectionPoints(this.drawerService,o,i.from,i.to,i.depth,void 0,!1)}this.pointsProvider=s.pointsProvider,this.dependencyStillActive=s.dependencyStillActive,this.description=s.description,this.subTypeAndGraphsProvider=s.subTypeAndGraphsProvider,this.draw=s.draw}}let h6=(()=>{class e{get depth(){return this._depth}set depth(n){this._depth=Math.floor(n)}constructor(n,i){this.drawerService=n,this.snackbarService=i,this.from=-1,this.to=1,this._depth=10}evaluateZeroPoints(){try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Pt.createZeroPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,n=>{Nd(this.snackbarService,"Nullpunkt",n.length)}))}catch{Rd(this.snackbarService)}this.dialog.close()}evaluateExtremumPoints(){try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Pt.createExtremumPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,n=>{Nd(this.snackbarService,"Extrempunkt",n.length)}))}catch{Rd(this.snackbarService)}this.dialog.close()}evaluateInflectionPoints(){try{if(this.dialogData&&this.dialogData.graph){const n=Pt.createInflectionPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,i=>{Nd(this.snackbarService,"Wendepunkt",i.length)});this.drawerService.addCanvasElements(n)}}catch{Rd(this.snackbarService)}this.dialog.close()}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn),D(Ac))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-func-analyser-dialog"]],decls:24,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"maths","heading"],[1,"centered","maths"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Extrempunkte berechnen",1,"button","floatRight",3,"click"],["title","Nullpunkte berechnen",1,"button","floatRight",3,"click"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Wendepunkte berechnen",1,"button","floatRight",3,"click"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Funktion "),p(3,"span",2),b(4),m(),b(5,"analysieren:"),m(),p(6,"p",3),b(7),m(),p(8,"p",4),b(9,"Im Intervall"),m(),p(10,"p",5)(11,"app-interval",6),k("fromChange",function(s){return x(o.from,s)||(o.from=s),s})("toChange",function(s){return x(o.to,s)||(o.to=s),s}),m()(),p(12,"p",4),b(13,"mit der Suchtiefe:"),m(),p(14,"p",3)(15,"input",7),k("ngModelChange",function(s){return x(o.depth,s)||(o.depth=s),s}),m()(),p(16,"button",8),N("click",function(){return o.evaluateExtremumPoints()}),b(17,"Extrempunkte"),m(),p(18,"button",9),N("click",function(){return o.evaluateZeroPoints()}),b(19,"Nullpunkte"),m(),p(20,"button",10),N("click",function(){return o.dialog.close()}),b(21,"Schlie\xdfen"),m(),p(22,"button",11),N("click",function(){return o.evaluateInflectionPoints()}),b(23,"Wendepunkte"),m()()),2&i&&(y(4),fe(null!=o.dialogData&&null!=o.dialogData.graph&&null!=o.dialogData.graph.func&&o.dialogData.graph.func.name?(null==o.dialogData||null==o.dialogData.graph||null==o.dialogData.graph.func?null:o.dialogData.graph.func.name)+" ":""),y(3),fe(null==o.dialogData||null==o.dialogData.graph||null==o.dialogData.graph.func?null:o.dialogData.graph.func.operationAsString),y(4),I("from",o.from)("to",o.to),y(4),I("ngModel",o.depth))},dependencies:[qe,Cn,Ye,We,Gd],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})}return e})(),f6=(()=>{class e{get depth(){return this._depth}set depth(n){this._depth=Math.floor(n)}constructor(n,i){this.drawerService=n,this.snackbarService=i,this.from=-1,this.to=1,this._depth=10}getFuncName(n){return n&&void 0!==n.func&&n.func.name?` ${n.func.name}`:""}evaluateIntersectionPoints(){let n=!1;try{this.dialogData&&this.dialogData.graph1&&this.dialogData.graph2?this.drawerService.addCanvasElements(Pt.createIntersectionPoints(this.drawerService,this.dialogData.graph1,this.dialogData.graph2,this.from,this.to,this.depth,this.dialogData.color,s=>{Nd(this.snackbarService,"Schnittpunkt",s.length)})):n=!0}catch{n=!0}n&&Rd(this.snackbarService),this.dialog.close()}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn),D(Ac))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-intersection-dialog"]],decls:29,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"maths"],[1,"centered","maths"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Schnittpunkte berechnen",1,"button","floatRight",3,"click"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"p",1),b(2,"Schnittpunkte berechnen"),m(),p(3,"p",2),b(4,"Von"),p(5,"span",3),b(6),m(),b(7,":"),m(),p(8,"p",4),b(9),m(),p(10,"p",2),b(11,"Und"),p(12,"span",3),b(13),m(),b(14,":"),m(),p(15,"p",4),b(16),m(),p(17,"p",2),b(18,"Im Intervall"),m(),p(19,"p",5)(20,"app-interval",6),k("fromChange",function(s){return x(o.from,s)||(o.from=s),s})("toChange",function(s){return x(o.to,s)||(o.to=s),s}),m()(),p(21,"p",2),b(22,"mit der Suchtiefe:"),m(),p(23,"p",4)(24,"input",7),k("ngModelChange",function(s){return x(o.depth,s)||(o.depth=s),s}),m()(),p(25,"button",8),N("click",function(){return o.dialog.close()}),b(26,"Schlie\xdfen"),m(),p(27,"button",9),N("click",function(){return o.evaluateIntersectionPoints()}),b(28,"Schnittpunkte"),m()()),2&i&&(y(6),fe(o.getFuncName(null==o.dialogData?null:o.dialogData.graph1)),y(3),fe(null==o.dialogData||null==o.dialogData.graph1||null==o.dialogData.graph1.func?null:o.dialogData.graph1.func.operationAsString),y(4),fe(o.getFuncName(null==o.dialogData?null:o.dialogData.graph2)),y(3),fe(null==o.dialogData||null==o.dialogData.graph2||null==o.dialogData.graph2.func?null:o.dialogData.graph2.func.operationAsString),y(4),I("from",o.from)("to",o.to),y(4),I("ngModel",o.depth))},dependencies:[qe,Cn,Ye,We,Gd],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})}return e})();const p6=e=>({error:e});let g6=(()=>{class e extends Wn{constructor(n,i){super(),this.drawerService=n,this.dialogService=i,this.canvasElement=pt.getDefaultInstance(n)}get contextMenu(){return{elements:()=>{const n=this.drawerService.selection.toArray(),i=-1!==n.indexOf(this.canvasElement)&&2===n.length&&n[0]instanceof pt&&n[1]instanceof pt;return[{header:"Ableiten",click:()=>{const r=this.canvasElement.derive(this.drawerService.getNewColor());void 0!==r&&this.drawerService.addCanvasElements(r)},disabled:!this.canvasElement.canDerive()||this.canvasElement.funcError,icon:"south_east",title:"Diese Funktion ableiten."},{header:"Duplizieren",icon:"content_copy",disabled:this.canvasElement.funcError,click:()=>{try{this.drawerService.addCanvasElements(this.canvasElement.clone())}catch{}},title:"Diese Funktion duplizieren."},{header:"Analysieren",icon:"query_stats",click:()=>{this.dialogService.createDialog(h6)?.open({graph:this.canvasElement})},title:"Nullpunkte, Extrempunkte oder Wendepunkte dieser Funktion bestimmen."},{header:"Bestimmtes Integral",click:()=>{this.drawerService.addCanvasElements(new Vs(this.canvasElement,void 0,-1,1,.1,this.canvasElement.color))},icon:"monitoring"},{header:"Schnittpunkte bestimmen",disabled:!i,click:()=>{i&&this.dialogService.createDialog(f6)?.open({graph1:n[0],graph2:n[1]})},title:i?"Schnittpunkte der beiden ausgew\xe4hlten Funktionen berechnen.":"Um Schnittpunkte zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"multiline_chart"},{header:"Fl\xe4che zwischen Graphen",disabled:!i,click:()=>{i&&this.drawerService.addCanvasElements(new Vs(n[0],n[1],-1,1,.1,this.drawerService.getNewColor()))},title:i?"Fl\xe4che zwischen den Graphen der beiden ausgew\xe4hlten Funktionen berechnen.":"Um die Fl\xe4che zwischen den Graphen zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"stacked_line_chart"}]},additionalEvent:this.threePointsClickedEvent}}get color(){return Rt(this.canvasElement.color)}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn),D(er))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-graph-formula"]],features:[z],decls:6,vars:8,consts:[["inp",""],[1,"wrapper",3,"ngClass"],[3,"colorChange","visibleChange","color","visible"],["autocomplete","off",1,"input",3,"ngModelChange","title","ngModel","disabled"],[1,"iconButton","depositionTop","floatRight",3,"click"],["src","assets/threeDots.svg","alt","button",1,"icon"]],template:function(i,o){if(1&i){const r=mt();p(0,"div",1)(1,"app-color-circle",2),k("colorChange",function(a){return ae(r),x(o.canvasElement.color,a)||(o.canvasElement.color=a),ce(a)})("visibleChange",function(a){return ae(r),x(o.canvasElement.visible,a)||(o.canvasElement.visible=a),ce(a)}),m(),p(2,"input",3,0),k("ngModelChange",function(a){return ae(r),x(o.canvasElement.funcText,a)||(o.canvasElement.funcText=a),ce(a)}),m(),p(4,"button",4),N("click",function(a){return ae(r),ce(o.threePointsClicked(a))}),A(5,"img",5),m()()}if(2&i){let r;T("ngClass",Ct(6,p6,o.canvasElement.funcError)),y(),I("color",o.canvasElement.color)("visible",o.canvasElement.visible),y(),T("title",null!==(r=o.canvasElement.funcErrorText)&&void 0!==r?r:""),I("ngModel",o.canvasElement.funcText),T("disabled",!o.canvasElement.configuration.editable)}},dependencies:[Un,qe,Ye,We,or],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--margin: 16px}.wrapper.error[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:#fcc!important}.input[_ngcontent-%COMP%]{--padding: 7px;width:calc(100% - 2 * (var(--padding) + var(--buttonSize) + var(--margin)));margin-left:calc(var(--margin) + var(--buttonSize))}']})}return e})();function S1(e,t,n){const i=(t.y-n.y)/(t.x-n.x),o=(e.y+e.x/i-t.y+i*t.x)/(i+1/i);return Math.sqrt((e.x-o)**2+(e.y-(i*o+t.y-i*t.x))**2)}const Uc=.3,cr=2.5;class pt extends rr{get func(){return this._func}get funcText(){return this._funcText}set funcText(t){this._funcText=t,this.reparse(),this.onChange.emit(t)}get funcErrorText(){return this._funcErrorText}get funcError(){return void 0!==this.funcErrorText}constructor(t,n,i={r:0,g:0,b:0},o=!0,r=3,s=!0){super(),this.parseAndValidateProvider=t,this.lineWidth=r,this.componentType=g6,this.formulaDialogType=void 0,this._funcText="0",n instanceof Hi?(this._func=n,this.configuration.label=n?.name,this._funcText=n.operationAsString):"string"==typeof n&&(this._funcText=n),this.configuration.showLabel=s,this.svgLabel=void 0,this._color=i,this._visible=o}draw(t){if((this.funcError||void 0===this.func)&&this.reparse(),this.funcError||void 0===this.func)return;const n=[];let i=[];const o=t.range,r=t.step;let s=r;const a=-1!==t.selection.indexOf(this),c=_n(this._color,Uc),l=this.lineWidth*cr,u=(v,_)=>{if(void 0!==_){const C=v/(0===_?1:_);if(Math.abs(v)>10){if(C<0)return!0;if(C>15)return!0}}return!1},d=v=>{try{const _=this._func.evaluate(v,t.variables);if(isFinite(_))return{x:v,y:_}}catch{}};let h,f,g;for(let v=o.x;v<o.x+o.width;v+=s){let _=!1;const C=d(v);if(C||(_=!0,g=void 0),C&&f){const w=(C.y-f.y)/(C.x-f.x);_=_||u(w,h),h=_?void 0:w,s=r/Math.min(Math.max(1,Math.abs(w/5)),15)}if(C&&!Ec(C,o)){if(g||v===o.x){if(!_&&g&&rt(o.y,g.y,C.y)){const O=d((g.x+C.x)/2);O&&rt(O.y,g.y,C.y)&&i.push(g,O,C)}_=!0}g=C}else C&&(g&&void 0!==h&&!_&&(i.push(g),h=(C.y-g.y)/(C.x-g.x)),g=void 0);C&&!_&&i.push(C),f=C,_&&0!=i.length&&(n.push(i),i=[])}0!=i.length&&n.push(i);for(let v of n)t.drawPath(v,{lineWidth:this.lineWidth,color:this._color,uniformSizeOnZoom:!0,lineDash:xn(this.configuration.dashed)}),a&&t.drawPath(v,{lineWidth:l,color:c,uniformSizeOnZoom:!0,lineDash:xn(this.configuration.dashed)})}getDistance(t,n){try{const i=t.x-n.step,o=t.x,r=t.x+n.step,s={x:i,y:this.func.evaluate(i,n.variables)},a={x:o,y:this.func.evaluate(o,n.variables)},c={x:r,y:this.func.evaluate(r,n.variables)};let l=S1(t,s,a),u=S1(t,a,c);if(l=isFinite(l)?l:1/0,u=isFinite(u)?u:1/0,l!==1/0||u!==1/0)return Math.min(l,u)}catch{}try{return Math.abs(t.y-this.func.evaluate(t.x,n.variables))}catch{}}static getDefaultInstance(t){return new pt(t.parseAndValidateProviderGraph)}serialize(){return{data:{formula:this.funcText},style:{color:this.color,visible:this.visible,size:this.lineWidth}}}loadFrom(t,n,i){this.color=n.style.color,this.visible=n.style.visible,this.lineWidth=n.style.size??this.lineWidth;const o=n.data;try{void 0!==o.formula&&(this._funcText=o.formula)}catch{}}reparse(){const t=this.parseAndValidateProvider(this._funcText);return t instanceof Hi?(this._func=t,this._funcErrorText=void 0,this.configuration.label=t.name,this.svgLabel=void 0,!0):(this._func=void 0,this._funcErrorText=t,this.configuration.label=void 0,this.svgLabel=void 0,!1)}reparseIfNecessary(){return!this.funcError&&void 0!==this.func||this.reparse()}getPositionForLabel(t){const n=Gn(t.range);try{const r=n.x+.6*n.width;return{x:r,y:this.func.evaluate(r)+.05*n.height}}catch{return}}clone(){const t=new pt(this.parseAndValidateProvider,this.funcText,this.color,this.visible,this.lineWidth,this.configuration.showLabel);return t.configuration={...this.configuration},t.svgLabel=void 0,t}derive(t){try{let n=new pt(this.parseAndValidateProvider,this.func?.derive(),t??this.color);return n.configuration.editable=!0,n}catch{return}}canDerive(){try{return void 0!==this.func&&(this.func.derive(),!0)}catch{return!1}}}const m6=["formula"],v6=e=>({selected:e});let _6=(()=>{class e{constructor(n,i){this.drawerService=n,this.dialogService=i}ngAfterViewInit(){setTimeout(()=>{this.formulaElementComp=this.formula.createComponent(this.canvasElement.componentType).instance,this.formulaElementComp.canvasElement=this.canvasElement})}get selected(){return this.drawerService.selection.contains(this.canvasElement||void 0)}getContextMenuElementsFromFormulaElement(){return this.formulaElementComp?this.formulaElementComp.contextMenu.elements():[]}get completeContextMenu(){return{elements:()=>{const i=this.selected,o=[...void 0!==this.canvasElement.formulaDialogType?[{header:"Anzeigen",click:()=>{this.dialogService.createDialog(this.canvasElement.formulaDialogType)?.open(this.canvasElement)},icon:"visibility",title:"Element anzeigen und bearbeiten."}]:[],...this.getContextMenuElementsFromFormulaElement(),{header:i?"Auswahl entfernen":"Ausw\xe4hlen",click:()=>{this.drawerService.selection.alternate(this.canvasElement||void 0)},icon:i?"remove_done":"done",title:"Dieses Element ausw\xe4hlen."},{header:"L\xf6schen",color:"red",click:()=>{this.drawerService.removeCanvasElements(this.canvasElement)},icon:"delete",title:"Dieses Element l\xf6schen."}];return i&&o.push({header:"Auswahl l\xf6schen",click:()=>{this.drawerService.removeCanvasElements(...this.drawerService.selection.toArray())},color:"red",icon:"delete_sweep",title:"Alle ausgew\xe4hlten Elemente l\xf6schen."}),o},additionalEvent:this.formulaElementComp?.contextMenu.additionalEvent,defaultPopUpPosition:this.formulaElementComp?.contextMenu.defaultPopUpPosition}}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn),D(er))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-formula-element"]],viewQuery:function(i,o){if(1&i&&St(m6,5,nt),2&i){let r;vt(r=_t())&&(o.formula=r.first)}},inputs:{canvasElement:"canvasElement"},decls:3,vars:4,consts:[["formula",""],[1,"wrapper",3,"appContextMenu","ngClass"],[1,"formula"]],template:function(i,o){1&i&&(p(0,"div",1),A(1,"div",2,0),m()),2&i&&T("appContextMenu",o.completeContextMenu)("ngClass",Ct(2,v6,o.selected))},dependencies:[Un,Nc],styles:[".wrapper[_ngcontent-%COMP%]{padding:15px;background:#fff7f2;border:1px solid transparent;border-bottom:1px solid #dfd7d2}.selected[_ngcontent-%COMP%]{border:1px solid black;border-radius:7px}.formula[_ngcontent-%COMP%]{display:none}"]})}return e})();function C6(e,t){1&e&&A(0,"app-formula-element",3),2&e&&T("canvasElement",t.$implicit)}let y6=(()=>{class e{constructor(n){this.drawerService=n,this.contextMenu={elements:()=>[{header:"Funktion hinzuf\xfcgen",click:()=>{this.addGraph()},icon:"show_chart",title:"Eine Funktion hinzuf\xfcgen."},{header:"Punkt hinzuf\xfcgen",click:()=>{this.addPoint()},icon:"radio_button_checked",title:"Einen Punkt hinzuf\xfcgen."},{header:"Kurve hinzuf\xfcgen",click:()=>{this.addCurve()},icon:"gesture",title:"Eine Kurve hinzuf\xfcgen."},{header:"Alle l\xf6schen",click:()=>{this.drawerService.emptyCanvasElements()},icon:"delete",color:"red",title:"Alle Elemente l\xf6schen."}]}}ngOnInit(){}addClick(){this.addGraph()}keyboardAdd(n){("Enter"==n.key||" "==n.key)&&this.addClick()}addGraph(){const n=new pt(this.drawerService.parseAndValidateProviderGraph,void 0,this.drawerService.getNewColor());n.configuration.formula="0",n.configuration.editable=!0,this.drawerService.addCanvasElements(n)}addPoint(){const n=new Co(i=>this.drawerService.parseAndValidateOperation(i),this.drawerService.getNewColor());this.drawerService.addCanvasElements(n)}addCurve(){const n=new yo((i,o)=>this.drawerService.parseAndValidateOperation(i,!0,o),this.drawerService.getNewColor());this.drawerService.addCanvasElements(n)}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-formula-tab"]],decls:6,vars:2,consts:[[3,"canvasElement",4,"ngFor","ngForOf"],["tabindex","0",1,"addDiv",3,"click","keydown","appContextMenu"],[1,"material-symbols-outlined"],[3,"canvasElement"]],template:function(i,o){1&i&&(Re(0,C6,1,1,"app-formula-element",0),p(1,"div",1),N("click",function(){return o.addClick()})("keydown",function(s){return o.keyboardAdd(s)}),p(2,"p")(3,"span",2),b(4,"add"),m(),b(5," Hinzuf\xfcgen "),m()()),2&i&&(T("ngForOf",o.drawerService.canvasElements),y(),T("appContextMenu",o.contextMenu))},dependencies:[ps,Nc,_6],styles:['.addDiv[_ngcontent-%COMP%]{height:62px;background:#fff7f2;transition:.1s all ease-in-out;line-height:62px;border-bottom:1px solid #dfd7d2}.addDiv[_ngcontent-%COMP%]:hover{background:#efe7e2}.addDiv[_ngcontent-%COMP%]:active{background:#dfd7d2}p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;-webkit-user-select:none;user-select:none;margin:0;height:100%;width:100%;display:inline-block;font-size:13pt}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translate(-5px,6px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})}return e})();class b6 extends bi{click(t,n,i,o){t.addCanvasElements(new K(i,t.getNewColor()))}}class w6 extends bi{pointerMove(t,n,i,o,r){if(0===t.selection.size)super.pointerMove(t,n,i,o,r);else for(let s of t.selection.toArray())s instanceof K&&void 0!==s.x&&void 0!==s.y&&!s.dependent&&(s.x+=o.x-i.x,s.y+=o.y-i.y)}click(t,n,i,o){t.setSelection(i,!o.ctrlKey,r=>r instanceof K&&!r.dependent)}}class bo extends bi{constructor(t,n){super(),this.types1=t,this.types2=n}click(t,n,i,o){t.selection.empty();const r=t.getSelection(i,s=>void 0===this.selectedElement&&(qn(s,...this.types1)||qn(s,...this.types2))||qn(this.selectedElement,...this.types1)&&qn(s,...this.types2)||qn(this.selectedElement,...this.types2)&&qn(s,...this.types1));void 0!==r&&r!==this.selectedElement?void 0!==this.selectedElement?(qn(this.selectedElement,...this.types1)&&qn(r,...this.types2)?this.addCanvasElement(t,this.selectedElement,r):qn(this.selectedElement,...this.types2)&&qn(r,...this.types1)&&this.addCanvasElement(t,r,this.selectedElement),this.selectedElement=void 0):(this.selectedElement=r,t.selection.set(r)):this.selectedElement=void 0}}function qn(e,...t){for(let n of t)if(e instanceof n)return!0;return!1}class M6 extends bo{constructor(){super([K,Ee],[K,Ee])}addCanvasElement(t,n,i){t.addCanvasElements(_e.createConnection(n,i))}}class D6 extends bo{constructor(){super([K,Ee],[K,Ee])}addCanvasElement(t,n,i){t.addCanvasElements(new Bt(()=>[n.point,i.point],[n,i],()=>({p1:n.id,p2:i.id}),bt,"Verbindungsstrecke"))}}class E6 extends bo{constructor(){super([K,Ee],[K,Ee])}addCanvasElement(t,n,i){t.addCanvasElements(new Qt(()=>n.point,()=>void 0!==n.point&&void 0!==i.point?Math.sqrt((n.point.x-i.point.x)**2+(n.point.y-i.point.y)**2):void 0,[n,i],()=>({center:n.id,scdPoint:i.id}),bt,"Verbindungskreis"))}}class P1 extends bo{constructor(){super([K,Ee],[K,Ee])}click(t,n,i,o){const r=t.getSelection(i,s=>s instanceof Bt);void 0!==r?this.addCanvasElementFromLineSegment(t,r):super.click(t,n,i,o)}}class S6 extends P1{addCanvasElement(t,n,i){t.addCanvasElements(_e.createBisectionByPoints(n,i))}addCanvasElementFromLineSegment(t,n){t.addCanvasElements(_e.createBisectionByLineSegment(n))}}class P6 extends bo{constructor(){super([K,Ee],[_e,Bt])}addCanvasElement(t,n,i){t.addCanvasElements(_e.createParallel(n,i))}}class x6 extends bo{constructor(){super([K,Ee],[_e,Bt])}addCanvasElement(t,n,i){t.addCanvasElements(_e.createOrthogonal(n,i))}}class O6 extends bo{constructor(){super([_e,Bt,Qt],[_e,Bt,Qt])}addCanvasElement(t,n,i){const o=Ee.createIntersectionPoints(n,i);t.addCanvasElements(...o)}}class T6 extends P1{addCanvasElement(t,n,i){t.addCanvasElements(Ee.createMiddlePointByPoints(n,i))}addCanvasElementFromLineSegment(t,n){t.addCanvasElements(Ee.createMiddlePointByLineSegment(n))}}class x1 extends bi{click(t,n,i,o){const r=t.getSelection(i,s=>s instanceof K);if(void 0!==r){if(r===this.clickedElement1)return this.clickedElement1=this.clickedElement2,this.clickedElement2=void 0,void t.selection.remove(r);if(r===this.clickedElement2)return this.clickedElement2=void 0,void t.selection.remove(r);if((void 0===this.clickedElement1&&void 0===this.clickedElement2||void 0!==this.clickedElement1&&void 0!==this.clickedElement2)&&t.selection.empty(),void 0===this.clickedElement1)return this.clickedElement1=r,void t.selection.set(r);if(void 0===this.clickedElement2)return this.clickedElement2=r,void t.selection.alternate(r);{const s=this.clickedElement2,a=this.clickedElement1,c=r;this.clickedElement1=void 0,this.clickedElement2=void 0,this.addCanvasElement(t,a,s,c)}}else t.selection.empty(),this.clickedElement1=void 0,this.clickedElement2=void 0}}class I6 extends x1{addCanvasElement(t,n,i,o){t.addCanvasElements(_e.createAngleBisector(i,n,o))}}class k6 extends bo{constructor(){super([K,Ee],[Qt])}addCanvasElement(t,n,i){t.addCanvasElements(..._e.createTangens(n,i))}}class A6 extends bi{constructor(){super(...arguments),this.transformInvisibleColor=t=>_n(t)}click(t,n,i,o){const r=t.getSelection(i,()=>!0,!1);void 0!==r&&(r.visible=!r.visible)}}class N6 extends bi{click(t,n,i,o){const r=t.getSelection(i);void 0!==r&&(r.configuration.showLabel=!0!==r.configuration.showLabel,t.onCanvasElementChanged.emit(r))}}class R6 extends bi{pointerMove(t,n,i,o,r){if(0===t.selection.size)super.pointerMove(t,n,i,o,r);else for(let s of t.selection.toArray())if(s.configuration.showLabel&&s.configuration.label)if(n.config?.drawNewLabels){const a=n.zoom,l=(o.y-i.y)*a;s.labelTranslateX+=(o.x-i.x)*a,s.labelTranslateY+=l}else{const a=n.range,c=(o.x-i.x)/Math.abs(a.width),l=(o.y-i.y)/Math.abs(a.height);s.labelTranslateX+=c,s.labelTranslateY+=l}}click(t,n,i,o){t.setSelection(i,!o.ctrlKey)}}class F6 extends x1{addCanvasElement(t,n,i,o){t.addCanvasElements(new ar([n,i,o],t.getNewColor()))}}class L6 extends bi{constructor(t,n,i=Number.MAX_VALUE){super(),this.types=t,this.minElements=n,this.maxElements=i,this.clickedElements=[]}click(t,n,i,o){const r=t.getSelection(i,s=>qn(s,...this.types));if(void 0!==r)if(0===this.clickedElements.length)this.clickedElements.push(r),t.selection.set(r);else if(r===this.clickedElements[this.clickedElements.length-1])this.clickedElements.splice(this.clickedElements.length-1),-1===this.clickedElements.indexOf(r)&&t.selection.remove(r);else if(r===this.clickedElements[0]&&this.clickedElements.length+1>=this.minElements&&this.clickedElements.length+1<=this.maxElements){const s=[...this.clickedElements];this.clickedElements=[],t.selection.empty(),this.addCanvasElement(t,s)}else this.clickedElements.push(r),t.selection.add(r);else t.selection.empty(),this.clickedElements=[]}}class V6 extends L6{addCanvasElement(t,n){t.addCanvasElements(new Bc(()=>n.map(i=>i.point),n,()=>({points:n.map(i=>i.id)}),t.getNewColor(),"Polygon"))}constructor(){super([K],3)}}const B6=e=>({active:e});function z6(e,t){if(1&e){const n=mt();p(0,"div",5),N("click",function(){return ce(ae(n).$implicit.click())}),A(1,"img",6),p(2,"p"),b(3),m()()}if(2&e){const n=t.$implicit;T("title",n.tooltip)("ngClass",Ct(4,B6,n.isActivated())),y(),T("src","./assets/"+n.icon+".svg",ii),y(2),fe(n.title)}}function U6(e,t){if(1&e&&(p(0,"div",2)(1,"p",3),b(2),m(),Re(3,z6,4,6,"div",4),m()),2&e){const n=t.$implicit;y(2),fe(n.name),y(),T("ngForOf",n.modes)}}let j6=(()=>{class e{constructor(n){this.drawerService=n,this.groups=[{name:"Bewegungen und Sichtbarkeiten",modes:[new Mt(()=>this.drawerService,()=>new bi,"Bewegen","Bewege den Canvas und w\xe4hle Elemente aus","move"),new Mt(()=>this.drawerService,()=>new w6,"Verschieben","Verschiebe Punkte","movePoints"),new Mt(()=>this.drawerService,()=>new A6,"Anzeigen","Mache Elemente (un-)sichtbar","changeVisibility"),new Mt(()=>this.drawerService,()=>new N6,"Label anzeigen","Mache Labels (un-)sichtbar","showLabelVisibility"),new Mt(()=>this.drawerService,()=>new R6,"Label bewegen","Verschiebe Labels","moveLabels")]},{name:"Einfache Konstruktionen",modes:[new Mt(()=>this.drawerService,()=>new b6,"Punkte","Erstelle neue Punkte","points"),new Mt(()=>this.drawerService,()=>new M6,"Gerade","Erstelle eine neue Gerade mit zwei Punkten","line"),new Mt(()=>this.drawerService,()=>new D6,"Strecke","Erstelle eine neue Strecke zwischen zwei Punkten","lineSegment"),new Mt(()=>this.drawerService,()=>new E6,"Kreis","Erstelle einen neuen Kreis mit zwei Punkten","circle"),new Mt(()=>this.drawerService,()=>new V6,"Polygon","Erstelle ein neues Polygon mit mindestens drei Punkten","polygon")]},{name:"Weiter Konstruktionen",modes:[new Mt(()=>this.drawerService,()=>new O6,"Schnittpunkt","Mache den Schnittpunkt zwischen Geraden, Strecken und Kreisen","intersection"),new Mt(()=>this.drawerService,()=>new T6,"Mittelpunkt","Mache den Mittelpunkt einer Strecke oder zwischen zwei Punkten","middlePoint"),new Mt(()=>this.drawerService,()=>new S6,"Mittelsenk.","Mache die Mittelsenkrechte einer Strecke oder zwischen zwei Punkten","bisection"),new Mt(()=>this.drawerService,()=>new F6,"Winkel","Lege einen Winkel durch drei Punkte","angle"),new Mt(()=>this.drawerService,()=>new I6,"Winkelhalb.","Mache die Winkelhalbierende von drei Punkten","angleBisector"),new Mt(()=>this.drawerService,()=>new P6,"Parallel","Mache die Parallele zu einer Geraden durch einen Punkt","parallel"),new Mt(()=>this.drawerService,()=>new x6,"Lot","Mache den Lot zu eine Geraden durch einen Punkt","orthogonal"),new Mt(()=>this.drawerService,()=>new k6,"Tangente","Mache die Tangente an einen Kreis durch einen Punkt","tangens")]}]}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-geometry-tab"]],decls:2,vars:1,consts:[[1,"wrapper"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"groupName"],["class","tabHeader","tabindex","0",3,"title","ngClass","click",4,"ngFor","ngForOf"],["tabindex","0",1,"tabHeader",3,"click","title","ngClass"],[1,"icon",3,"src"]],template:function(i,o){1&i&&(p(0,"div",0),Re(1,U6,4,2,"div",1),m()),2&i&&(y(),T("ngForOf",o.groups))},dependencies:[Un,ps],styles:['.wrapper[_ngcontent-%COMP%]{--size: 70px;--margin: 9px;--border: 1px;--borderColor: #dfd7d2;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fff7f2}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;display:inline-block}.tabHeader[_ngcontent-%COMP%], .groupName[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.groupName[_ngcontent-%COMP%]{font-weight:700;font-size:large;margin-top:50px;margin-bottom:0}.group[_ngcontent-%COMP%]:first-child   .groupName[_ngcontent-%COMP%]{margin-top:0}.tabHeader[_ngcontent-%COMP%]:hover{background:#efe7e2}.tabHeader[_ngcontent-%COMP%]:active{background:#dfd7d2}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:-20px;text-align:center;line-height:2.5;font-size:smaller}.tabHeader.active[_ngcontent-%COMP%]{background:#dfd7d2}.wrapper[_ngcontent-%COMP%]{margin:16px}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;-webkit-user-select:none;user-select:none;pointer-events:none}']})}return e})();class Mt{constructor(t,n,i,o,r){this.drawerServiceProvider=t,this.getInstance=n,this.title=i,this.tooltip=o,this.icon=r}click(){this.drawerServiceProvider().mode=this.getInstance(!0)}isActivated(){const t=this.drawerServiceProvider().mode;return void 0!==t&&t.constructor===this.getInstance(!1).constructor}}const H6=["canvas"],$6=["wrapper"],qd="screenshot_range",Yd="screenshot_zoom",Zd="screenshot_resolution";let G6=(()=>{class e{get x(){return this._range.x}set x(n){this._range.x=n,this.save(),this.reload()}get y(){return this._range.y}set y(n){this._range.y=n,this.save(),this.reload()}get width(){return Math.abs(this._range.width)}set width(n){this._range.width=Math.abs(n),this.save(),this.reload()}get height(){return Math.abs(this._range.height)}set height(n){this._range.height=Math.abs(n),this.save(),this.reload()}get zoom(){return this._zoom}set zoom(n){n>0&&(this._zoom=n,this.save(),this.reload())}get resolution(){return this._resolution}set resolution(n){n>0&&(this._resolution=n,this.save(),this.reload())}constructor(n){this.drawerService=n,this._range={x:0,y:0,width:0,height:0},this._zoom=1,this._resolution=1,this.load()}ngOnInit(){}ngAfterViewInit(){this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.reload()}download(){const n=document.createElement("canvas");this.drawToCanvas(n);const i=document.createElement("a");i.download="export.png",i.href=n.toDataURL(),i.click(),this.dialog.close()}reset(){sessionStorage.removeItem(qd),sessionStorage.removeItem(Yd),sessionStorage.removeItem(Zd),this.load()}load(){this._range=sessionStorage[qd]?JSON.parse(sessionStorage[qd])??this.drawerService.renderingContext.range:this.drawerService.renderingContext.range,this._zoom=sessionStorage[Yd]?JSON.parse(sessionStorage[Yd])??this.drawerService.zoom:this.drawerService.zoom,this._resolution=sessionStorage[Zd]?JSON.parse(sessionStorage[Zd])??1:1,this.reload()}save(){sessionStorage[qd]=JSON.stringify(this._range),sessionStorage[Yd]=JSON.stringify(this._zoom),sessionStorage[Zd]=JSON.stringify(this._resolution)}drawToCanvas(n){this.drawerService.drawToCanvas(n,{x:0,y:0,width:this.width*this.zoom,height:this.height*this.zoom},{translateX:-this.x,translateY:-this.y,zoom:this.zoom,resolutionFactor:this.resolution})}reload(){this.canvasEl&&this.drawToCanvas(this.canvasEl)}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-screenshot-dialog"]],viewQuery:function(i,o){if(1&i&&(St(H6,5),St($6,5)),2&i){let r;vt(r=_t())&&(o.canvas=r.first),vt(r=_t())&&(o.wrapper=r.first)}},standalone:!0,features:[Pe],decls:34,vars:6,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"centered","maths"],["type","number","title","x",1,"input",3,"ngModelChange","ngModel"],["type","number","title","y",1,"input",3,"ngModelChange","ngModel"],["type","number","title","Breite",1,"input",3,"ngModelChange","ngModel"],["type","number","title","H\xf6he",1,"input","leftMargin",3,"ngModelChange","ngModel"],["type","number","title","Zoom",1,"input",3,"ngModelChange","ngModel"],["type","number","title","Hohe Werte erh\xf6hen die Aufl\xf6sung",1,"input",3,"ngModelChange","ngModel"],[1,"canvasWrapper"],["id","canvas",1,"canvas"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Download",1,"button","floatRight",3,"click"],["title","Ausschnitt zur\xfccksetzen",1,"button","floatRight",3,"click"]],template:function(i,o){if(1&i){const r=mt();p(0,"div",2)(1,"p",3),b(2,"Screenshot machen"),m(),p(3,"p",4),b(4,"Startpunkt:"),m(),p(5,"p",5),b(6," ("),p(7,"input",6),k("ngModelChange",function(a){return ae(r),x(o.x,a)||(o.x=a),ce(a)}),m(),b(8,"| "),p(9,"input",7),k("ngModelChange",function(a){return ae(r),x(o.y,a)||(o.y=a),ce(a)}),m(),b(10,") "),m(),p(11,"p",4),b(12,"Breite und H\xf6he:"),m(),p(13,"p",5)(14,"input",8),k("ngModelChange",function(a){return ae(r),x(o.width,a)||(o.width=a),ce(a)}),m(),p(15,"input",9),k("ngModelChange",function(a){return ae(r),x(o.height,a)||(o.height=a),ce(a)}),m()(),p(16,"p",4),b(17,"Zoom:"),m(),p(18,"p",5)(19,"input",10),k("ngModelChange",function(a){return ae(r),x(o.zoom,a)||(o.zoom=a),ce(a)}),m()(),p(20,"p",4),b(21,"Aufl\xf6sungsfaktor:"),m(),p(22,"p",5)(23,"input",11),k("ngModelChange",function(a){return ae(r),x(o.resolution,a)||(o.resolution=a),ce(a)}),m()(),p(24,"div",12,0),A(26,"canvas",13,1),m(),p(28,"button",14),N("click",function(){return ae(r),ce(o.dialog.close())}),b(29,"Schlie\xdfen"),m(),p(30,"button",15),N("click",function(){return ae(r),ce(o.download())}),b(31,"Download"),m(),p(32,"button",16),N("click",function(){return ae(r),ce(o.reset())}),b(33,"Zur\xfccksetzen"),m()()}2&i&&(y(7),I("ngModel",o.x),y(2),I("ngModel",o.y),y(5),I("ngModel",o.width),y(),I("ngModel",o.height),y(4),I("ngModel",o.zoom),y(4),I("ngModel",o.resolution))},dependencies:[As,qe,Cn,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:100px;display:unset}.leftMargin[_ngcontent-%COMP%]{margin-left:15px}.canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.canvasWrapper[_ngcontent-%COMP%]{padding:0;max-width:75vw}']})}return e})(),q6=(()=>{class e{constructor(n,i){this.drawerService=n,this.dialogService=i}ngOnInit(){}screenshot(){this.dialogService.createDialog(G6)?.open()}download(){const n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.drawerService.serialize())),i=document.createElement("a");i.href=n,i.download="download.json",i.click(),localStorage.setItem("serialized",JSON.stringify(this.drawerService.serialize()))}openFile(){let n=document.getElementById("inp");n.files&&n.files?.item(0)?.text().then(o=>{try{this.drawerService.loadFrom(JSON.parse(o))}catch(r){console.error(r)}})}reset(){try{this.drawerService.loadFrom({canvasElements:[],backgroundColor:{r:255,g:255,b:255},transformations:{translateX:7,translateY:-5,zoom:100},showGrid:!0,showGridNumbers:!0,drawNewLabels:!0})}catch{}}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn),D(er))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-settings-tab"]],standalone:!0,features:[Pe],decls:30,vars:5,consts:[[1,"wrapper"],[1,"showGrid","settingsContainer"],["type","checkbox","id","showGrid",3,"ngModelChange","ngModel"],["for","showGrid"],[1,"showGridNumbers","settingsContainer"],["type","checkbox","id","showGridNumbers",3,"ngModelChange","ngModel","disabled"],["for","showGridNumbers"],[1,"drawPointsEqually","settingsContainer"],["type","checkbox","id","drawPointsEqually",3,"ngModelChange","ngModel"],["for","drawPointsEqually"],[1,"drawNewLabels","settingsContainer"],["type","checkbox","id","drawNewLabels",3,"ngModelChange","ngModel"],["for","drawNewLabels"],[1,"screenshotDiv","settingsContainer"],["title","Mache ein Screenshot",1,"button",3,"click"],[1,"downloadDiv","settingsContainer"],["title","Speicher in einer Datei",1,"button",3,"click"],[1,"openDiv","settingsContainer"],[1,"button","inpButton"],["title","Lade aus einer Datei","id","inp","type","file","accept",".json",3,"change"],[1,"resetDiv","settingsContainer"],["title","Alles zur\xfccksetzen",1,"button",3,"click"]],template:function(i,o){1&i&&(p(0,"div",0)(1,"div",1)(2,"input",2),k("ngModelChange",function(s){return x(o.drawerService.showGrid,s)||(o.drawerService.showGrid=s),s}),m(),p(3,"label",3),b(4,"Koordinatengitter anzeigen"),m()(),p(5,"div",4)(6,"input",5),k("ngModelChange",function(s){return x(o.drawerService.showGridNumbers,s)||(o.drawerService.showGridNumbers=s),s}),m(),p(7,"label",6),b(8,"Achsenbeschriftung anzeigen"),m()(),p(9,"div",7)(10,"input",8),k("ngModelChange",function(s){return x(o.drawerService.drawPointsEqually,s)||(o.drawerService.drawPointsEqually=s),s}),m(),p(11,"label",9),b(12,"Punkte auf gleicher Ebene zeichnen"),m()(),p(13,"div",10)(14,"input",11),k("ngModelChange",function(s){return x(o.drawerService.drawNewLabels,s)||(o.drawerService.drawNewLabels=s),s}),m(),p(15,"label",12),b(16,"Neues Verschieben der Labels verwenden"),m()(),p(17,"div",13)(18,"button",14),N("click",function(){return o.screenshot()}),b(19,"Screenshot"),m()(),p(20,"div",15)(21,"button",16),N("click",function(){return o.download()}),b(22,"Herunterladen"),m()(),p(23,"div",17)(24,"button",18),b(25," \xd6ffnen "),p(26,"input",19),N("change",function(){return o.openFile()}),m()()(),p(27,"div",20)(28,"button",21),N("click",function(){return o.reset()}),b(29,"Zur\xfccksetzen"),m()()()),2&i&&(y(2),I("ngModel",o.drawerService.showGrid),y(4),I("ngModel",o.drawerService.showGridNumbers),T("disabled",!o.drawerService.showGrid),y(4),I("ngModel",o.drawerService.drawPointsEqually),y(4),I("ngModel",o.drawerService.drawNewLabels))},dependencies:[As,zi,Ye,We],styles:['.iconButton[_ngcontent-%COMP%]{--iconButtonSize: 46px;height:var(--iconButtonSize);width:var(--iconButtonSize);border:none;outline:none;background:#fff7f2;transition:all .1s ease-in-out;border-radius:50%;-webkit-user-select:none;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#efe7e2}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dfd7d2}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--iconButtonSize))}.iconButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{--size: 70%;width:var(--size);height:var(--size);margin-top:calc((100% - var(--size)) / 2)}.input[_ngcontent-%COMP%]{--padding: 7px;--iconButtonSize: 46px;--border: 1px;inset:0;height:calc(var(--iconButtonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#efe7e2;transition:.1s all ease-in-out;color:#555}.input.noMath[_ngcontent-%COMP%]{font-family:inherit!important}.input[_ngcontent-%COMP%]:hover{background:#dfd7d2}.input[_ngcontent-%COMP%]:focus{background:#fffbf9;border:1px solid #dfd7d2;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.select[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{outline:none;transition:all .1s ease-in-out;font-family:Trebuchet MS,Segoe UI,Calibri,"sans-serif";font-size:12pt;color:#885739;background-color:#fff7f2;border-radius:50vh;border:1px solid #b3917c;--button-height: 37px;--button-pading: 7px;height:var(--button-height)}.button[_ngcontent-%COMP%]{padding:var(--button-pading);-webkit-user-select:none;user-select:none}.select[_ngcontent-%COMP%]{padding-left:var(--button-pading);padding-right:var(--button-pading)}.button[_ngcontent-%COMP%]:hover, .select[_ngcontent-%COMP%]:hover{background-color:#ffe7d8}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background-color:#ffd2b6}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";-webkit-user-select:none;user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;-webkit-user-select:none;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{background-color:#805030;border:1px solid #805030;color:#fff7f2}.close[_ngcontent-%COMP%]:focus{background-color:#6b3714}.close[_ngcontent-%COMP%]:hover{background-color:#634734}.wrapper[_ngcontent-%COMP%]{padding:16px;font-family:Segoe UI,Calibri,"sans-serif";font-size:11pt;-webkit-user-select:none;user-select:none}.settingsContainer[_ngcontent-%COMP%]{margin-bottom:7px}.settingsContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:7px}.inpButton[_ngcontent-%COMP%]{position:relative}#inp[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}']})}return e})();const Y6=["tabPage"],Z6=e=>({empty:e}),Q6=e=>({active:e});function X6(e,t){if(1&e&&(p(0,"p"),b(1),m()),2&e){const n=H().$implicit;y(),fe(n.title)}}function K6(e,t){if(1&e&&(p(0,"span",10),b(1),m()),2&e){const n=H().$implicit;y(),fe(n.icon)}}function J6(e,t){if(1&e){const n=mt();p(0,"div",7),N("click",function(){const o=ae(n).$implicit;return ce(H().onTabClick(o))})("keydown",function(o){const r=ae(n).$implicit;return ce(H().onTabKeyboard(o,r))}),Re(1,X6,2,1,"p",8)(2,K6,2,1,"span",9),m()}if(2&e){const n=t.$implicit,i=H();T("title",n.title)("ngClass",Ct(4,Q6,i.currentTab==n)),y(),T("ngIf",!n.icon),y(),T("ngIf",n.icon)}}let eG=(()=>{class e{get currentTab(){return this._currentTab}set currentTab(n){n!=this.currentTab&&(this.currentComponent&&this.currentComponent.destroy(),n&&(this.currentComponent=this.tabPage.createComponent(n.componentType)),this._currentTab=n)}constructor(){this.tabs=[]}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.currentTab=this.tabs[0]},0)}onTabClick(n){this.currentTab=this.currentTab==n?void 0:n}onTabKeyboard(n,i){("Enter"==n.key||" "==n.key)&&this.onTabClick(i)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-tab-group"]],viewQuery:function(i,o){if(1&i&&St(Y6,5,nt),2&i){let r;vt(r=_t())&&(o.tabPage=r.first)}},inputs:{tabs:"tabs"},standalone:!0,features:[Pe],decls:7,vars:4,consts:[["tabPage",""],[1,"wrapper",3,"ngClass"],[1,"table"],[1,"tabHeaders"],["class","tabHeader","tabindex","0",3,"title","ngClass","click","keydown",4,"ngFor","ngForOf"],[1,"tabContainer"],[1,"tabPage"],["tabindex","0",1,"tabHeader",3,"click","keydown","title","ngClass"],[4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"]],template:function(i,o){1&i&&(p(0,"div",1)(1,"div",2)(2,"div",3),Re(3,J6,3,6,"div",4),m(),p(4,"div",5),A(5,"div",6,0),m()()()),2&i&&(T("ngClass",Ct(2,Z6,null==o.currentTab)),y(3),T("ngForOf",o.tabs))},dependencies:[Un,gs,ps],styles:['.wrapper[_ngcontent-%COMP%]{--size: 60px;--margin: 3px;--border: 1px;--borderColor: #afa7a2;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fff7f2}.tabHeaders[_ngcontent-%COMP%]{left:0;top:0;bottom:0;width:var(--width);padding:var(--padding);position:absolute;float:left;border-right:var(--border) solid var(--borderColor);border-bottom-right-radius:var(--borderRadius);border-top-right-radius:var(--borderRadius);background:#fff9f5;box-shadow:0 0 7px #5f5752;-webkit-user-select:none;user-select:none;overflow:auto;scrollbar-width:none}.tabHeaders[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;font-family:Segoe UI,Calibri,"sans-serif"}.tabHeader[_ngcontent-%COMP%]:hover{background:#efe7e2}.tabHeader[_ngcontent-%COMP%]:active{background:#dfd7d2}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.tabHeader.active[_ngcontent-%COMP%]{background:#dfd7d2}.tabContainer[_ngcontent-%COMP%]{inset:0;float:right;height:100%;width:calc(100% - var(--width) - 2 * var(--padding));background:var(--background);overflow:auto;border-right:1px solid #cfc7c2}.empty[_ngcontent-%COMP%]   .tabContainer[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--background)}.empty.wrapper[_ngcontent-%COMP%]{width:calc(var(--width) + 2 * var(--padding))}.table[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;clear:both;box-sizing:border-box;background-color:transparent;overflow:hidden}.material-symbols-outlined[_ngcontent-%COMP%]{transform:scale(1.5) translateY(4px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.tabPage[_ngcontent-%COMP%]{display:none}']})}return e})();const tG=["canvas"],nG=["wrapper"];let iG=(()=>{class e extends Lx{constructor(n){super(n)}ngAfterViewInit(){this.afterViewInit(this.canvas,this.wrapper)}tryLoadFromLastSession(){if(this.service instanceof Tn)try{this.service.loadFrom(JSON.parse(localStorage[_1]))}catch{}}static#e=this.\u0275fac=function(i){return new(i||e)(D(Tn))};static#t=this.\u0275cmp=L({type:e,selectors:[["prokyon-canvas"]],viewQuery:function(i,o){if(1&i&&(St(tG,5),St(nG,5)),2&i){let r;vt(r=_t())&&(o.canvas=r.first),vt(r=_t())&&(o.wrapper=r.first)}},features:[z],decls:4,vars:0,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],["id","canvas",1,"canvas"]],template:function(i,o){1&i&&(p(0,"div",2,0),A(2,"canvas",3,1),m())},styles:["#canvas[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{height:100%;margin-bottom:0;width:100%}#canvas[_ngcontent-%COMP%]{background-color:#ecedf0;overflow:hidden;touch-action:none}.wrapper[_ngcontent-%COMP%]{display:flex}"]})}return e})();const oG=[{path:"whiteboard",component:B$},{path:"prokyon",component:(()=>{class e{constructor(){this.tabs=[{title:"Formeln",icon:"functions",componentType:y6},{title:"Geometrie",icon:"radio_button_unchecked",componentType:j6},{title:"Einstellungen",icon:"settings",componentType:q6}]}renderMathToSvg(n){MathJax.Hub.Queue(["Typeset",MathJax.Hub,()=>{const i=MathJax.Hub.getAllJax()[0];MathJax.Hub.Queue(["Text",i,n]),MathJax.Hub.Queue(["Typeset",MathJax.Hub,()=>{const o=i.root.toSVG();this.displaySvg(o)}])}])}displaySvg(n){const i=document.getElementById("svg-container");i&&(i.innerHTML=n)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=L({type:e,selectors:[["app-prokyon"]],decls:4,vars:1,consts:[[1,"barWrapper"],[3,"tabs"],[1,"canvasWrapper"],[1,"canvas"]],template:function(i,o){1&i&&(p(0,"div",0),A(1,"app-tab-group",1),m(),p(2,"div",2),A(3,"prokyon-canvas",3),m()),2&i&&(y(),T("tabs",o.tabs))},dependencies:[eG,iG],styles:[".canvas[_ngcontent-%COMP%]{padding:0;margin:0}.barWrapper[_ngcontent-%COMP%]{width:30%;min-width:min(100%,500px);position:absolute;height:100%;pointer-events:none;overflow:hidden}.barWrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}.canvasWrapper[_ngcontent-%COMP%]{width:calc(100% - 60px);margin-left:60px;height:100%}"]})}return e})()},{path:"",redirectTo:"/whiteboard",pathMatch:"full"}];let rG=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ei({type:e});static#n=this.\u0275inj=Yn({imports:[$S.forRoot(oG),$S]})}return e})(),sG=(()=>{class e{constructor(n,i,o){this.dialogService=n,this.snackbarService=i,this.viewContainerRef=o,this.dialogService.rootViewContainerRef=this.viewContainerRef,this.snackbarService.rootViewContainerRef=this.viewContainerRef}ngAfterViewInit(){this.snackbarService.openSnackbar("Instabile Version in der Entwicklung. Einige Features sind m\xf6glicherweise unvollst\xe4ndig.",{duration:5e3,background:WS(_d[1])})}static#e=this.\u0275fac=function(i){return new(i||e)(D(er),D(Ac),D(nt))};static#t=this.\u0275cmp=L({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){1&i&&A(0,"router-outlet")},dependencies:[Dm]})}return e})(),aG=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Ei({type:e,bootstrap:[sG]});static#n=this.\u0275inj=Yn({imports:[q3,rG,As]})}return e})();G3().bootstrapModule(aG).catch(e=>console.error(e))}},zs=>{zs(zs.s=118)}]);